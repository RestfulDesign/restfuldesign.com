function CarouselInViewport(){function t(t,n,i,r,o){function s(){for(o=r;~o;o--)t[o].className=o==i?"t":"";i=++i%(r+1)}var r=t.length-1,i=i||0;e=setInterval(s,n),s()}var e,n=getChildrenOf("quotes"),i=document.querySelector(".quote-progress");verge.inViewport(i)?(t(n,15e3,0),console.log(verge.inViewport(i))):(console.log(verge.inViewport(i)),clearInterval(e))}function changeBackgroundColor(t){var e=window.pageYOffset||document.documentElement.scrollTop;t.className=e>20?"fixed":""}function getChildrenOf(t){return[].filter.call(document.getElementById(t).childNodes,function(t){return 1===t.nodeType})}window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;e.type="text/css",e.id="matchmediajs-test",n.parentNode.insertBefore(e,n),i="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var n="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=n:e.textContent=n,"1px"===i.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(t,e,n){"use strict";function i(t){var e,n,i,r,s,l=t||{};e=l.elements||o.getAllElements();for(var a=0,u=e.length;u>a;a++)if(n=e[a],i=n.parentNode,r=void 0,s=void 0,"IMG"===n.nodeName.toUpperCase()&&(n[o.ns]||(n[o.ns]={}),l.reevaluate||!n[o.ns].evaluated)){if("PICTURE"===i.nodeName.toUpperCase()){if(o.removeVideoShim(i),r=o.getMatch(n,i),r===!1)continue}else r=void 0;("PICTURE"===i.nodeName.toUpperCase()||n.srcset&&!o.srcsetSupported||!o.sizesSupported&&n.srcset&&n.srcset.indexOf("w")>-1)&&o.dodgeSrcset(n),r?(s=o.processSourceSet(r),o.applyBestCandidate(s,n)):(s=o.processSourceSet(n),(void 0===n.srcset||n[o.ns].srcset)&&o.applyBestCandidate(s,n)),n[o.ns].evaluated=!0}}function r(){function n(){var e;t._picturefillWorking||(t._picturefillWorking=!0,t.clearTimeout(e),e=t.setTimeout(function(){i({reevaluate:!0}),t._picturefillWorking=!1},60))}i();var r=setInterval(function(){return i(),/^loaded|^i|^c/.test(e.readyState)?void clearInterval(r):void 0},250);t.addEventListener?t.addEventListener("resize",n,!1):t.attachEvent&&t.attachEvent("onresize",n)}if(t.HTMLPictureElement)return void(t.picturefill=function(){});e.createElement("picture");var o={};o.ns="picturefill",function(){o.srcsetSupported="srcset"in n,o.sizesSupported="sizes"in n}(),o.trim=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},o.endsWith=function(t,e){return t.endsWith?t.endsWith(e):-1!==t.indexOf(e,t.length-e.length)},o.restrictsMixedContent=function(){return"https:"===t.location.protocol},o.matchesMedia=function(e){return t.matchMedia&&t.matchMedia(e).matches},o.getDpr=function(){return t.devicePixelRatio||1},o.getWidthFromLength=function(t){t=t&&t.indexOf("%")>-1==!1&&(parseFloat(t)>0||t.indexOf("calc(")>-1)?t:"100vw",t=t.replace("vw","%"),o.lengthEl||(o.lengthEl=e.createElement("div"),o.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden"),o.lengthEl.style.width=t,e.body.appendChild(o.lengthEl),o.lengthEl.className="helper-from-picturefill-js",o.lengthEl.offsetWidth<=0&&(o.lengthEl.style.width=e.documentElement.offsetWidth+"px");var n=o.lengthEl.offsetWidth;return e.body.removeChild(o.lengthEl),n},o.types={},o.types["image/jpeg"]=!0,o.types["image/gif"]=!0,o.types["image/png"]=!0,o.types["image/svg+xml"]=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),o.types["image/webp"]=function(){var t="image/webp";n.onerror=function(){o.types[t]=!1,i()},n.onload=function(){o.types[t]=1===n.width,i()},n.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},o.verifyTypeSupport=function(t){var e=t.getAttribute("type");return null===e||""===e?!0:"function"==typeof o.types[e]?(o.types[e](),"pending"):o.types[e]},o.parseSize=function(t){var e=/(\([^)]+\))?\s*(.+)/g.exec(t);return{media:e&&e[1],length:e&&e[2]}},o.findWidthFromSourceSize=function(t){for(var e,n=o.trim(t).split(/\s*,\s*/),i=0,r=n.length;r>i;i++){var s=n[i],l=o.parseSize(s),a=l.length,u=l.media;if(a&&(!u||o.matchesMedia(u))){e=a;break}}return o.getWidthFromLength(e)},o.parseSrcset=function(t){for(var e=[];""!==t;){t=t.replace(/^\s+/g,"");var n,i=t.search(/\s/g),r=null;if(-1!==i){n=t.slice(0,i);var o=n.slice(-1);if((","===o||""===n)&&(n=n.replace(/,+$/,""),r=""),t=t.slice(i+1),null===r){var s=t.indexOf(",");-1!==s?(r=t.slice(0,s),t=t.slice(s+1)):(r=t,t="")}}else n=t,t="";(n||r)&&e.push({url:n,descriptor:r})}return e},o.parseDescriptor=function(t,e){var n,i=e||"100vw",r=t&&t.replace(/(^\s+|\s+$)/g,""),s=o.findWidthFromSourceSize(i);if(r)for(var l=r.split(" "),a=l.length-1;a>=0;a--){var u=l[a],c=u&&u.slice(u.length-1);if("h"!==c&&"w"!==c||o.sizesSupported){if("x"===c){var d=u&&parseFloat(u,10);n=d&&!isNaN(d)?d:1}}else n=parseFloat(parseInt(u,10)/s)}return n||1},o.getCandidatesFromSourceSet=function(t,e){for(var n=o.parseSrcset(t),i=[],r=0,s=n.length;s>r;r++){var l=n[r];i.push({url:l.url,resolution:o.parseDescriptor(l.descriptor,e)})}return i},o.dodgeSrcset=function(t){t.srcset&&(t[o.ns].srcset=t.srcset,t.removeAttribute("srcset"))},o.processSourceSet=function(t){var e=t.getAttribute("srcset"),n=t.getAttribute("sizes"),i=[];return"IMG"===t.nodeName.toUpperCase()&&t[o.ns]&&t[o.ns].srcset&&(e=t[o.ns].srcset),e&&(i=o.getCandidatesFromSourceSet(e,n)),i},o.applyBestCandidate=function(t,e){var n,i,r;t.sort(o.ascendingSort),i=t.length,r=t[i-1];for(var s=0;i>s;s++)if(n=t[s],n.resolution>=o.getDpr()){r=n;break}if(r&&!o.endsWith(e.src,r.url))if(o.restrictsMixedContent()&&"http:"===r.url.substr(0,"http:".length).toLowerCase())void 0!==typeof console&&console.warn("Blocked mixed content image "+r.url);else{e.src=r.url,e.currentSrc=e.src;var l=e.style||{},a="webkitBackfaceVisibility"in l,u=l.zoom;a&&(l.zoom=".999",a=e.offsetWidth,l.zoom=u)}},o.ascendingSort=function(t,e){return t.resolution-e.resolution},o.removeVideoShim=function(t){var e=t.getElementsByTagName("video");if(e.length){for(var n=e[0],i=n.getElementsByTagName("source");i.length;)t.insertBefore(i[0],n);n.parentNode.removeChild(n)}},o.getAllElements=function(){for(var t=[],n=e.getElementsByTagName("img"),i=0,r=n.length;r>i;i++){var s=n[i];("PICTURE"===s.parentNode.nodeName.toUpperCase()||null!==s.getAttribute("srcset")||s[o.ns]&&null!==s[o.ns].srcset)&&t.push(s)}return t},o.getMatch=function(t,e){for(var n,i=e.childNodes,r=0,s=i.length;s>r;r++){var l=i[r];if(1===l.nodeType){if(l===t)return n;if("SOURCE"===l.nodeName.toUpperCase()){null!==l.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var a=l.getAttribute("media");if(l.getAttribute("srcset")&&(!a||o.matchesMedia(a))){var u=o.verifyTypeSupport(l);if(u===!0){n=l;break}if("pending"===u)return!1}}}}return n},r(),i._=o,"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof t&&(t.picturefill=i)}(this,this.document,new this.Image),function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():t[e]=n()}(this,"verge",function(){function t(){return{width:c(),height:d()}}function e(t,e){var n={};return e=+e||0,n.width=(n.right=t.right+e)-(n.left=t.left-e),n.height=(n.bottom=t.bottom+e)-(n.top=t.top-e),n}function n(t,n){return t=t&&!t.nodeType?t[0]:t,t&&1===t.nodeType?e(t.getBoundingClientRect(),n):!1}function i(e){e=null==e?t():1===e.nodeType?n(e):e;var i=e.height,r=e.width;return i="function"==typeof i?i.call(e):i,r="function"==typeof r?r.call(e):r,r/i}var r={},o="undefined"!=typeof window&&window,s="undefined"!=typeof document&&document,l=s&&s.documentElement,a=o.matchMedia||o.msMatchMedia,u=a?function(t){return!!a.call(o,t).matches}:function(){return!1},c=r.viewportW=function(){var t=l.clientWidth,e=o.innerWidth;return e>t?e:t},d=r.viewportH=function(){var t=l.clientHeight,e=o.innerHeight;return e>t?e:t};return r.mq=u,r.matchMedia=a?function(){return a.apply(o,arguments)}:function(){return{}},r.viewport=t,r.scrollX=function(){return o.pageXOffset||l.scrollLeft},r.scrollY=function(){return o.pageYOffset||l.scrollTop},r.rectangle=n,r.aspect=i,r.inX=function(t,e){var i=n(t,e);return!!i&&i.right>=0&&i.left<=c()},r.inY=function(t,e){var i=n(t,e);return!!i&&i.bottom>=0&&i.top<=d()},r.inViewport=function(t,e){var i=n(t,e);return!!i&&i.bottom>=0&&i.right>=0&&i.top<=d()&&i.left<=c()},r}),function(){var t,e,n,i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(){function t(){}return t.prototype.extend=function(t,e){var n,i;for(n in e)i=e[n],null==t[n]&&(t[n]=i);return t},t.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},t.prototype.addEvent=function(t,e,n){return null!=t.addEventListener?t.addEventListener(e,n,!1):null!=t.attachEvent?t.attachEvent("on"+e,n):t[e]=n},t.prototype.removeEvent=function(t,e,n){return null!=t.removeEventListener?t.removeEventListener(e,n,!1):null!=t.detachEvent?t.detachEvent("on"+e,n):delete t[e]},t.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t}(),n=this.WeakMap||this.MozWeakMap||(n=function(){function t(){this.keys=[],this.values=[]}return t.prototype.get=function(t){var e,n,i,r,o;for(o=this.keys,e=i=0,r=o.length;r>i;e=++i)if(n=o[e],n===t)return this.values[e]},t.prototype.set=function(t,e){var n,i,r,o,s;for(s=this.keys,n=r=0,o=s.length;o>r;n=++r)if(i=s[n],i===t)return void(this.values[n]=e);return this.keys.push(t),this.values.push(e)},t}()),t=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(t=function(){function t(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return t.notSupported=!0,t.prototype.observe=function(){},t}()),i=this.getComputedStyle||function(t){return this.getPropertyValue=function(e){var n;return"float"===e&&(e="styleFloat"),r.test(e)&&e.replace(r,function(t,e){return e.toUpperCase()}),(null!=(n=t.currentStyle)?n[e]:void 0)||null},this},r=/(\-([a-z]){1})/g,this.WOW=function(){function r(t){null==t&&(t={}),this.scrollCallback=o(this.scrollCallback,this),this.scrollHandler=o(this.scrollHandler,this),this.start=o(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),this.animationNameCache=new n}return r.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null},r.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},r.prototype.start=function(){var e,n,i,r;if(this.stopped=!1,this.boxes=function(){var t,n,i,r;for(i=this.element.querySelectorAll("."+this.config.boxClass),r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e);return r}.call(this),this.all=function(){var t,n,i,r;for(i=this.boxes,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e);return r}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(r=this.boxes,n=0,i=r.length;i>n;n++)e=r[n],this.applyStyle(e,!0);return this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new t(function(t){return function(e){var n,i,r,o,s;for(s=[],r=0,o=e.length;o>r;r++)i=e[r],s.push(function(){var t,e,r,o;for(r=i.addedNodes||[],o=[],t=0,e=r.length;e>t;t++)n=r[t],o.push(this.doSync(n));return o}.call(t));return s}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},r.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},r.prototype.sync=function(){return t.notSupported?this.doSync(this.element):void 0},r.prototype.doSync=function(t){var e,n,i,r,o;if(null==t&&(t=this.element),1===t.nodeType){for(t=t.parentNode||t,r=t.querySelectorAll("."+this.config.boxClass),o=[],n=0,i=r.length;i>n;n++)e=r[n],s.call(this.all,e)<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),o.push(this.scrolled=!0)):o.push(void 0);return o}},r.prototype.show=function(t){return this.applyStyle(t),t.className=""+t.className+" "+this.config.animateClass,null!=this.config.callback?this.config.callback(t):void 0},r.prototype.applyStyle=function(t,e){var n,i,r;return i=t.getAttribute("data-wow-duration"),n=t.getAttribute("data-wow-delay"),r=t.getAttribute("data-wow-iteration"),this.animate(function(o){return function(){return o.customStyle(t,e,i,n,r)}}(this))},r.prototype.animate=function(){return"requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()}}(),r.prototype.resetStyle=function(){var t,e,n,i,r;for(i=this.boxes,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.style.visibility="visible");return r},r.prototype.customStyle=function(t,e,n,i,r){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",n&&this.vendorSet(t.style,{animationDuration:n}),i&&this.vendorSet(t.style,{animationDelay:i}),r&&this.vendorSet(t.style,{animationIterationCount:r}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},r.prototype.vendors=["moz","webkit"],r.prototype.vendorSet=function(t,e){var n,i,r,o;o=[];for(n in e)i=e[n],t[""+n]=i,o.push(function(){var e,o,s,l;for(s=this.vendors,l=[],e=0,o=s.length;o>e;e++)r=s[e],l.push(t[""+r+n.charAt(0).toUpperCase()+n.substr(1)]=i);return l}.call(this));return o},r.prototype.vendorCSS=function(t,e){var n,r,o,s,l,a;for(r=i(t),n=r.getPropertyCSSValue(e),a=this.vendors,s=0,l=a.length;l>s;s++)o=a[s],n=n||r.getPropertyCSSValue("-"+o+"-"+e);return n},r.prototype.animationName=function(t){var e;try{e=this.vendorCSS(t,"animation-name").cssText}catch(n){e=i(t).getPropertyValue("animation-name")}return"none"===e?"":e},r.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},r.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},r.prototype.scrollHandler=function(){return this.scrolled=!0},r.prototype.scrollCallback=function(){var t;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var e,n,i,r;for(i=this.boxes,r=[],e=0,n=i.length;n>e;e++)t=i[e],t&&(this.isVisible(t)?this.show(t):r.push(t));return r}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},r.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},r.prototype.isVisible=function(t){var e,n,i,r,o;return n=t.getAttribute("data-wow-offset")||this.config.offset,o=window.pageYOffset,r=o+Math.min(this.element.clientHeight,this.util().innerHeight())-n,i=this.offsetTop(t),e=i+t.clientHeight,r>=i&&e>=o},r.prototype.util=function(){return null!=this._util?this._util:this._util=new e},r.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},r}()}.call(this),(new WOW).init(),window.addEventListener("load",function(){var t=document.getElementById("nav");changeBackgroundColor(t),CarouselInViewport(),window.onscroll=function(){changeBackgroundColor(t),CarouselInViewport()}},!1);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJwaWN0dXJlZmlsbC5qcyIsIndvdy5qcyJdLCJuYW1lcyI6WyJDYXJvdXNlbEluVmlld3BvcnQiLCJDYXJvdXNlbCIsImUiLCJzIiwiYyIsIm0iLCJpIiwiZiIsImNsYXNzTmFtZSIsImxlbmd0aCIsInF1b3RlSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInFvdXRlcyIsImdldENoaWxkcmVuT2YiLCJxdW90ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInZlcmdlIiwiaW5WaWV3cG9ydCIsImNvbnNvbGUiLCJsb2ciLCJjbGVhckludGVydmFsIiwiY2hhbmdlQmFja2dyb3VuZENvbG9yIiwiaWQiLCJ5Iiwid2luZG93IiwicGFnZVlPZmZzZXQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJmaWx0ZXIiLCJjYWxsIiwiZ2V0RWxlbWVudEJ5SWQiLCJjaGlsZE5vZGVzIiwibm9kZVR5cGUiLCJtYXRjaE1lZGlhIiwic3R5bGVNZWRpYSIsIm1lZGlhIiwic3R5bGUiLCJjcmVhdGVFbGVtZW50Iiwic2NyaXB0IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbmZvIiwidHlwZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJnZXRDb21wdXRlZFN0eWxlIiwiY3VycmVudFN0eWxlIiwibWF0Y2hNZWRpdW0iLCJ0ZXh0Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJ0ZXh0Q29udGVudCIsIndpZHRoIiwibWF0Y2hlcyIsInciLCJkb2MiLCJpbWFnZSIsInBpY3R1cmVmaWxsIiwib3B0IiwiZWxlbWVudHMiLCJlbGVtZW50IiwicGFyZW50IiwiZmlyc3RNYXRjaCIsImNhbmRpZGF0ZXMiLCJvcHRpb25zIiwicGYiLCJnZXRBbGxFbGVtZW50cyIsInBsZW4iLCJ1bmRlZmluZWQiLCJub2RlTmFtZSIsInRvVXBwZXJDYXNlIiwibnMiLCJyZWV2YWx1YXRlIiwiZXZhbHVhdGVkIiwicmVtb3ZlVmlkZW9TaGltIiwiZ2V0TWF0Y2giLCJzcmNzZXQiLCJzcmNzZXRTdXBwb3J0ZWQiLCJzaXplc1N1cHBvcnRlZCIsImluZGV4T2YiLCJkb2RnZVNyY3NldCIsInByb2Nlc3NTb3VyY2VTZXQiLCJhcHBseUJlc3RDYW5kaWRhdGUiLCJydW5QaWN0dXJlZmlsbCIsImNoZWNrUmVzaXplIiwicmVzaXplVGhyb3R0bGUiLCJfcGljdHVyZWZpbGxXb3JraW5nIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImludGVydmFsSWQiLCJ0ZXN0IiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsIkhUTUxQaWN0dXJlRWxlbWVudCIsInRyaW0iLCJzdHIiLCJyZXBsYWNlIiwiZW5kc1dpdGgiLCJzdWZmaXgiLCJyZXN0cmljdHNNaXhlZENvbnRlbnQiLCJsb2NhdGlvbiIsInByb3RvY29sIiwibWF0Y2hlc01lZGlhIiwiZ2V0RHByIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImdldFdpZHRoRnJvbUxlbmd0aCIsInBhcnNlRmxvYXQiLCJsZW5ndGhFbCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIm9mZnNldFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJ0eXBlcyIsImltcGxlbWVudGF0aW9uIiwiaGFzRmVhdHVyZSIsIm9uZXJyb3IiLCJvbmxvYWQiLCJzcmMiLCJ2ZXJpZnlUeXBlU3VwcG9ydCIsInNvdXJjZSIsImdldEF0dHJpYnV0ZSIsInBhcnNlU2l6ZSIsInNvdXJjZVNpemVTdHIiLCJtYXRjaCIsImV4ZWMiLCJmaW5kV2lkdGhGcm9tU291cmNlU2l6ZSIsInNvdXJjZVNpemVMaXN0U3RyIiwid2lubmluZ0xlbmd0aCIsInNvdXJjZVNpemVMaXN0Iiwic3BsaXQiLCJsZW4iLCJzb3VyY2VTaXplIiwicGFyc2VkU2l6ZSIsInBhcnNlU3Jjc2V0IiwidXJsIiwicG9zIiwic2VhcmNoIiwiZGVzY3JpcHRvciIsInNsaWNlIiwibGFzdCIsImRlc2Nwb3MiLCJwdXNoIiwicGFyc2VEZXNjcmlwdG9yIiwic2l6ZXNhdHRyIiwicmVzQ2FuZGlkYXRlIiwic2l6ZXMiLCJzaXplRGVzY3JpcHRvciIsIndpZHRoSW5Dc3NQaXhlbHMiLCJzcGxpdERlc2NyaXB0b3IiLCJjdXJyIiwibGFzdGNoYXIiLCJyZXMiLCJpc05hTiIsInBhcnNlSW50IiwiZ2V0Q2FuZGlkYXRlc0Zyb21Tb3VyY2VTZXQiLCJmb3JtYXR0ZWRDYW5kaWRhdGVzIiwiY2FuZGlkYXRlIiwicmVzb2x1dGlvbiIsImltZyIsInJlbW92ZUF0dHJpYnV0ZSIsImVsIiwicGljSW1nIiwiYmVzdENhbmRpZGF0ZSIsInNvcnQiLCJhc2NlbmRpbmdTb3J0Iiwic3Vic3RyIiwidG9Mb3dlckNhc2UiLCJ3YXJuIiwiY3VycmVudFNyYyIsIldlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eSIsImN1cnJlbnRab29tIiwiem9vbSIsImEiLCJiIiwicGljdHVyZSIsInZpZGVvcyIsInZpZGVvIiwidnNvdXJjZXMiLCJlbGVtcyIsImltZ3MiLCJoIiwiY3VyckltZyIsInNvdXJjZXMiLCJqIiwic2xlbiIsInR5cGVTdXBwb3J0ZWQiLCJfIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmluZSIsImFtZCIsInRoaXMiLCJJbWFnZSIsInJvb3QiLCJuYW1lIiwibWFrZSIsInZpZXdwb3J0Iiwidmlld3BvcnRXIiwiaGVpZ2h0Iiwidmlld3BvcnRIIiwiY2FsaWJyYXRlIiwiY29vcmRzIiwiY3VzaGlvbiIsIm8iLCJyZWN0YW5nbGUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhc3BlY3QiLCJ4cG9ydHMiLCJ3aW4iLCJkb2NFbGVtIiwibXEiLCJxIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJwYWdlWE9mZnNldCIsInNjcm9sbExlZnQiLCJyIiwicmlnaHQiLCJsZWZ0IiwiYm90dG9tIiwidG9wIiwiTXV0YXRpb25PYnNlcnZlciIsIlV0aWwiLCJXZWFrTWFwIiwiZ2V0Q29tcHV0ZWRTdHlsZVJYIiwiX19iaW5kIiwiZm4iLCJtZSIsIl9faW5kZXhPZiIsIml0ZW0iLCJsIiwicHJvdG90eXBlIiwiZXh0ZW5kIiwiY3VzdG9tIiwiZGVmYXVsdHMiLCJrZXkiLCJ2YWx1ZSIsImlzTW9iaWxlIiwiYWdlbnQiLCJhZGRFdmVudCIsImVsZW0iLCJldmVudCIsInJlbW92ZUV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJNb3pXZWFrTWFwIiwia2V5cyIsInZhbHVlcyIsImdldCIsIl9pIiwiX2xlbiIsIl9yZWYiLCJzZXQiLCJXZWJraXRNdXRhdGlvbk9ic2VydmVyIiwiTW96TXV0YXRpb25PYnNlcnZlciIsIm5vdFN1cHBvcnRlZCIsIm9ic2VydmUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicHJvcCIsIl9jaGFyIiwiV09XIiwic2Nyb2xsQ2FsbGJhY2siLCJzY3JvbGxIYW5kbGVyIiwic3RhcnQiLCJzY3JvbGxlZCIsImNvbmZpZyIsInV0aWwiLCJhbmltYXRpb25OYW1lQ2FjaGUiLCJib3hDbGFzcyIsImFuaW1hdGVDbGFzcyIsIm9mZnNldCIsIm1vYmlsZSIsImxpdmUiLCJjYWxsYmFjayIsImluaXQiLCJmaW5pc2hlZCIsImJveCIsInN0b3BwZWQiLCJib3hlcyIsIl9yZXN1bHRzIiwicXVlcnlTZWxlY3RvckFsbCIsImFsbCIsImRpc2FibGVkIiwicmVzZXRTdHlsZSIsImFwcGx5U3R5bGUiLCJpbnRlcnZhbCIsIl90aGlzIiwicmVjb3JkcyIsIm5vZGUiLCJyZWNvcmQiLCJfaiIsIl9sZW4xIiwiX2siLCJfbGVuMiIsIl9yZWYxIiwiX3Jlc3VsdHMxIiwiYWRkZWROb2RlcyIsImRvU3luYyIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJzdG9wIiwic3luYyIsInNob3ciLCJoaWRkZW4iLCJkZWxheSIsImR1cmF0aW9uIiwiaXRlcmF0aW9uIiwiYW5pbWF0ZSIsImN1c3RvbVN0eWxlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidmlzaWJpbGl0eSIsImNhY2hlQW5pbWF0aW9uTmFtZSIsInZlbmRvclNldCIsImFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRGVsYXkiLCJhbmltYXRpb25JdGVyYXRpb25Db3VudCIsImFuaW1hdGlvbk5hbWUiLCJjYWNoZWRBbmltYXRpb25OYW1lIiwidmVuZG9ycyIsInByb3BlcnRpZXMiLCJ2ZW5kb3IiLCJjaGFyQXQiLCJ2ZW5kb3JDU1MiLCJwcm9wZXJ0eSIsInJlc3VsdCIsImdldFByb3BlcnR5Q1NTVmFsdWUiLCJfZXJyb3IiLCJpc1Zpc2libGUiLCJvZmZzZXRUb3AiLCJvZmZzZXRQYXJlbnQiLCJ2aWV3Qm90dG9tIiwidmlld1RvcCIsIk1hdGgiLCJtaW4iLCJfdXRpbCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvcE5hdiIsIm9uc2Nyb2xsIl0sIm1hcHBpbmdzIjoiQUFvQkEsUUFBQUEsc0JBZUEsUUFBQUMsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FLQSxRQUFBQyxLQUNBLElBQUFELEVBQUFELEdBQUFDLEVBQUFBLElBQUFKLEVBQUFJLEdBQUFFLFVBQUFGLEdBQUFGLEVBQUEsSUFBQSxFQUFBQSxLQUFBQSxHQUFBQyxFQUFBLEdBTEEsR0FBQUEsR0FBQUgsRUFBQU8sT0FBQSxFQUNBTCxFQUFBQSxHQUFBLENBRUFNLEdBQUFDLFlBQUFKLEVBQUFKLEdBSUFJLElBckJBLEdBRUFHLEdBRkFFLEVBQUFDLGNBQUEsVUFDQUMsRUFBQUMsU0FBQUMsY0FBQSxrQkFHQUMsT0FBQUMsV0FBQUosSUFDQWIsRUFBQVcsRUFBQSxLQUFBLEdBQ0FPLFFBQUFDLElBQUFILE1BQUFDLFdBQUFKLE1BRUFLLFFBQUFDLElBQUFILE1BQUFDLFdBQUFKLElBRUFPLGNBQUFYLElBaUJBLFFBQUFZLHVCQUFBQyxHQUNBLEdBQUFDLEdBQUFDLE9BQUFDLGFBQUFYLFNBQUFZLGdCQUFBQyxTQUVBTCxHQUFBZixVQURBZ0IsRUFBQSxHQUNBLFFBRUEsR0FJQSxRQUFBWCxlQUFBVSxHQUNBLFNBQUFNLE9BQUFDLEtBQUFmLFNBQUFnQixlQUFBUixHQUFBUyxXQUFBLFNB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MkksVUFBQXBELEdBQ0EzRCxFQUFBQyxFQUFBMEQsRUFBQWhDLGFBQ0FzRixHQUFBaEgsR0FBQUQsR0FBQWtILEdBR0F2RSxFQUFBL0IsVUFBQXFDLEtBQUEsV0FDQSxNQUFBLE9BQUE3RSxLQUFBaUosTUFBQWpKLEtBQUFpSixNQUFBakosS0FBQWlKLE1BQUEsR0FBQWxILElBR0F3QyxFQUFBL0IsVUFBQXFELFNBQUEsV0FDQSxPQUFBN0YsS0FBQTRFLE9BQUFNLFFBQUFsRixLQUFBNkUsT0FBQS9CLFNBQUFvRyxVQUFBQyxZQUdBNUUsTUFJQXpPLEtBQUFrSyxPRnptQkEsR0FBQXVFLE1BQUFjLE9BRUE1UCxPQUFBbUUsaUJBQUEsT0FBQSxXQUNBLEdBQUF3UCxHQUFBclUsU0FBQWdCLGVBQUEsTUFHQVQsdUJBQUE4VCxHQUVBcFYscUJBR0F5QixPQUFBNFQsU0FBQSxXQUNBL1Qsc0JBQUE4VCxHQUNBcFYsd0JBRUEiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogU2l0ZSBjb2RlXG4gKi9cbm5ldyBXT1coKS5pbml0KCk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKSB7XG4gIHZhciB0b3BOYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdlwiKTtcbiAgXG5cbiAgY2hhbmdlQmFja2dyb3VuZENvbG9yKHRvcE5hdik7XG4gIFxuICBDYXJvdXNlbEluVmlld3BvcnQoKVxuICBcbiAgLy8gT24gc2Nyb2xsIGFjdGlvbnNcbiAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgY2hhbmdlQmFja2dyb3VuZENvbG9yKHRvcE5hdik7XG4gICAgQ2Fyb3VzZWxJblZpZXdwb3J0KCk7XG4gIH1cbn0sIGZhbHNlKVxuXG5mdW5jdGlvbiBDYXJvdXNlbEluVmlld3BvcnQoKSB7XG4gIFxuICB2YXIgcW91dGVzID0gZ2V0Q2hpbGRyZW5PZigncXVvdGVzJyksXG4gICAgICBxdW90ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucXVvdGUtcHJvZ3Jlc3NcIiksXG4gICAgICBxdW90ZUludGVydmFsO1xuICAgICAgXG4gIGlmICh2ZXJnZS5pblZpZXdwb3J0KHF1b3RlKSkge1xuICAgIENhcm91c2VsKHFvdXRlcywgMTUwMDAsIDApO1xuICAgIGNvbnNvbGUubG9nKHZlcmdlLmluVmlld3BvcnQocXVvdGUpKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKHZlcmdlLmluVmlld3BvcnQocXVvdGUpKVxuXG4gICAgY2xlYXJJbnRlcnZhbChxdW90ZUludGVydmFsKTtcbiAgfVxuICBcbiAgZnVuY3Rpb24gQ2Fyb3VzZWwoZSxzLGMsbSxpKSB7XG4gICAgdmFyIG0gPSBlLmxlbmd0aC0xLFxuICAgICAgICBjID0gY3x8MDtcbiAgICAgICAgXG4gICAgcXVvdGVJbnRlcnZhbCA9IHNldEludGVydmFsKGYscyk7XG4gICAgZnVuY3Rpb24gZigpIHtcbiAgICAgIGZvcihpPW07fmk7aS0tKWVbaV0uY2xhc3NOYW1lPWk9PWMgPyBcInRcIjpcIlwiO2M9KytjJShtKzEpO1xuICAgIH0gXG4gICAgZigpOyAgIFxuICB9XG59XG5cblxuXG5mdW5jdGlvbiBjaGFuZ2VCYWNrZ3JvdW5kQ29sb3IoaWQpIHtcbiAgdmFyIHkgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgaWYgKHkgPiAyMCkge1xuICAgIGlkLmNsYXNzTmFtZSA9IFwiZml4ZWRcIjsgXG4gIH0gZWxzZSB7ICAgICAgXG4gICAgaWQuY2xhc3NOYW1lID0gXCJcIjsgICAgICBcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDaGlsZHJlbk9mKGlkKSB7IFxuICByZXR1cm4gW10uZmlsdGVyLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLmNoaWxkTm9kZXMsIGZ1bmN0aW9uKHkpIHtcbiAgICByZXR1cm4gKHkubm9kZVR5cGUgPT09IDEpXG4gIH0pOyBcbn07IiwiLyohIFBpY3R1cmVmaWxsIC0gdjIuMi4wIC0gMjAxNC0xMC0zMFxuKiBodHRwOi8vc2NvdHRqZWhsLmdpdGh1Yi5pby9waWN0dXJlZmlsbFxuKiBDb3B5cmlnaHQgKGMpIDIwMTQgaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0amVobC9waWN0dXJlZmlsbC9ibG9iL21hc3Rlci9BdXRob3JzLnR4dDsgTGljZW5zZWQgTUlUICovXG4vKiEgbWF0Y2hNZWRpYSgpIHBvbHlmaWxsIC0gVGVzdCBhIENTUyBtZWRpYSB0eXBlL3F1ZXJ5IGluIEpTLiBBdXRob3JzICYgY29weXJpZ2h0IChjKSAyMDEyOiBTY290dCBKZWhsLCBQYXVsIElyaXNoLCBOaWNob2xhcyBaYWthcywgRGF2aWQgS25pZ2h0LiBEdWFsIE1JVC9CU0QgbGljZW5zZSAqL1xuXG53aW5kb3cubWF0Y2hNZWRpYSB8fCAod2luZG93Lm1hdGNoTWVkaWEgPSBmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gRm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBtYXRjaE1lZGl1bSBhcGkgc3VjaCBhcyBJRSA5IGFuZCB3ZWJraXRcbiAgdmFyIHN0eWxlTWVkaWEgPSAod2luZG93LnN0eWxlTWVkaWEgfHwgd2luZG93Lm1lZGlhKTtcblxuICAvLyBGb3IgdGhvc2UgdGhhdCBkb24ndCBzdXBwb3J0IG1hdGNoTWVkaXVtXG4gIGlmICghc3R5bGVNZWRpYSkge1xuICAgIHZhciBzdHlsZSAgICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyksXG4gICAgICBzY3JpcHQgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXSxcbiAgICAgIGluZm8gICAgICAgID0gbnVsbDtcblxuICAgIHN0eWxlLnR5cGUgID0gJ3RleHQvY3NzJztcbiAgICBzdHlsZS5pZCAgICA9ICdtYXRjaG1lZGlhanMtdGVzdCc7XG5cbiAgICBzY3JpcHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc3R5bGUsIHNjcmlwdCk7XG5cbiAgICAvLyAnc3R5bGUuY3VycmVudFN0eWxlJyBpcyB1c2VkIGJ5IElFIDw9IDggYW5kICd3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZScgZm9yIGFsbCBvdGhlciBicm93c2Vyc1xuICAgIGluZm8gPSAoJ2dldENvbXB1dGVkU3R5bGUnIGluIHdpbmRvdykgJiYgd2luZG93LmdldENvbXB1dGVkU3R5bGUoc3R5bGUsIG51bGwpIHx8IHN0eWxlLmN1cnJlbnRTdHlsZTtcblxuICAgIHN0eWxlTWVkaWEgPSB7XG4gICAgICBtYXRjaE1lZGl1bTogZnVuY3Rpb24obWVkaWEpIHtcbiAgICAgICAgdmFyIHRleHQgPSAnQG1lZGlhICcgKyBtZWRpYSArICd7ICNtYXRjaG1lZGlhanMtdGVzdCB7IHdpZHRoOiAxcHg7IH0gfSc7XG5cbiAgICAgICAgLy8gJ3N0eWxlLnN0eWxlU2hlZXQnIGlzIHVzZWQgYnkgSUUgPD0gOCBhbmQgJ3N0eWxlLnRleHRDb250ZW50JyBmb3IgYWxsIG90aGVyIGJyb3dzZXJzXG4gICAgICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gdGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUZXN0IGlmIG1lZGlhIHF1ZXJ5IGlzIHRydWUgb3IgZmFsc2VcbiAgICAgICAgcmV0dXJuIGluZm8ud2lkdGggPT09ICcxcHgnO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24obWVkaWEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlczogc3R5bGVNZWRpYS5tYXRjaE1lZGl1bShtZWRpYSB8fCAnYWxsJyksXG4gICAgICBtZWRpYTogbWVkaWEgfHwgJ2FsbCdcbiAgICB9O1xuICB9O1xufSgpKTtcbi8qISBQaWN0dXJlZmlsbCAtIFJlc3BvbnNpdmUgSW1hZ2VzIHRoYXQgd29yayB0b2RheS5cbiogIEF1dGhvcjogU2NvdHQgSmVobCwgRmlsYW1lbnQgR3JvdXAsIDIwMTIgKCBuZXcgcHJvcG9zYWwgaW1wbGVtZW50ZWQgYnkgU2hhd24gSmFuc2VwYXIgKVxuKiAgTGljZW5zZTogTUlUL0dQTHYyXG4qICBTcGVjOiBodHRwOi8vcGljdHVyZS5yZXNwb25zaXZlaW1hZ2VzLm9yZy9cbiovXG4oZnVuY3Rpb24oIHcsIGRvYywgaW1hZ2UgKSB7XG4gIC8vIEVuYWJsZSBzdHJpY3QgbW9kZVxuICBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBJZiBwaWN0dXJlIGlzIHN1cHBvcnRlZCwgd2VsbCwgdGhhdCdzIGF3ZXNvbWUuIExldCdzIGdldCBvdXR0YSBoZXJlLi4uXG4gIGlmICggdy5IVE1MUGljdHVyZUVsZW1lbnQgKSB7XG4gICAgdy5waWN0dXJlZmlsbCA9IGZ1bmN0aW9uKCkgeyB9O1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEhUTUwgc2hpbXx2IGl0IGZvciBvbGQgSUUgKElFOSB3aWxsIHN0aWxsIG5lZWQgdGhlIEhUTUwgdmlkZW8gdGFnIHdvcmthcm91bmQpXG4gIGRvYy5jcmVhdGVFbGVtZW50KCBcInBpY3R1cmVcIiApO1xuXG4gIC8vIGxvY2FsIG9iamVjdCBmb3IgbWV0aG9kIHJlZmVyZW5jZXMgYW5kIHRlc3RpbmcgZXhwb3N1cmVcbiAgdmFyIHBmID0ge307XG5cbiAgLy8gbmFtZXNwYWNlXG4gIHBmLm5zID0gXCJwaWN0dXJlZmlsbFwiO1xuXG4gIC8vIHNyY3NldCBzdXBwb3J0IHRlc3RcbiAgKGZ1bmN0aW9uKCkge1xuICAgIHBmLnNyY3NldFN1cHBvcnRlZCA9IFwic3Jjc2V0XCIgaW4gaW1hZ2U7XG4gICAgcGYuc2l6ZXNTdXBwb3J0ZWQgPSBcInNpemVzXCIgaW4gaW1hZ2U7XG4gIH0pKCk7XG5cbiAgLy8ganVzdCBhIHN0cmluZyB0cmltIHdvcmthcm91bmRcbiAgcGYudHJpbSA9IGZ1bmN0aW9uKCBzdHIgKSB7XG4gICAgcmV0dXJuIHN0ci50cmltID8gc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKCAvXlxccyt8XFxzKyQvZywgXCJcIiApO1xuICB9O1xuXG4gIC8vIGp1c3QgYSBzdHJpbmcgZW5kc1dpdGggd29ya2Fyb3VuZFxuICBwZi5lbmRzV2l0aCA9IGZ1bmN0aW9uKCBzdHIsIHN1ZmZpeCApIHtcbiAgICByZXR1cm4gc3RyLmVuZHNXaXRoID8gc3RyLmVuZHNXaXRoKCBzdWZmaXggKSA6IHN0ci5pbmRleE9mKCBzdWZmaXgsIHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoICkgIT09IC0xO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTaG9ydGN1dCBtZXRob2QgZm9yIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJhcHBzZWMvc3BlY3MvbWl4ZWRjb250ZW50LyNyZXN0cmljdHMtbWl4ZWQtY29udGVudCAoIGZvciBlYXN5IG92ZXJyaWRpbmcgaW4gdGVzdHMgKVxuICAgKi9cbiAgcGYucmVzdHJpY3RzTWl4ZWRDb250ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHcubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiaHR0cHM6XCI7XG4gIH07XG4gIC8qKlxuICAgKiBTaG9ydGN1dCBtZXRob2QgZm9yIG1hdGNoTWVkaWEgKCBmb3IgZWFzeSBvdmVycmlkaW5nIGluIHRlc3RzIClcbiAgICovXG5cbiAgcGYubWF0Y2hlc01lZGlhID0gZnVuY3Rpb24oIG1lZGlhICkge1xuICAgIHJldHVybiB3Lm1hdGNoTWVkaWEgJiYgdy5tYXRjaE1lZGlhKCBtZWRpYSApLm1hdGNoZXM7XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQgbWV0aG9kIGZvciBgZGV2aWNlUGl4ZWxSYXRpb2AgKCBmb3IgZWFzeSBvdmVycmlkaW5nIGluIHRlc3RzIClcbiAgcGYuZ2V0RHByID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICggdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEgKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IHdpZHRoIGluIGNzcyBwaXhlbCB2YWx1ZSBmcm9tIGEgXCJsZW5ndGhcIiB2YWx1ZVxuICAgKiBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtdmFsdWVzLTMvI2xlbmd0aC12YWx1ZVxuICAgKi9cbiAgcGYuZ2V0V2lkdGhGcm9tTGVuZ3RoID0gZnVuY3Rpb24oIGxlbmd0aCApIHtcbiAgICAvLyBJZiBhIGxlbmd0aCBpcyBzcGVjaWZpZWQgYW5kIGRvZXNu4oCZdCBjb250YWluIGEgcGVyY2VudGFnZSwgYW5kIGl0IGlzIGdyZWF0ZXIgdGhhbiAwIG9yIHVzaW5nIGBjYWxjYCwgdXNlIGl0LiBFbHNlLCB1c2UgdGhlIGAxMDB2d2AgZGVmYXVsdC5cbiAgICBsZW5ndGggPSBsZW5ndGggJiYgbGVuZ3RoLmluZGV4T2YoIFwiJVwiICkgPiAtMSA9PT0gZmFsc2UgJiYgKCBwYXJzZUZsb2F0KCBsZW5ndGggKSA+IDAgfHwgbGVuZ3RoLmluZGV4T2YoIFwiY2FsYyhcIiApID4gLTEgKSA/IGxlbmd0aCA6IFwiMTAwdndcIjtcblxuICAgIC8qKlxuICAgICAqIElmIGxlbmd0aCBpcyBzcGVjaWZpZWQgaW4gIGB2d2AgdW5pdHMsIHVzZSBgJWAgaW5zdGVhZCBzaW5jZSB0aGUgZGl2IHdl4oCZcmUgbWVhc3VyaW5nXG4gICAgICogaXMgaW5qZWN0ZWQgYXQgdGhlIHRvcCBvZiB0aGUgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBUT0RPOiBtYXliZSB3ZSBzaG91bGQgcHV0IHRoaXMgYmVoaW5kIGEgZmVhdHVyZSB0ZXN0IGZvciBgdndgP1xuICAgICAqL1xuICAgIGxlbmd0aCA9IGxlbmd0aC5yZXBsYWNlKCBcInZ3XCIsIFwiJVwiICk7XG5cbiAgICAvLyBDcmVhdGUgYSBjYWNoZWQgZWxlbWVudCBmb3IgZ2V0dGluZyBsZW5ndGggdmFsdWUgd2lkdGhzXG4gICAgaWYgKCAhcGYubGVuZ3RoRWwgKSB7XG4gICAgICBwZi5sZW5ndGhFbCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cbiAgICAgIC8vIFBvc2l0aW9uaW5nIHN0eWxlcyBoZWxwIHByZXZlbnQgcGFkZGluZy9tYXJnaW4vd2lkdGggb24gYGh0bWxgIG9yIGBib2R5YCBmcm9tIHRocm93aW5nIGNhbGN1bGF0aW9ucyBvZmYuXG4gICAgICBwZi5sZW5ndGhFbC5zdHlsZS5jc3NUZXh0ID0gXCJib3JkZXI6MDtkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZToxZW07bGVmdDowO21hcmdpbjowO3BhZGRpbmc6MDtwb3NpdGlvbjphYnNvbHV0ZTt2aXNpYmlsaXR5OmhpZGRlblwiO1xuICAgIH1cblxuICAgIHBmLmxlbmd0aEVsLnN0eWxlLndpZHRoID0gbGVuZ3RoO1xuXG4gICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQocGYubGVuZ3RoRWwpO1xuXG4gICAgLy8gQWRkIGEgY2xhc3MsIHNvIHRoYXQgZXZlcnlvbmUga25vd3Mgd2hlcmUgdGhpcyBlbGVtZW50IGNvbWVzIGZyb21cbiAgICBwZi5sZW5ndGhFbC5jbGFzc05hbWUgPSBcImhlbHBlci1mcm9tLXBpY3R1cmVmaWxsLWpzXCI7XG5cbiAgICBpZiAoIHBmLmxlbmd0aEVsLm9mZnNldFdpZHRoIDw9IDAgKSB7XG4gICAgICAvLyBTb21ldGhpbmcgaGFzIGdvbmUgd3JvbmcuIGBjYWxjKClgIGlzIGluIHVzZSBhbmQgdW5zdXBwb3J0ZWQsIG1vc3QgbGlrZWx5LiBEZWZhdWx0IHRvIGAxMDB2d2AgKGAxMDAlYCwgZm9yIGJyb2FkZXIgc3VwcG9ydC4pOlxuICAgICAgcGYubGVuZ3RoRWwuc3R5bGUud2lkdGggPSBkb2MuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoICsgXCJweFwiO1xuICAgIH1cblxuICAgIHZhciBvZmZzZXRXaWR0aCA9IHBmLmxlbmd0aEVsLm9mZnNldFdpZHRoO1xuXG4gICAgZG9jLmJvZHkucmVtb3ZlQ2hpbGQoIHBmLmxlbmd0aEVsICk7XG5cbiAgICByZXR1cm4gb2Zmc2V0V2lkdGg7XG4gIH07XG5cbiAgLy8gY29udGFpbmVyIG9mIHN1cHBvcnRlZCBtaW1lIHR5cGVzIHRoYXQgb25lIG1pZ2h0IG5lZWQgdG8gcXVhbGlmeSBiZWZvcmUgdXNpbmdcbiAgcGYudHlwZXMgPSAge307XG5cbiAgLy8gQWRkIHN1cHBvcnQgZm9yIHN0YW5kYXJkIG1pbWUgdHlwZXNcbiAgcGYudHlwZXNbIFwiaW1hZ2UvanBlZ1wiIF0gPSB0cnVlO1xuICBwZi50eXBlc1sgXCJpbWFnZS9naWZcIiBdID0gdHJ1ZTtcbiAgcGYudHlwZXNbIFwiaW1hZ2UvcG5nXCIgXSA9IHRydWU7XG5cbiAgLy8gdGVzdCBzdmcgc3VwcG9ydFxuICBwZi50eXBlc1sgXCJpbWFnZS9zdmcreG1sXCIgXSA9IGRvYy5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKFwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNJbWFnZVwiLCBcIjEuMVwiKTtcblxuICAvLyB0ZXN0IHdlYnAgc3VwcG9ydCwgb25seSB3aGVuIHRoZSBtYXJrdXAgY2FsbHMgZm9yIGl0XG4gIHBmLnR5cGVzWyBcImltYWdlL3dlYnBcIiBdID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gYmFzZWQgb24gTW9kZXJuaXpyJ3MgbG9zc2xlc3MgaW1nLXdlYnAgdGVzdFxuICAgIC8vIG5vdGU6IGFzeW5jaHJvbm91c1xuICAgIHZhciB0eXBlID0gXCJpbWFnZS93ZWJwXCI7XG5cbiAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBwZi50eXBlc1sgdHlwZSBdID0gZmFsc2U7XG4gICAgICBwaWN0dXJlZmlsbCgpO1xuICAgIH07XG4gICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICBwZi50eXBlc1sgdHlwZSBdID0gaW1hZ2Uud2lkdGggPT09IDE7XG4gICAgICBwaWN0dXJlZmlsbCgpO1xuICAgIH07XG4gICAgaW1hZ2Uuc3JjID0gXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaDRBQUFCWFJVSlFWbEE0VEJFQUFBQXZBQUFBQUFmUS8vNzN2LytCaU9oL0FBQT1cIjtcbiAgfTtcblxuICAvKipcbiAgICogVGFrZXMgYSBzb3VyY2UgZWxlbWVudCBhbmQgY2hlY2tzIGlmIGl0cyB0eXBlIGF0dHJpYnV0ZSBpcyBwcmVzZW50IGFuZCBpZiBzbywgc3VwcG9ydGVkXG4gICAqIE5vdGU6IGZvciB0eXBlIHRlc3RzIHRoYXQgcmVxdWlyZSBhIGFzeW5jIGxvZ2ljLFxuICAgKiB5b3UgY2FuIGRlZmluZSB0aGVtIGFzIGEgZnVuY3Rpb24gdGhhdCdsbCBydW4gb25seSBpZiB0aGF0IHR5cGUgbmVlZHMgdG8gYmUgdGVzdGVkLiBKdXN0IG1ha2UgdGhlIHRlc3QgZnVuY3Rpb24gY2FsbCBwaWN0dXJlZmlsbCBhZ2FpbiB3aGVuIGl0IGlzIGNvbXBsZXRlLlxuICAgKiBzZWUgdGhlIGFzeW5jIHdlYnAgdGVzdCBhYm92ZSBmb3IgZXhhbXBsZVxuICAgKi9cbiAgcGYudmVyaWZ5VHlwZVN1cHBvcnQgPSBmdW5jdGlvbiggc291cmNlICkge1xuICAgIHZhciB0eXBlID0gc291cmNlLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKTtcbiAgICAvLyBpZiB0eXBlIGF0dHJpYnV0ZSBleGlzdHMsIHJldHVybiB0ZXN0IHJlc3VsdCwgb3RoZXJ3aXNlIHJldHVybiB0cnVlXG4gICAgaWYgKCB0eXBlID09PSBudWxsIHx8IHR5cGUgPT09IFwiXCIgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgdGhlIHR5cGUgdGVzdCBpcyBhIGZ1bmN0aW9uLCBydW4gaXQgYW5kIHJldHVybiBcInBlbmRpbmdcIiBzdGF0dXMuIFRoZSBmdW5jdGlvbiB3aWxsIHJlcnVuIHBpY3R1cmVmaWxsIG9uIHBlbmRpbmcgZWxlbWVudHMgb25jZSBmaW5pc2hlZC5cbiAgICAgIGlmICggdHlwZW9mKCBwZi50eXBlc1sgdHlwZSBdICkgPT09IFwiZnVuY3Rpb25cIiApIHtcbiAgICAgICAgcGYudHlwZXNbIHR5cGUgXSgpO1xuICAgICAgICByZXR1cm4gXCJwZW5kaW5nXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcGYudHlwZXNbIHR5cGUgXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gUGFyc2VzIGFuIGluZGl2aWR1YWwgYHNpemVgIGFuZCByZXR1cm5zIHRoZSBsZW5ndGgsIGFuZCBvcHRpb25hbCBtZWRpYSBxdWVyeVxuICBwZi5wYXJzZVNpemUgPSBmdW5jdGlvbiggc291cmNlU2l6ZVN0ciApIHtcbiAgICB2YXIgbWF0Y2ggPSAvKFxcKFteKV0rXFwpKT9cXHMqKC4rKS9nLmV4ZWMoIHNvdXJjZVNpemVTdHIgKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWVkaWE6IG1hdGNoICYmIG1hdGNoWzFdLFxuICAgICAgbGVuZ3RoOiBtYXRjaCAmJiBtYXRjaFsyXVxuICAgIH07XG4gIH07XG5cbiAgLy8gVGFrZXMgYSBzdHJpbmcgb2Ygc2l6ZXMgYW5kIHJldHVybnMgdGhlIHdpZHRoIGluIHBpeGVscyBhcyBhIG51bWJlclxuICBwZi5maW5kV2lkdGhGcm9tU291cmNlU2l6ZSA9IGZ1bmN0aW9uKCBzb3VyY2VTaXplTGlzdFN0ciApIHtcbiAgICAvLyBTcGxpdCB1cCBzb3VyY2Ugc2l6ZSBsaXN0LCBpZSAoIG1heC13aWR0aDogMzBlbSApIDEwMCUsICggbWF4LXdpZHRoOiA1MGVtICkgNTAlLCAzMyVcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciAobWluLXdpZHRoOjMwZW0pIGNhbGMoMzAlIC0gMTVweClcbiAgICB2YXIgc291cmNlU2l6ZUxpc3QgPSBwZi50cmltKCBzb3VyY2VTaXplTGlzdFN0ciApLnNwbGl0KCAvXFxzKixcXHMqLyApLFxuICAgICAgd2lubmluZ0xlbmd0aDtcblxuICAgIGZvciAoIHZhciBpID0gMCwgbGVuID0gc291cmNlU2l6ZUxpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICAvLyBNYXRjaCA8bWVkaWEtY29uZGl0aW9uPj8gbGVuZ3RoLCBpZSAoIG1pbi13aWR0aDogNTBlbSApIDEwMCVcbiAgICAgIHZhciBzb3VyY2VTaXplID0gc291cmNlU2l6ZUxpc3RbIGkgXSxcbiAgICAgICAgLy8gU3BsaXQgXCIoIG1pbi13aWR0aDogNTBlbSApIDEwMCVcIiBpbnRvIHNlcGFyYXRlIHN0cmluZ3NcbiAgICAgICAgcGFyc2VkU2l6ZSA9IHBmLnBhcnNlU2l6ZSggc291cmNlU2l6ZSApLFxuICAgICAgICBsZW5ndGggPSBwYXJzZWRTaXplLmxlbmd0aCxcbiAgICAgICAgbWVkaWEgPSBwYXJzZWRTaXplLm1lZGlhO1xuXG4gICAgICBpZiAoICFsZW5ndGggKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCAhbWVkaWEgfHwgcGYubWF0Y2hlc01lZGlhKCBtZWRpYSApICkge1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBtZWRpYSBxdWVyeSBvciBpdCBtYXRjaGVzLCBjaG9vc2UgdGhpcyBhcyBvdXIgd2lubmluZyBsZW5ndGhcbiAgICAgICAgLy8gYW5kIGVuZCBhbGdvcml0aG1cbiAgICAgICAgd2lubmluZ0xlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcGFzcyB0aGUgbGVuZ3RoIHRvIGEgbWV0aG9kIHRoYXQgY2FuIHByb3Blcmx5IGRldGVybWluZSBsZW5ndGhcbiAgICAvLyBpbiBwaXhlbHMgYmFzZWQgb24gdGhlc2UgZm9ybWF0czogaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXZhbHVlcy0zLyNsZW5ndGgtdmFsdWVcbiAgICByZXR1cm4gcGYuZ2V0V2lkdGhGcm9tTGVuZ3RoKCB3aW5uaW5nTGVuZ3RoICk7XG4gIH07XG5cbiAgcGYucGFyc2VTcmNzZXQgPSBmdW5jdGlvbiggc3Jjc2V0ICkge1xuICAgIC8qKlxuICAgICAqIEEgbG90IG9mIHRoaXMgd2FzIHB1bGxlZCBmcm9tIEJvcmlzIFNtdXPigJkgcGFyc2VyIGZvciB0aGUgbm93LWRlZnVuY3QgV0hBVFdHIGBzcmNzZXRgXG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2JvcmlzbXVzL3NyY3NldC1wb2x5ZmlsbC9ibG9iL21hc3Rlci9qcy9zcmNzZXQtaW5mby5qc1xuICAgICAqXG4gICAgICogMS4gTGV0IGlucHV0IChgc3Jjc2V0YCkgYmUgdGhlIHZhbHVlIHBhc3NlZCB0byB0aGlzIGFsZ29yaXRobS5cbiAgICAgKiAyLiBMZXQgcG9zaXRpb24gYmUgYSBwb2ludGVyIGludG8gaW5wdXQsIGluaXRpYWxseSBwb2ludGluZyBhdCB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZy5cbiAgICAgKiAzLiBMZXQgcmF3IGNhbmRpZGF0ZXMgYmUgYW4gaW5pdGlhbGx5IGVtcHR5IG9yZGVyZWQgbGlzdCBvZiBVUkxzIHdpdGggYXNzb2NpYXRlZFxuICAgICAqICAgIHVucGFyc2VkIGRlc2NyaXB0b3JzLiBUaGUgb3JkZXIgb2YgZW50cmllcyBpbiB0aGUgbGlzdCBpcyB0aGUgb3JkZXIgaW4gd2hpY2ggZW50cmllc1xuICAgICAqICAgIGFyZSBhZGRlZCB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICB2YXIgY2FuZGlkYXRlcyA9IFtdO1xuXG4gICAgd2hpbGUgKCBzcmNzZXQgIT09IFwiXCIgKSB7XG4gICAgICBzcmNzZXQgPSBzcmNzZXQucmVwbGFjZSggL15cXHMrL2csIFwiXCIgKTtcblxuICAgICAgLy8gNS4gQ29sbGVjdCBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IHNwYWNlIGNoYXJhY3RlcnMsIGFuZCBsZXQgdGhhdCBiZSB1cmwuXG4gICAgICB2YXIgcG9zID0gc3Jjc2V0LnNlYXJjaCgvXFxzL2cpLFxuICAgICAgICB1cmwsIGRlc2NyaXB0b3IgPSBudWxsO1xuXG4gICAgICBpZiAoIHBvcyAhPT0gLTEgKSB7XG4gICAgICAgIHVybCA9IHNyY3NldC5zbGljZSggMCwgcG9zICk7XG5cbiAgICAgICAgdmFyIGxhc3QgPSB1cmwuc2xpY2UoLTEpO1xuXG4gICAgICAgIC8vIDYuIElmIHVybCBlbmRzIHdpdGggYSBVKzAwMkMgQ09NTUEgY2hhcmFjdGVyICgsKSwgcmVtb3ZlIHRoYXQgY2hhcmFjdGVyIGZyb20gdXJsXG4gICAgICAgIC8vIGFuZCBsZXQgZGVzY3JpcHRvcnMgYmUgdGhlIGVtcHR5IHN0cmluZy4gT3RoZXJ3aXNlLCBmb2xsb3cgdGhlc2Ugc3Vic3RlcHNcbiAgICAgICAgLy8gNi4xLiBJZiB1cmwgaXMgZW1wdHksIHRoZW4ganVtcCB0byB0aGUgc3RlcCBsYWJlbGVkIGRlc2NyaXB0b3IgcGFyc2VyLlxuXG4gICAgICAgIGlmICggbGFzdCA9PT0gXCIsXCIgfHwgdXJsID09PSBcIlwiICkge1xuICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCAvLCskLywgXCJcIiApO1xuICAgICAgICAgIGRlc2NyaXB0b3IgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHNyY3NldCA9IHNyY3NldC5zbGljZSggcG9zICsgMSApO1xuXG4gICAgICAgIC8vIDYuMi4gQ29sbGVjdCBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IFUrMDAyQyBDT01NQSBjaGFyYWN0ZXJzICgsKSwgYW5kXG4gICAgICAgIC8vIGxldCB0aGF0IGJlIGRlc2NyaXB0b3JzLlxuICAgICAgICBpZiAoIGRlc2NyaXB0b3IgPT09IG51bGwgKSB7XG4gICAgICAgICAgdmFyIGRlc2Nwb3MgPSBzcmNzZXQuaW5kZXhPZiggXCIsXCIgKTtcbiAgICAgICAgICBpZiAoIGRlc2Nwb3MgIT09IC0xICkge1xuICAgICAgICAgICAgZGVzY3JpcHRvciA9IHNyY3NldC5zbGljZSggMCwgZGVzY3BvcyApO1xuICAgICAgICAgICAgc3Jjc2V0ID0gc3Jjc2V0LnNsaWNlKCBkZXNjcG9zICsgMSApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9yID0gc3Jjc2V0O1xuICAgICAgICAgICAgc3Jjc2V0ID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVybCA9IHNyY3NldDtcbiAgICAgICAgc3Jjc2V0ID0gXCJcIjtcbiAgICAgIH1cblxuICAgICAgLy8gNy4gQWRkIHVybCB0byByYXcgY2FuZGlkYXRlcywgYXNzb2NpYXRlZCB3aXRoIGRlc2NyaXB0b3JzLlxuICAgICAgaWYgKCB1cmwgfHwgZGVzY3JpcHRvciApIHtcbiAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHtcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2FuZGlkYXRlcztcbiAgfTtcblxuICBwZi5wYXJzZURlc2NyaXB0b3IgPSBmdW5jdGlvbiggZGVzY3JpcHRvciwgc2l6ZXNhdHRyICkge1xuICAgIC8vIDExLiBEZXNjcmlwdG9yIHBhcnNlcjogTGV0IGNhbmRpZGF0ZXMgYmUgYW4gaW5pdGlhbGx5IGVtcHR5IHNvdXJjZSBzZXQuIFRoZSBvcmRlciBvZiBlbnRyaWVzIGluIHRoZSBsaXN0XG4gICAgLy8gaXMgdGhlIG9yZGVyIGluIHdoaWNoIGVudHJpZXMgYXJlIGFkZGVkIHRvIHRoZSBsaXN0LlxuICAgIHZhciBzaXplcyA9IHNpemVzYXR0ciB8fCBcIjEwMHZ3XCIsXG4gICAgICBzaXplRGVzY3JpcHRvciA9IGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5yZXBsYWNlKCAvKF5cXHMrfFxccyskKS9nLCBcIlwiICksXG4gICAgICB3aWR0aEluQ3NzUGl4ZWxzID0gcGYuZmluZFdpZHRoRnJvbVNvdXJjZVNpemUoIHNpemVzICksXG4gICAgICByZXNDYW5kaWRhdGU7XG5cbiAgICAgIGlmICggc2l6ZURlc2NyaXB0b3IgKSB7XG4gICAgICAgIHZhciBzcGxpdERlc2NyaXB0b3IgPSBzaXplRGVzY3JpcHRvci5zcGxpdChcIiBcIik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHNwbGl0RGVzY3JpcHRvci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHZhciBjdXJyID0gc3BsaXREZXNjcmlwdG9yWyBpIF0sXG4gICAgICAgICAgICBsYXN0Y2hhciA9IGN1cnIgJiYgY3Vyci5zbGljZSggY3Vyci5sZW5ndGggLSAxICk7XG5cbiAgICAgICAgICBpZiAoICggbGFzdGNoYXIgPT09IFwiaFwiIHx8IGxhc3RjaGFyID09PSBcIndcIiApICYmICFwZi5zaXplc1N1cHBvcnRlZCApIHtcbiAgICAgICAgICAgIHJlc0NhbmRpZGF0ZSA9IHBhcnNlRmxvYXQoICggcGFyc2VJbnQoIGN1cnIsIDEwICkgLyB3aWR0aEluQ3NzUGl4ZWxzICkgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCBsYXN0Y2hhciA9PT0gXCJ4XCIgKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gY3VyciAmJiBwYXJzZUZsb2F0KCBjdXJyLCAxMCApO1xuICAgICAgICAgICAgcmVzQ2FuZGlkYXRlID0gcmVzICYmICFpc05hTiggcmVzICkgPyByZXMgOiAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIHJldHVybiByZXNDYW5kaWRhdGUgfHwgMTtcbiAgfTtcblxuICAvKipcbiAgICogVGFrZXMgYSBzcmNzZXQgaW4gdGhlIGZvcm0gb2YgdXJsL1xuICAgKiBleC4gXCJpbWFnZXMvcGljLW1lZGl1bS5wbmcgMXgsIGltYWdlcy9waWMtbWVkaXVtLTJ4LnBuZyAyeFwiIG9yXG4gICAqICAgICBcImltYWdlcy9waWMtbWVkaXVtLnBuZyA0MDB3LCBpbWFnZXMvcGljLW1lZGl1bS0yeC5wbmcgODAwd1wiIG9yXG4gICAqICAgICBcImltYWdlcy9waWMtc21hbGwucG5nXCJcbiAgICogR2V0IGFuIGFycmF5IG9mIGltYWdlIGNhbmRpZGF0ZXMgaW4gdGhlIGZvcm0gb2ZcbiAgICogICAgICB7dXJsOiBcIi9mb28vYmFyLnBuZ1wiLCByZXNvbHV0aW9uOiAxfVxuICAgKiB3aGVyZSByZXNvbHV0aW9uIGlzIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzcy12YWx1ZXMtMy8jcmVzb2x1dGlvbi12YWx1ZVxuICAgKiBJZiBzaXplcyBpcyBzcGVjaWZpZWQsIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZFxuICAgKi9cbiAgcGYuZ2V0Q2FuZGlkYXRlc0Zyb21Tb3VyY2VTZXQgPSBmdW5jdGlvbiggc3Jjc2V0LCBzaXplcyApIHtcbiAgICB2YXIgY2FuZGlkYXRlcyA9IHBmLnBhcnNlU3Jjc2V0KCBzcmNzZXQgKSxcbiAgICAgIGZvcm1hdHRlZENhbmRpZGF0ZXMgPSBbXTtcblxuICAgIGZvciAoIHZhciBpID0gMCwgbGVuID0gY2FuZGlkYXRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgIHZhciBjYW5kaWRhdGUgPSBjYW5kaWRhdGVzWyBpIF07XG5cbiAgICAgIGZvcm1hdHRlZENhbmRpZGF0ZXMucHVzaCh7XG4gICAgICAgIHVybDogY2FuZGlkYXRlLnVybCxcbiAgICAgICAgcmVzb2x1dGlvbjogcGYucGFyc2VEZXNjcmlwdG9yKCBjYW5kaWRhdGUuZGVzY3JpcHRvciwgc2l6ZXMgKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmb3JtYXR0ZWRDYW5kaWRhdGVzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBpZiBpdCdzIGFuIGltZyBlbGVtZW50IGFuZCBpdCBoYXMgYSBzcmNzZXQgcHJvcGVydHksXG4gICAqIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSBhdHRyaWJ1dGUgc28gd2UgY2FuIG1hbmlwdWxhdGUgc3JjXG4gICAqICh0aGUgcHJvcGVydHkncyBleGlzdGVuY2UgaW5mZXJzIG5hdGl2ZSBzcmNzZXQgc3VwcG9ydCwgYW5kIGEgc3Jjc2V0LXN1cHBvcnRpbmcgYnJvd3NlciB3aWxsIHByaW9yaXRpemUgc3Jjc2V0J3MgdmFsdWUgb3ZlciBvdXIgd2lubmluZyBwaWN0dXJlIGNhbmRpZGF0ZSlcbiAgICogdGhpcyBtb3ZlcyBzcmNzZXQncyB2YWx1ZSB0byBtZW1vcnkgZm9yIGxhdGVyIHVzZSBhbmQgcmVtb3ZlcyB0aGUgYXR0clxuICAgKi9cbiAgcGYuZG9kZ2VTcmNzZXQgPSBmdW5jdGlvbiggaW1nICkge1xuICAgIGlmICggaW1nLnNyY3NldCApIHtcbiAgICAgIGltZ1sgcGYubnMgXS5zcmNzZXQgPSBpbWcuc3Jjc2V0O1xuICAgICAgaW1nLnJlbW92ZUF0dHJpYnV0ZSggXCJzcmNzZXRcIiApO1xuICAgIH1cbiAgfTtcblxuICAvLyBBY2NlcHQgYSBzb3VyY2Ugb3IgaW1nIGVsZW1lbnQgYW5kIHByb2Nlc3MgaXRzIHNyY3NldCBhbmQgc2l6ZXMgYXR0cnNcbiAgcGYucHJvY2Vzc1NvdXJjZVNldCA9IGZ1bmN0aW9uKCBlbCApIHtcbiAgICB2YXIgc3Jjc2V0ID0gZWwuZ2V0QXR0cmlidXRlKCBcInNyY3NldFwiICksXG4gICAgICBzaXplcyA9IGVsLmdldEF0dHJpYnV0ZSggXCJzaXplc1wiICksXG4gICAgICBjYW5kaWRhdGVzID0gW107XG5cbiAgICAvLyBpZiBpdCdzIGFuIGltZyBlbGVtZW50LCB1c2UgdGhlIGNhY2hlZCBzcmNzZXQgcHJvcGVydHkgKGRlZmluZWQgb3Igbm90KVxuICAgIGlmICggZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJJTUdcIiAmJiBlbFsgcGYubnMgXSAmJiBlbFsgcGYubnMgXS5zcmNzZXQgKSB7XG4gICAgICBzcmNzZXQgPSBlbFsgcGYubnMgXS5zcmNzZXQ7XG4gICAgfVxuXG4gICAgaWYgKCBzcmNzZXQgKSB7XG4gICAgICBjYW5kaWRhdGVzID0gcGYuZ2V0Q2FuZGlkYXRlc0Zyb21Tb3VyY2VTZXQoIHNyY3NldCwgc2l6ZXMgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbmRpZGF0ZXM7XG4gIH07XG5cbiAgcGYuYXBwbHlCZXN0Q2FuZGlkYXRlID0gZnVuY3Rpb24oIGNhbmRpZGF0ZXMsIHBpY0ltZyApIHtcbiAgICB2YXIgY2FuZGlkYXRlLFxuICAgICAgbGVuZ3RoLFxuICAgICAgYmVzdENhbmRpZGF0ZTtcblxuICAgIGNhbmRpZGF0ZXMuc29ydCggcGYuYXNjZW5kaW5nU29ydCApO1xuXG4gICAgbGVuZ3RoID0gY2FuZGlkYXRlcy5sZW5ndGg7XG4gICAgYmVzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZXNbIGxlbmd0aCAtIDEgXTtcblxuICAgIGZvciAoIHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrICkge1xuICAgICAgY2FuZGlkYXRlID0gY2FuZGlkYXRlc1sgaSBdO1xuICAgICAgaWYgKCBjYW5kaWRhdGUucmVzb2x1dGlvbiA+PSBwZi5nZXREcHIoKSApIHtcbiAgICAgICAgYmVzdENhbmRpZGF0ZSA9IGNhbmRpZGF0ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBiZXN0Q2FuZGlkYXRlICYmICFwZi5lbmRzV2l0aCggcGljSW1nLnNyYywgYmVzdENhbmRpZGF0ZS51cmwgKSApIHtcbiAgICAgIGlmICggcGYucmVzdHJpY3RzTWl4ZWRDb250ZW50KCkgJiYgYmVzdENhbmRpZGF0ZS51cmwuc3Vic3RyKDAsIFwiaHR0cDpcIi5sZW5ndGgpLnRvTG93ZXJDYXNlKCkgPT09IFwiaHR0cDpcIiApIHtcbiAgICAgICAgaWYgKCB0eXBlb2YgY29uc29sZSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgIGNvbnNvbGUud2FybiggXCJCbG9ja2VkIG1peGVkIGNvbnRlbnQgaW1hZ2UgXCIgKyBiZXN0Q2FuZGlkYXRlLnVybCApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwaWNJbWcuc3JjID0gYmVzdENhbmRpZGF0ZS51cmw7XG4gICAgICAgIC8vIGN1cnJlbnRTcmMgYXR0cmlidXRlIGFuZCBwcm9wZXJ0eSB0byBtYXRjaFxuICAgICAgICAvLyBodHRwOi8vcGljdHVyZS5yZXNwb25zaXZlaW1hZ2VzLm9yZy8jdGhlLWltZy1lbGVtZW50XG4gICAgICAgIHBpY0ltZy5jdXJyZW50U3JjID0gcGljSW1nLnNyYztcblxuICAgICAgICB2YXIgc3R5bGUgPSBwaWNJbWcuc3R5bGUgfHwge30sXG4gICAgICAgICAgV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5ID0gXCJ3ZWJraXRCYWNrZmFjZVZpc2liaWxpdHlcIiBpbiBzdHlsZSxcbiAgICAgICAgICBjdXJyZW50Wm9vbSA9IHN0eWxlLnpvb207XG5cbiAgICAgICAgaWYgKFdlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eSkgeyAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9zY290dGplaGwvcGljdHVyZWZpbGwvaXNzdWVzLzMzMlxuICAgICAgICAgIHN0eWxlLnpvb20gPSBcIi45OTlcIjtcblxuICAgICAgICAgIFdlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eSA9IHBpY0ltZy5vZmZzZXRXaWR0aDtcblxuICAgICAgICAgIHN0eWxlLnpvb20gPSBjdXJyZW50Wm9vbTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBwZi5hc2NlbmRpbmdTb3J0ID0gZnVuY3Rpb24oIGEsIGIgKSB7XG4gICAgcmV0dXJuIGEucmVzb2x1dGlvbiAtIGIucmVzb2x1dGlvbjtcbiAgfTtcblxuICAvKipcbiAgICogSW4gSUU5LCA8c291cmNlPiBlbGVtZW50cyBnZXQgcmVtb3ZlZCBpZiB0aGV5IGFyZW4ndCBjaGlsZHJlbiBvZlxuICAgKiB2aWRlbyBlbGVtZW50cy4gVGh1cywgd2UgY29uZGl0aW9uYWxseSB3cmFwIHNvdXJjZSBlbGVtZW50c1xuICAgKiB1c2luZyA8IS0tW2lmIElFIDldPjx2aWRlbyBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+PCFbZW5kaWZdLS0+XG4gICAqIGFuZCBtdXN0IGFjY291bnQgZm9yIHRoYXQgaGVyZSBieSBtb3ZpbmcgdGhvc2Ugc291cmNlIGVsZW1lbnRzXG4gICAqIGJhY2sgaW50byB0aGUgcGljdHVyZSBlbGVtZW50LlxuICAgKi9cbiAgcGYucmVtb3ZlVmlkZW9TaGltID0gZnVuY3Rpb24oIHBpY3R1cmUgKSB7XG4gICAgdmFyIHZpZGVvcyA9IHBpY3R1cmUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwidmlkZW9cIiApO1xuICAgIGlmICggdmlkZW9zLmxlbmd0aCApIHtcbiAgICAgIHZhciB2aWRlbyA9IHZpZGVvc1sgMCBdLFxuICAgICAgICB2c291cmNlcyA9IHZpZGVvLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInNvdXJjZVwiICk7XG4gICAgICB3aGlsZSAoIHZzb3VyY2VzLmxlbmd0aCApIHtcbiAgICAgICAgcGljdHVyZS5pbnNlcnRCZWZvcmUoIHZzb3VyY2VzWyAwIF0sIHZpZGVvICk7XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgdGhlIHZpZGVvIGVsZW1lbnQgb25jZSB3ZSdyZSBmaW5pc2hlZCByZW1vdmluZyBpdHMgY2hpbGRyZW5cbiAgICAgIHZpZGVvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHZpZGVvICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBGaW5kIGFsbCBgaW1nYCBlbGVtZW50cywgYW5kIGFkZCB0aGVtIHRvIHRoZSBjYW5kaWRhdGUgbGlzdCBpZiB0aGV5IGhhdmVcbiAgICogYSBgcGljdHVyZWAgcGFyZW50LCBhIGBzaXplc2AgYXR0cmlidXRlIGluIGJhc2ljIGBzcmNzZXRgIHN1cHBvcnRpbmcgYnJvd3NlcnMsXG4gICAqIGEgYHNyY3NldGAgYXR0cmlidXRlIGF0IGFsbCwgYW5kIHRoZXkgaGF2ZW7igJl0IGJlZW4gZXZhbHVhdGVkIGFscmVhZHkuXG4gICAqL1xuICBwZi5nZXRBbGxFbGVtZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtcyA9IFtdLFxuICAgICAgaW1ncyA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJpbWdcIiApO1xuXG4gICAgZm9yICggdmFyIGggPSAwLCBsZW4gPSBpbWdzLmxlbmd0aDsgaCA8IGxlbjsgaCsrICkge1xuICAgICAgdmFyIGN1cnJJbWcgPSBpbWdzWyBoIF07XG5cbiAgICAgIGlmICggY3VyckltZy5wYXJlbnROb2RlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiUElDVFVSRVwiIHx8XG4gICAgICAoIGN1cnJJbWcuZ2V0QXR0cmlidXRlKCBcInNyY3NldFwiICkgIT09IG51bGwgKSB8fCBjdXJySW1nWyBwZi5ucyBdICYmIGN1cnJJbWdbIHBmLm5zIF0uc3Jjc2V0ICE9PSBudWxsICkge1xuICAgICAgICBlbGVtcy5wdXNoKCBjdXJySW1nICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbGVtcztcbiAgfTtcblxuICBwZi5nZXRNYXRjaCA9IGZ1bmN0aW9uKCBpbWcsIHBpY3R1cmUgKSB7XG4gICAgdmFyIHNvdXJjZXMgPSBwaWN0dXJlLmNoaWxkTm9kZXMsXG4gICAgICBtYXRjaDtcblxuICAgIC8vIEdvIHRocm91Z2ggZWFjaCBjaGlsZCwgYW5kIGlmIHRoZXkgaGF2ZSBtZWRpYSBxdWVyaWVzLCBldmFsdWF0ZSB0aGVtXG4gICAgZm9yICggdmFyIGogPSAwLCBzbGVuID0gc291cmNlcy5sZW5ndGg7IGogPCBzbGVuOyBqKysgKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1sgaiBdO1xuXG4gICAgICAvLyBpZ25vcmUgbm9uLWVsZW1lbnQgbm9kZXNcbiAgICAgIGlmICggc291cmNlLm5vZGVUeXBlICE9PSAxICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSGl0dGluZyB0aGUgYGltZ2AgZWxlbWVudCB0aGF0IHN0YXJ0ZWQgZXZlcnl0aGluZyBzdG9wcyB0aGUgc2VhcmNoIGZvciBgc291cmNlc2AuXG4gICAgICAvLyBJZiBubyBwcmV2aW91cyBgc291cmNlYCBtYXRjaGVzLCB0aGUgYGltZ2AgaXRzZWxmIGlzIGV2YWx1YXRlZCBsYXRlci5cbiAgICAgIGlmICggc291cmNlID09PSBpbWcgKSB7XG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH1cblxuICAgICAgLy8gaWdub3JlIG5vbi1gc291cmNlYCBub2Rlc1xuICAgICAgaWYgKCBzb3VyY2Uubm9kZU5hbWUudG9VcHBlckNhc2UoKSAhPT0gXCJTT1VSQ0VcIiApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBpZiBpdCdzIGEgc291cmNlIGVsZW1lbnQgdGhhdCBoYXMgdGhlIGBzcmNgIHByb3BlcnR5IHNldCwgdGhyb3cgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlXG4gICAgICBpZiAoIHNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwic3JjXCIgKSAhPT0gbnVsbCAmJiB0eXBlb2YgY29uc29sZSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJUaGUgYHNyY2AgYXR0cmlidXRlIGlzIGludmFsaWQgb24gYHBpY3R1cmVgIGBzb3VyY2VgIGVsZW1lbnQ7IGluc3RlYWQsIHVzZSBgc3Jjc2V0YC5cIik7XG4gICAgICB9XG5cbiAgICAgIHZhciBtZWRpYSA9IHNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwibWVkaWFcIiApO1xuXG4gICAgICAvLyBpZiBzb3VyY2UgZG9lcyBub3QgaGF2ZSBhIHNyY3NldCBhdHRyaWJ1dGUsIHNraXBcbiAgICAgIGlmICggIXNvdXJjZS5nZXRBdHRyaWJ1dGUoIFwic3Jjc2V0XCIgKSApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gbWVkaWEgc3BlY2lmaWVkLCBPUiB3Lm1hdGNoTWVkaWEgaXMgc3VwcG9ydGVkXG4gICAgICBpZiAoICggIW1lZGlhIHx8IHBmLm1hdGNoZXNNZWRpYSggbWVkaWEgKSApICkge1xuICAgICAgICB2YXIgdHlwZVN1cHBvcnRlZCA9IHBmLnZlcmlmeVR5cGVTdXBwb3J0KCBzb3VyY2UgKTtcblxuICAgICAgICBpZiAoIHR5cGVTdXBwb3J0ZWQgPT09IHRydWUgKSB7XG4gICAgICAgICAgbWF0Y2ggPSBzb3VyY2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoIHR5cGVTdXBwb3J0ZWQgPT09IFwicGVuZGluZ1wiICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXRjaDtcbiAgfTtcblxuICBmdW5jdGlvbiBwaWN0dXJlZmlsbCggb3B0ICkge1xuICAgIHZhciBlbGVtZW50cyxcbiAgICAgIGVsZW1lbnQsXG4gICAgICBwYXJlbnQsXG4gICAgICBmaXJzdE1hdGNoLFxuICAgICAgY2FuZGlkYXRlcyxcbiAgICAgIG9wdGlvbnMgPSBvcHQgfHwge307XG5cbiAgICBlbGVtZW50cyA9IG9wdGlvbnMuZWxlbWVudHMgfHwgcGYuZ2V0QWxsRWxlbWVudHMoKTtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgZWxlbWVudHNcbiAgICBmb3IgKCB2YXIgaSA9IDAsIHBsZW4gPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBwbGVuOyBpKysgKSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudHNbIGkgXTtcbiAgICAgIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIGZpcnN0TWF0Y2ggPSB1bmRlZmluZWQ7XG4gICAgICBjYW5kaWRhdGVzID0gdW5kZWZpbmVkO1xuXG4gICAgICAvLyBpbW1lZGlhdGVseSBza2lwIG5vbi1gaW1nYCBub2Rlc1xuICAgICAgaWYgKCBlbGVtZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgIT09IFwiSU1HXCIgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBleHBhbmRvIGZvciBjYWNoaW5nIGRhdGEgb24gdGhlIGltZ1xuICAgICAgaWYgKCAhZWxlbWVudFsgcGYubnMgXSApIHtcbiAgICAgICAgZWxlbWVudFsgcGYubnMgXSA9IHt9O1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB0aGUgZWxlbWVudCBoYXMgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZCwgc2tpcCBpdCB1bmxlc3NcbiAgICAgIC8vIGBvcHRpb25zLnJlZXZhbHVhdGVgIGlzIHNldCB0byB0cnVlICggdGhpcywgZm9yIGV4YW1wbGUsXG4gICAgICAvLyBpcyBzZXQgdG8gdHJ1ZSB3aGVuIHJ1bm5pbmcgYHBpY3R1cmVmaWxsYCBvbiBgcmVzaXplYCApLlxuICAgICAgaWYgKCAhb3B0aW9ucy5yZWV2YWx1YXRlICYmIGVsZW1lbnRbIHBmLm5zIF0uZXZhbHVhdGVkICkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgYGltZ2AgaXMgaW4gYSBgcGljdHVyZWAgZWxlbWVudFxuICAgICAgaWYgKCBwYXJlbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJQSUNUVVJFXCIgKSB7XG5cbiAgICAgICAgLy8gSUU5IHZpZGVvIHdvcmthcm91bmRcbiAgICAgICAgcGYucmVtb3ZlVmlkZW9TaGltKCBwYXJlbnQgKTtcblxuICAgICAgICAvLyByZXR1cm4gdGhlIGZpcnN0IG1hdGNoIHdoaWNoIG1pZ2h0IHVuZGVmaW5lZFxuICAgICAgICAvLyByZXR1cm5zIGZhbHNlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBzb3VyY2VcbiAgICAgICAgLy8gVE9ETyB0aGUgcmV0dXJuIHR5cGUgaGVyZSBpcyBicnV0YWwsIGNsZWFudXBcbiAgICAgICAgZmlyc3RNYXRjaCA9IHBmLmdldE1hdGNoKCBlbGVtZW50LCBwYXJlbnQgKTtcblxuICAgICAgICAvLyBpZiBhbnkgc291cmNlcyBhcmUgcGVuZGluZyBpbiB0aGlzIHBpY3R1cmUgZHVlIHRvIGFzeW5jIHR5cGUgdGVzdChzKVxuICAgICAgICAvLyByZW1vdmUgdGhlIGV2YWx1YXRlZCBhdHRyIGFuZCBza2lwIGZvciBub3cgKCB0aGUgcGVuZGluZyB0ZXN0IHdpbGxcbiAgICAgICAgLy8gcmVydW4gcGljdHVyZWZpbGwgb24gdGhpcyBlbGVtZW50IHdoZW4gY29tcGxldGUpXG4gICAgICAgIGlmICggZmlyc3RNYXRjaCA9PT0gZmFsc2UgKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpcnN0TWF0Y2ggPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIENhY2hlIGFuZCByZW1vdmUgYHNyY3NldGAgaWYgcHJlc2VudCBhbmQgd2XigJlyZSBnb2luZyB0byBiZSBkb2luZyBgcGljdHVyZWAvYHNyY3NldGAvYHNpemVzYCBwb2x5ZmlsbGluZyB0byBpdC5cbiAgICAgIGlmICggcGFyZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiUElDVFVSRVwiIHx8XG4gICAgICAoIGVsZW1lbnQuc3Jjc2V0ICYmICFwZi5zcmNzZXRTdXBwb3J0ZWQgKSB8fFxuICAgICAgKCAhcGYuc2l6ZXNTdXBwb3J0ZWQgJiYgKCBlbGVtZW50LnNyY3NldCAmJiBlbGVtZW50LnNyY3NldC5pbmRleE9mKFwid1wiKSA+IC0xICkgKSApIHtcbiAgICAgICAgcGYuZG9kZ2VTcmNzZXQoIGVsZW1lbnQgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCBmaXJzdE1hdGNoICkge1xuICAgICAgICBjYW5kaWRhdGVzID0gcGYucHJvY2Vzc1NvdXJjZVNldCggZmlyc3RNYXRjaCApO1xuICAgICAgICBwZi5hcHBseUJlc3RDYW5kaWRhdGUoIGNhbmRpZGF0ZXMsIGVsZW1lbnQgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIHNvdXJjZXMgbWF0Y2hlZCwgc28gd2XigJlyZSBkb3duIHRvIHByb2Nlc3NpbmcgdGhlIGlubmVyIGBpbWdgIGFzIGEgc291cmNlLlxuICAgICAgICBjYW5kaWRhdGVzID0gcGYucHJvY2Vzc1NvdXJjZVNldCggZWxlbWVudCApO1xuXG4gICAgICAgIGlmICggZWxlbWVudC5zcmNzZXQgPT09IHVuZGVmaW5lZCB8fCBlbGVtZW50WyBwZi5ucyBdLnNyY3NldCApIHtcbiAgICAgICAgICAvLyBFaXRoZXIgYHNyY3NldGAgaXMgY29tcGxldGVseSB1bnN1cHBvcnRlZCwgb3Igd2UgbmVlZCB0byBwb2x5ZmlsbCBgc2l6ZXNgIGZ1bmN0aW9uYWxpdHkuXG4gICAgICAgICAgcGYuYXBwbHlCZXN0Q2FuZGlkYXRlKCBjYW5kaWRhdGVzLCBlbGVtZW50ICk7XG4gICAgICAgIH0gLy8gRWxzZSwgcmVzb2x1dGlvbi1vbmx5IGBzcmNzZXRgIGlzIHN1cHBvcnRlZCBuYXRpdmVseS5cbiAgICAgIH1cblxuICAgICAgLy8gc2V0IGV2YWx1YXRlZCB0byB0cnVlIHRvIGF2b2lkIHVubmVjZXNzYXJ5IHJlcGFyc2luZ1xuICAgICAgZWxlbWVudFsgcGYubnMgXS5ldmFsdWF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHVwIHBpY3R1cmUgcG9seWZpbGwgYnkgcG9sbGluZyB0aGUgZG9jdW1lbnQgYW5kIHJ1bm5pbmdcbiAgICogdGhlIHBvbHlmaWxsIGV2ZXJ5IDI1MG1zIHVudGlsIHRoZSBkb2N1bWVudCBpcyByZWFkeS5cbiAgICogQWxzbyBhdHRhY2hlcyBwaWN0dXJlZmlsbCBvbiByZXNpemVcbiAgICovXG4gIGZ1bmN0aW9uIHJ1blBpY3R1cmVmaWxsKCkge1xuICAgIHBpY3R1cmVmaWxsKCk7XG4gICAgdmFyIGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7XG4gICAgICAvLyBXaGVuIHRoZSBkb2N1bWVudCBoYXMgZmluaXNoZWQgbG9hZGluZywgc3RvcCBjaGVja2luZyBmb3IgbmV3IGltYWdlc1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2RlZC9kb21yZWFkeS9ibG9iL21hc3Rlci9yZWFkeS5qcyNMMTVcbiAgICAgIHBpY3R1cmVmaWxsKCk7XG4gICAgICBpZiAoIC9ebG9hZGVkfF5pfF5jLy50ZXN0KCBkb2MucmVhZHlTdGF0ZSApICkge1xuICAgICAgICBjbGVhckludGVydmFsKCBpbnRlcnZhbElkICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9LCAyNTAgKTtcblxuICAgIGZ1bmN0aW9uIGNoZWNrUmVzaXplKCkge1xuICAgICAgdmFyIHJlc2l6ZVRocm90dGxlO1xuXG4gICAgICBpZiAoICF3Ll9waWN0dXJlZmlsbFdvcmtpbmcgKSB7XG4gICAgICAgIHcuX3BpY3R1cmVmaWxsV29ya2luZyA9IHRydWU7XG4gICAgICAgIHcuY2xlYXJUaW1lb3V0KCByZXNpemVUaHJvdHRsZSApO1xuICAgICAgICByZXNpemVUaHJvdHRsZSA9IHcuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcGljdHVyZWZpbGwoeyByZWV2YWx1YXRlOiB0cnVlIH0pO1xuICAgICAgICAgIHcuX3BpY3R1cmVmaWxsV29ya2luZyA9IGZhbHNlO1xuICAgICAgICB9LCA2MCApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICggdy5hZGRFdmVudExpc3RlbmVyICkge1xuICAgICAgdy5hZGRFdmVudExpc3RlbmVyKCBcInJlc2l6ZVwiLCBjaGVja1Jlc2l6ZSwgZmFsc2UgKTtcbiAgICB9IGVsc2UgaWYgKCB3LmF0dGFjaEV2ZW50ICkge1xuICAgICAgdy5hdHRhY2hFdmVudCggXCJvbnJlc2l6ZVwiLCBjaGVja1Jlc2l6ZSApO1xuICAgIH1cbiAgfVxuXG4gIHJ1blBpY3R1cmVmaWxsKCk7XG5cbiAgLyogZXhwb3NlIG1ldGhvZHMgZm9yIHRlc3RpbmcgKi9cbiAgcGljdHVyZWZpbGwuXyA9IHBmO1xuXG4gIC8qIGV4cG9zZSBwaWN0dXJlZmlsbCAqL1xuICBpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuICAgIC8vIENvbW1vbkpTLCBqdXN0IGV4cG9ydFxuICAgIG1vZHVsZS5leHBvcnRzID0gcGljdHVyZWZpbGw7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRCBzdXBwb3J0XG4gICAgZGVmaW5lKCBmdW5jdGlvbigpIHsgcmV0dXJuIHBpY3R1cmVmaWxsOyB9ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiB3ID09PSBcIm9iamVjdFwiICkge1xuICAgIC8vIElmIG5vIEFNRCBhbmQgd2UgYXJlIGluIHRoZSBicm93c2VyLCBhdHRhY2ggdG8gd2luZG93XG4gICAgdy5waWN0dXJlZmlsbCA9IHBpY3R1cmVmaWxsO1xuICB9XG5cbn0gKSggdGhpcywgdGhpcy5kb2N1bWVudCwgbmV3IHRoaXMuSW1hZ2UoKSApO1xuIiwiLyohXG4gKiB2ZXJnZSAxLjkuMSsyMDE0MDIxMzA4MDNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yeWFudmUvdmVyZ2VcbiAqIE1JVCBMaWNlbnNlIDIwMTMgUnlhbiBWYW4gRXR0ZW5cbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgbmFtZSwgbWFrZSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGVbJ2V4cG9ydHMnXSkgbW9kdWxlWydleHBvcnRzJ10gPSBtYWtlKCk7XG4gIGVsc2Ugcm9vdFtuYW1lXSA9IG1ha2UoKTtcbn0odGhpcywgJ3ZlcmdlJywgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHhwb3J0cyA9IHt9XG4gICAgLCB3aW4gPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvd1xuICAgICwgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnICYmIGRvY3VtZW50XG4gICAgLCBkb2NFbGVtID0gZG9jICYmIGRvYy5kb2N1bWVudEVsZW1lbnRcbiAgICAsIG1hdGNoTWVkaWEgPSB3aW5bJ21hdGNoTWVkaWEnXSB8fCB3aW5bJ21zTWF0Y2hNZWRpYSddXG4gICAgLCBtcSA9IG1hdGNoTWVkaWEgPyBmdW5jdGlvbihxKSB7XG4gICAgICAgIHJldHVybiAhIW1hdGNoTWVkaWEuY2FsbCh3aW4sIHEpLm1hdGNoZXM7XG4gICAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAsIHZpZXdwb3J0VyA9IHhwb3J0c1sndmlld3BvcnRXJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGEgPSBkb2NFbGVtWydjbGllbnRXaWR0aCddLCBiID0gd2luWydpbm5lcldpZHRoJ107XG4gICAgICAgIHJldHVybiBhIDwgYiA/IGIgOiBhO1xuICAgICAgfVxuICAgICwgdmlld3BvcnRIID0geHBvcnRzWyd2aWV3cG9ydEgnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYSA9IGRvY0VsZW1bJ2NsaWVudEhlaWdodCddLCBiID0gd2luWydpbm5lckhlaWdodCddO1xuICAgICAgICByZXR1cm4gYSA8IGIgPyBiIDogYTtcbiAgICAgIH07XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYSBtZWRpYSBxdWVyeSBpcyBhY3RpdmUuIExpa2UgTW9kZXJuaXpyLm1xXG4gICAqIEBzaW5jZSAxLjYuMFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgeHBvcnRzWydtcSddID0gbXE7XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZWQgbWF0Y2hNZWRpYVxuICAgKiBAc2luY2UgMS42LjBcbiAgICogQHJldHVybiB7TWVkaWFRdWVyeUxpc3R8T2JqZWN0fVxuICAgKi9cbiAgeHBvcnRzWydtYXRjaE1lZGlhJ10gPSBtYXRjaE1lZGlhID8gZnVuY3Rpb24oKSB7XG4gICAgLy8gbWF0Y2hNZWRpYSBtdXN0IGJlIGJpbmRlZCB0byB3aW5kb3dcbiAgICByZXR1cm4gbWF0Y2hNZWRpYS5hcHBseSh3aW4sIGFyZ3VtZW50cyk7XG4gIH0gOiBmdW5jdGlvbigpIHtcbiAgICAvLyBHcmFjZWZ1bGx5IGRlZ3JhZGUgdG8gcGxhaW4gb2JqZWN0XG4gICAgcmV0dXJuIHt9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAc2luY2UgMS44LjBcbiAgICogQHJldHVybiB7e3dpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcn19XG4gICAqL1xuICBmdW5jdGlvbiB2aWV3cG9ydCgpIHtcbiAgICByZXR1cm4geyd3aWR0aCc6dmlld3BvcnRXKCksICdoZWlnaHQnOnZpZXdwb3J0SCgpfTtcbiAgfVxuICB4cG9ydHNbJ3ZpZXdwb3J0J10gPSB2aWV3cG9ydDtcblxuICAvKipcbiAgICogQ3Jvc3MtYnJvd3NlciB3aW5kb3cuc2Nyb2xsWFxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgeHBvcnRzWydzY3JvbGxYJ10gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gd2luLnBhZ2VYT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsTGVmdDtcbiAgfTtcblxuICAvKipcbiAgICogQ3Jvc3MtYnJvd3NlciB3aW5kb3cuc2Nyb2xsWVxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgeHBvcnRzWydzY3JvbGxZJ10gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gd2luLnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3t0b3A6bnVtYmVyLCByaWdodDpudW1iZXIsIGJvdHRvbTpudW1iZXIsIGxlZnQ6bnVtYmVyfX0gY29vcmRzXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gY3VzaGlvbiBhZGp1c3RtZW50XG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGlicmF0ZShjb29yZHMsIGN1c2hpb24pIHtcbiAgICB2YXIgbyA9IHt9O1xuICAgIGN1c2hpb24gPSArY3VzaGlvbiB8fCAwO1xuICAgIG9bJ3dpZHRoJ10gPSAob1sncmlnaHQnXSA9IGNvb3Jkc1sncmlnaHQnXSArIGN1c2hpb24pIC0gKG9bJ2xlZnQnXSA9IGNvb3Jkc1snbGVmdCddIC0gY3VzaGlvbik7XG4gICAgb1snaGVpZ2h0J10gPSAob1snYm90dG9tJ10gPSBjb29yZHNbJ2JvdHRvbSddICsgY3VzaGlvbikgLSAob1sndG9wJ10gPSBjb29yZHNbJ3RvcCddIC0gY3VzaGlvbik7XG4gICAgcmV0dXJuIG87XG4gIH1cblxuICAvKipcbiAgICogQ3Jvc3MtYnJvd3NlciBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCBwbHVzIG9wdGlvbmFsIGN1c2hpb24uXG4gICAqIENvb3JkcyBhcmUgcmVsYXRpdmUgdG8gdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgdmlld3BvcnQuXG4gICAqIEBzaW5jZSAxLjAuMFxuICAgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbCBlbGVtZW50IG9yIHN0YWNrICh1c2VzIGZpcnN0IGl0ZW0pXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gY3VzaGlvbiArLy0gcGl4ZWwgYWRqdXN0bWVudCBhbW91bnRcbiAgICogQHJldHVybiB7T2JqZWN0fGJvb2xlYW59XG4gICAqL1xuICBmdW5jdGlvbiByZWN0YW5nbGUoZWwsIGN1c2hpb24pIHtcbiAgICBlbCA9IGVsICYmICFlbC5ub2RlVHlwZSA/IGVsWzBdIDogZWw7XG4gICAgaWYgKCFlbCB8fCAxICE9PSBlbC5ub2RlVHlwZSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBjYWxpYnJhdGUoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGN1c2hpb24pO1xuICB9XG4gIHhwb3J0c1sncmVjdGFuZ2xlJ10gPSByZWN0YW5nbGU7XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmlld3BvcnQgYXNwZWN0IHJhdGlvIChvciB0aGUgYXNwZWN0IHJhdGlvIG9mIGFuIG9iamVjdCBvciBlbGVtZW50KVxuICAgKiBAc2luY2UgMS43LjBcbiAgICogQHBhcmFtIHsoRWxlbWVudHxPYmplY3QpPX0gbyBvcHRpb25hbCBvYmplY3Qgd2l0aCB3aWR0aC9oZWlnaHQgcHJvcHMgb3IgbWV0aG9kc1xuICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAqIEBsaW5rIGh0dHA6Ly93My5vcmcvVFIvY3NzMy1tZWRpYXF1ZXJpZXMvI29yaWVudGF0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBhc3BlY3Qobykge1xuICAgIG8gPSBudWxsID09IG8gPyB2aWV3cG9ydCgpIDogMSA9PT0gby5ub2RlVHlwZSA/IHJlY3RhbmdsZShvKSA6IG87XG4gICAgdmFyIGggPSBvWydoZWlnaHQnXSwgdyA9IG9bJ3dpZHRoJ107XG4gICAgaCA9IHR5cGVvZiBoID09ICdmdW5jdGlvbicgPyBoLmNhbGwobykgOiBoO1xuICAgIHcgPSB0eXBlb2YgdyA9PSAnZnVuY3Rpb24nID8gdy5jYWxsKG8pIDogdztcbiAgICByZXR1cm4gdy9oO1xuICB9XG4gIHhwb3J0c1snYXNwZWN0J10gPSBhc3BlY3Q7XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYW4gZWxlbWVudCBpcyBpbiB0aGUgc2FtZSB4LWF4aXMgc2VjdGlvbiBhcyB0aGUgdmlld3BvcnQuXG4gICAqIEBzaW5jZSAxLjAuMFxuICAgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbFxuICAgKiBAcGFyYW0ge251bWJlcj19IGN1c2hpb25cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHhwb3J0c1snaW5YJ10gPSBmdW5jdGlvbihlbCwgY3VzaGlvbikge1xuICAgIHZhciByID0gcmVjdGFuZ2xlKGVsLCBjdXNoaW9uKTtcbiAgICByZXR1cm4gISFyICYmIHIucmlnaHQgPj0gMCAmJiByLmxlZnQgPD0gdmlld3BvcnRXKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYW4gZWxlbWVudCBpcyBpbiB0aGUgc2FtZSB5LWF4aXMgc2VjdGlvbiBhcyB0aGUgdmlld3BvcnQuXG4gICAqIEBzaW5jZSAxLjAuMFxuICAgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbFxuICAgKiBAcGFyYW0ge251bWJlcj19IGN1c2hpb25cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHhwb3J0c1snaW5ZJ10gPSBmdW5jdGlvbihlbCwgY3VzaGlvbikge1xuICAgIHZhciByID0gcmVjdGFuZ2xlKGVsLCBjdXNoaW9uKTtcbiAgICByZXR1cm4gISFyICYmIHIuYm90dG9tID49IDAgJiYgci50b3AgPD0gdmlld3BvcnRIKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRlc3QgaWYgYW4gZWxlbWVudCBpcyBpbiB0aGUgdmlld3BvcnQuXG4gICAqIEBzaW5jZSAxLjAuMFxuICAgKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbFxuICAgKiBAcGFyYW0ge251bWJlcj19IGN1c2hpb25cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHhwb3J0c1snaW5WaWV3cG9ydCddID0gZnVuY3Rpb24oZWwsIGN1c2hpb24pIHtcbiAgICAvLyBFcXVpdiB0byBgaW5YKGVsLCBjdXNoaW9uKSAmJiBpblkoZWwsIGN1c2hpb24pYCBidXQganVzdCBtYW51YWxseSBkbyBib3RoXG4gICAgLy8gdG8gYXZvaWQgY2FsbGluZyByZWN0YW5nbGUoKSB0d2ljZS4gSXQgZ3ppcHMganVzdCBhcyBzbWFsbCBsaWtlIHRoaXMuXG4gICAgdmFyIHIgPSByZWN0YW5nbGUoZWwsIGN1c2hpb24pO1xuICAgIHJldHVybiAhIXIgJiYgci5ib3R0b20gPj0gMCAmJiByLnJpZ2h0ID49IDAgJiYgci50b3AgPD0gdmlld3BvcnRIKCkgJiYgci5sZWZ0IDw9IHZpZXdwb3J0VygpO1xuICB9O1xuXG4gIHJldHVybiB4cG9ydHM7XG59KSk7XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBNdXRhdGlvbk9ic2VydmVyLCBVdGlsLCBXZWFrTWFwLCBnZXRDb21wdXRlZFN0eWxlLCBnZXRDb21wdXRlZFN0eWxlUlgsXG4gICAgX19iaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfSxcbiAgICBfX2luZGV4T2YgPSBbXS5pbmRleE9mIHx8IGZ1bmN0aW9uKGl0ZW0pIHsgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykgeyBpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHJldHVybiBpOyB9IHJldHVybiAtMTsgfTtcblxuICBVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFV0aWwoKSB7fVxuXG4gICAgVXRpbC5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24oY3VzdG9tLCBkZWZhdWx0cykge1xuICAgICAgdmFyIGtleSwgdmFsdWU7XG4gICAgICBmb3IgKGtleSBpbiBkZWZhdWx0cykge1xuICAgICAgICB2YWx1ZSA9IGRlZmF1bHRzW2tleV07XG4gICAgICAgIGlmIChjdXN0b21ba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgY3VzdG9tW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGN1c3RvbTtcbiAgICB9O1xuXG4gICAgVXRpbC5wcm90b3R5cGUuaXNNb2JpbGUgPSBmdW5jdGlvbihhZ2VudCkge1xuICAgICAgcmV0dXJuIC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChhZ2VudCk7XG4gICAgfTtcblxuICAgIFV0aWwucHJvdG90eXBlLmFkZEV2ZW50ID0gZnVuY3Rpb24oZWxlbSwgZXZlbnQsIGZuKSB7XG4gICAgICBpZiAoZWxlbS5hZGRFdmVudExpc3RlbmVyICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZm4sIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbS5hdHRhY2hFdmVudCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBlbGVtLmF0dGFjaEV2ZW50KFwib25cIiArIGV2ZW50LCBmbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZWxlbVtldmVudF0gPSBmbjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgVXRpbC5wcm90b3R5cGUucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbihlbGVtLCBldmVudCwgZm4pIHtcbiAgICAgIGlmIChlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmIChlbGVtLmRldGFjaEV2ZW50ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGVsZW0uZGV0YWNoRXZlbnQoXCJvblwiICsgZXZlbnQsIGZuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWxldGUgZWxlbVtldmVudF07XG4gICAgICB9XG4gICAgfTtcblxuICAgIFV0aWwucHJvdG90eXBlLmlubmVySGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJ2lubmVySGVpZ2h0JyBpbiB3aW5kb3cpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gVXRpbDtcblxuICB9KSgpO1xuXG4gIFdlYWtNYXAgPSB0aGlzLldlYWtNYXAgfHwgdGhpcy5Nb3pXZWFrTWFwIHx8IChXZWFrTWFwID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFdlYWtNYXAoKSB7XG4gICAgICB0aGlzLmtleXMgPSBbXTtcbiAgICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgfVxuXG4gICAgV2Vha01hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgaSwgaXRlbSwgX2ksIF9sZW4sIF9yZWY7XG4gICAgICBfcmVmID0gdGhpcy5rZXlzO1xuICAgICAgZm9yIChpID0gX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgaSA9ICsrX2kpIHtcbiAgICAgICAgaXRlbSA9IF9yZWZbaV07XG4gICAgICAgIGlmIChpdGVtID09PSBrZXkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgV2Vha01hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGksIGl0ZW0sIF9pLCBfbGVuLCBfcmVmO1xuICAgICAgX3JlZiA9IHRoaXMua2V5cztcbiAgICAgIGZvciAoaSA9IF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IGkgPSArK19pKSB7XG4gICAgICAgIGl0ZW0gPSBfcmVmW2ldO1xuICAgICAgICBpZiAoaXRlbSA9PT0ga2V5KSB7XG4gICAgICAgICAgdGhpcy52YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMua2V5cy5wdXNoKGtleSk7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBXZWFrTWFwO1xuXG4gIH0pKCkpO1xuXG4gIE11dGF0aW9uT2JzZXJ2ZXIgPSB0aGlzLk11dGF0aW9uT2JzZXJ2ZXIgfHwgdGhpcy5XZWJraXRNdXRhdGlvbk9ic2VydmVyIHx8IHRoaXMuTW96TXV0YXRpb25PYnNlcnZlciB8fCAoTXV0YXRpb25PYnNlcnZlciA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnNvbGUgIT09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdNdXRhdGlvbk9ic2VydmVyIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyLicpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnNvbGUgIT09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdXT1cuanMgY2Fubm90IGRldGVjdCBkb20gbXV0YXRpb25zLCBwbGVhc2UgY2FsbCAuc3luYygpIGFmdGVyIGxvYWRpbmcgbmV3IGNvbnRlbnQuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgTXV0YXRpb25PYnNlcnZlci5ub3RTdXBwb3J0ZWQgPSB0cnVlO1xuXG4gICAgTXV0YXRpb25PYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uKCkge307XG5cbiAgICByZXR1cm4gTXV0YXRpb25PYnNlcnZlcjtcblxuICB9KSgpKTtcblxuICBnZXRDb21wdXRlZFN0eWxlID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlIHx8IGZ1bmN0aW9uKGVsLCBwc2V1ZG8pIHtcbiAgICB0aGlzLmdldFByb3BlcnR5VmFsdWUgPSBmdW5jdGlvbihwcm9wKSB7XG4gICAgICB2YXIgX3JlZjtcbiAgICAgIGlmIChwcm9wID09PSAnZmxvYXQnKSB7XG4gICAgICAgIHByb3AgPSAnc3R5bGVGbG9hdCc7XG4gICAgICB9XG4gICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZVJYLnRlc3QocHJvcCkpIHtcbiAgICAgICAgcHJvcC5yZXBsYWNlKGdldENvbXB1dGVkU3R5bGVSWCwgZnVuY3Rpb24oXywgX2NoYXIpIHtcbiAgICAgICAgICByZXR1cm4gX2NoYXIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKChfcmVmID0gZWwuY3VycmVudFN0eWxlKSAhPSBudWxsID8gX3JlZltwcm9wXSA6IHZvaWQgMCkgfHwgbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGdldENvbXB1dGVkU3R5bGVSWCA9IC8oXFwtKFthLXpdKXsxfSkvZztcblxuICB0aGlzLldPVyA9IChmdW5jdGlvbigpIHtcbiAgICBXT1cucHJvdG90eXBlLmRlZmF1bHRzID0ge1xuICAgICAgYm94Q2xhc3M6ICd3b3cnLFxuICAgICAgYW5pbWF0ZUNsYXNzOiAnYW5pbWF0ZWQnLFxuICAgICAgb2Zmc2V0OiAwLFxuICAgICAgbW9iaWxlOiB0cnVlLFxuICAgICAgbGl2ZTogdHJ1ZSxcbiAgICAgIGNhbGxiYWNrOiBudWxsXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIFdPVyhvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2Nyb2xsQ2FsbGJhY2sgPSBfX2JpbmQodGhpcy5zY3JvbGxDYWxsYmFjaywgdGhpcyk7XG4gICAgICB0aGlzLnNjcm9sbEhhbmRsZXIgPSBfX2JpbmQodGhpcy5zY3JvbGxIYW5kbGVyLCB0aGlzKTtcbiAgICAgIHRoaXMuc3RhcnQgPSBfX2JpbmQodGhpcy5zdGFydCwgdGhpcyk7XG4gICAgICB0aGlzLnNjcm9sbGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuY29uZmlnID0gdGhpcy51dGlsKCkuZXh0ZW5kKG9wdGlvbnMsIHRoaXMuZGVmYXVsdHMpO1xuICAgICAgdGhpcy5hbmltYXRpb25OYW1lQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuICAgIH1cblxuICAgIFdPVy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF9yZWY7XG4gICAgICB0aGlzLmVsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgaWYgKChfcmVmID0gZG9jdW1lbnQucmVhZHlTdGF0ZSkgPT09IFwiaW50ZXJhY3RpdmVcIiB8fCBfcmVmID09PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51dGlsKCkuYWRkRXZlbnQoZG9jdW1lbnQsICdET01Db250ZW50TG9hZGVkJywgdGhpcy5zdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5maW5pc2hlZCA9IFtdO1xuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYm94LCBfaSwgX2xlbiwgX3JlZjtcbiAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5ib3hlcyA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0cztcbiAgICAgICAgX3JlZiA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgdGhpcy5jb25maWcuYm94Q2xhc3MpO1xuICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICBib3ggPSBfcmVmW19pXTtcbiAgICAgICAgICBfcmVzdWx0cy5wdXNoKGJveCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgfSkuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuYWxsID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzO1xuICAgICAgICBfcmVmID0gdGhpcy5ib3hlcztcbiAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgYm94ID0gX3JlZltfaV07XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChib3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgIH0pLmNhbGwodGhpcyk7XG4gICAgICBpZiAodGhpcy5ib3hlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQoKSkge1xuICAgICAgICAgIHRoaXMucmVzZXRTdHlsZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9yZWYgPSB0aGlzLmJveGVzO1xuICAgICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgICAgYm94ID0gX3JlZltfaV07XG4gICAgICAgICAgICB0aGlzLmFwcGx5U3R5bGUoYm94LCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCgpKSB7XG4gICAgICAgIHRoaXMudXRpbCgpLmFkZEV2ZW50KHdpbmRvdywgJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgIHRoaXMudXRpbCgpLmFkZEV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnNjcm9sbENhbGxiYWNrLCA1MCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jb25maWcubGl2ZSkge1xuICAgICAgICByZXR1cm4gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJlY29yZHMpIHtcbiAgICAgICAgICAgIHZhciBub2RlLCByZWNvcmQsIF9qLCBfbGVuMSwgX3Jlc3VsdHM7XG4gICAgICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChfaiA9IDAsIF9sZW4xID0gcmVjb3Jkcy5sZW5ndGg7IF9qIDwgX2xlbjE7IF9qKyspIHtcbiAgICAgICAgICAgICAgcmVjb3JkID0gcmVjb3Jkc1tfal07XG4gICAgICAgICAgICAgIF9yZXN1bHRzLnB1c2goKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBfaywgX2xlbjIsIF9yZWYxLCBfcmVzdWx0czE7XG4gICAgICAgICAgICAgICAgX3JlZjEgPSByZWNvcmQuYWRkZWROb2RlcyB8fCBbXTtcbiAgICAgICAgICAgICAgICBfcmVzdWx0czEgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKF9rID0gMCwgX2xlbjIgPSBfcmVmMS5sZW5ndGg7IF9rIDwgX2xlbjI7IF9rKyspIHtcbiAgICAgICAgICAgICAgICAgIG5vZGUgPSBfcmVmMVtfa107XG4gICAgICAgICAgICAgICAgICBfcmVzdWx0czEucHVzaCh0aGlzLmRvU3luYyhub2RlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfcmVzdWx0czE7XG4gICAgICAgICAgICAgIH0pLmNhbGwoX3RoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgICAgICB9O1xuICAgICAgICB9KSh0aGlzKSkub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMudXRpbCgpLnJlbW92ZUV2ZW50KHdpbmRvdywgJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsSGFuZGxlcik7XG4gICAgICB0aGlzLnV0aWwoKS5yZW1vdmVFdmVudCh3aW5kb3csICdyZXNpemUnLCB0aGlzLnNjcm9sbEhhbmRsZXIpO1xuICAgICAgaWYgKHRoaXMuaW50ZXJ2YWwgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgV09XLnByb3RvdHlwZS5zeW5jID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgaWYgKE11dGF0aW9uT2JzZXJ2ZXIubm90U3VwcG9ydGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvU3luYyh0aGlzLmVsZW1lbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLmRvU3luYyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBib3gsIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0cztcbiAgICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgfHwgZWxlbWVudDtcbiAgICAgIF9yZWYgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyB0aGlzLmNvbmZpZy5ib3hDbGFzcyk7XG4gICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIGJveCA9IF9yZWZbX2ldO1xuICAgICAgICBpZiAoX19pbmRleE9mLmNhbGwodGhpcy5hbGwsIGJveCkgPCAwKSB7XG4gICAgICAgICAgdGhpcy5ib3hlcy5wdXNoKGJveCk7XG4gICAgICAgICAgdGhpcy5hbGwucHVzaChib3gpO1xuICAgICAgICAgIGlmICh0aGlzLnN0b3BwZWQgfHwgdGhpcy5kaXNhYmxlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0U3R5bGUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hcHBseVN0eWxlKGJveCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIF9yZXN1bHRzLnB1c2godGhpcy5zY3JvbGxlZCA9IHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9yZXN1bHRzLnB1c2godm9pZCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbihib3gpIHtcbiAgICAgIHRoaXMuYXBwbHlTdHlsZShib3gpO1xuICAgICAgYm94LmNsYXNzTmFtZSA9IFwiXCIgKyBib3guY2xhc3NOYW1lICsgXCIgXCIgKyB0aGlzLmNvbmZpZy5hbmltYXRlQ2xhc3M7XG4gICAgICBpZiAodGhpcy5jb25maWcuY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuY2FsbGJhY2soYm94KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgV09XLnByb3RvdHlwZS5hcHBseVN0eWxlID0gZnVuY3Rpb24oYm94LCBoaWRkZW4pIHtcbiAgICAgIHZhciBkZWxheSwgZHVyYXRpb24sIGl0ZXJhdGlvbjtcbiAgICAgIGR1cmF0aW9uID0gYm94LmdldEF0dHJpYnV0ZSgnZGF0YS13b3ctZHVyYXRpb24nKTtcbiAgICAgIGRlbGF5ID0gYm94LmdldEF0dHJpYnV0ZSgnZGF0YS13b3ctZGVsYXknKTtcbiAgICAgIGl0ZXJhdGlvbiA9IGJveC5nZXRBdHRyaWJ1dGUoJ2RhdGEtd293LWl0ZXJhdGlvbicpO1xuICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0ZSgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5jdXN0b21TdHlsZShib3gsIGhpZGRlbiwgZHVyYXRpb24sIGRlbGF5LCBpdGVyYXRpb24pO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLmFuaW1hdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJ3JlcXVlc3RBbmltYXRpb25GcmFtZScgaW4gd2luZG93KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICBXT1cucHJvdG90eXBlLnJlc2V0U3R5bGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBib3gsIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0cztcbiAgICAgIF9yZWYgPSB0aGlzLmJveGVzO1xuICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBib3ggPSBfcmVmW19pXTtcbiAgICAgICAgX3Jlc3VsdHMucHVzaChib3guc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuY3VzdG9tU3R5bGUgPSBmdW5jdGlvbihib3gsIGhpZGRlbiwgZHVyYXRpb24sIGRlbGF5LCBpdGVyYXRpb24pIHtcbiAgICAgIGlmIChoaWRkZW4pIHtcbiAgICAgICAgdGhpcy5jYWNoZUFuaW1hdGlvbk5hbWUoYm94KTtcbiAgICAgIH1cbiAgICAgIGJveC5zdHlsZS52aXNpYmlsaXR5ID0gaGlkZGVuID8gJ2hpZGRlbicgOiAndmlzaWJsZSc7XG4gICAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgICAgdGhpcy52ZW5kb3JTZXQoYm94LnN0eWxlLCB7XG4gICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IGR1cmF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgIHRoaXMudmVuZG9yU2V0KGJveC5zdHlsZSwge1xuICAgICAgICAgIGFuaW1hdGlvbkRlbGF5OiBkZWxheVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRpb24pIHtcbiAgICAgICAgdGhpcy52ZW5kb3JTZXQoYm94LnN0eWxlLCB7XG4gICAgICAgICAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IGl0ZXJhdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmVuZG9yU2V0KGJveC5zdHlsZSwge1xuICAgICAgICBhbmltYXRpb25OYW1lOiBoaWRkZW4gPyAnbm9uZScgOiB0aGlzLmNhY2hlZEFuaW1hdGlvbk5hbWUoYm94KVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYm94O1xuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLnZlbmRvcnMgPSBbXCJtb3pcIiwgXCJ3ZWJraXRcIl07XG5cbiAgICBXT1cucHJvdG90eXBlLnZlbmRvclNldCA9IGZ1bmN0aW9uKGVsZW0sIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciBuYW1lLCB2YWx1ZSwgdmVuZG9yLCBfcmVzdWx0cztcbiAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICBmb3IgKG5hbWUgaW4gcHJvcGVydGllcykge1xuICAgICAgICB2YWx1ZSA9IHByb3BlcnRpZXNbbmFtZV07XG4gICAgICAgIGVsZW1bXCJcIiArIG5hbWVdID0gdmFsdWU7XG4gICAgICAgIF9yZXN1bHRzLnB1c2goKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHMxO1xuICAgICAgICAgIF9yZWYgPSB0aGlzLnZlbmRvcnM7XG4gICAgICAgICAgX3Jlc3VsdHMxID0gW107XG4gICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICB2ZW5kb3IgPSBfcmVmW19pXTtcbiAgICAgICAgICAgIF9yZXN1bHRzMS5wdXNoKGVsZW1bXCJcIiArIHZlbmRvciArIChuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKSArIChuYW1lLnN1YnN0cigxKSldID0gdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3Jlc3VsdHMxO1xuICAgICAgICB9KS5jYWxsKHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICB9O1xuXG4gICAgV09XLnByb3RvdHlwZS52ZW5kb3JDU1MgPSBmdW5jdGlvbihlbGVtLCBwcm9wZXJ0eSkge1xuICAgICAgdmFyIHJlc3VsdCwgc3R5bGUsIHZlbmRvciwgX2ksIF9sZW4sIF9yZWY7XG4gICAgICBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbSk7XG4gICAgICByZXN1bHQgPSBzdHlsZS5nZXRQcm9wZXJ0eUNTU1ZhbHVlKHByb3BlcnR5KTtcbiAgICAgIF9yZWYgPSB0aGlzLnZlbmRvcnM7XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgdmVuZG9yID0gX3JlZltfaV07XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCB8fCBzdHlsZS5nZXRQcm9wZXJ0eUNTU1ZhbHVlKFwiLVwiICsgdmVuZG9yICsgXCItXCIgKyBwcm9wZXJ0eSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLmFuaW1hdGlvbk5hbWUgPSBmdW5jdGlvbihib3gpIHtcbiAgICAgIHZhciBhbmltYXRpb25OYW1lO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYW5pbWF0aW9uTmFtZSA9IHRoaXMudmVuZG9yQ1NTKGJveCwgJ2FuaW1hdGlvbi1uYW1lJykuY3NzVGV4dDtcbiAgICAgIH0gY2F0Y2ggKF9lcnJvcikge1xuICAgICAgICBhbmltYXRpb25OYW1lID0gZ2V0Q29tcHV0ZWRTdHlsZShib3gpLmdldFByb3BlcnR5VmFsdWUoJ2FuaW1hdGlvbi1uYW1lJyk7XG4gICAgICB9XG4gICAgICBpZiAoYW5pbWF0aW9uTmFtZSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhbmltYXRpb25OYW1lO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLmNhY2hlQW5pbWF0aW9uTmFtZSA9IGZ1bmN0aW9uKGJveCkge1xuICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9uTmFtZUNhY2hlLnNldChib3gsIHRoaXMuYW5pbWF0aW9uTmFtZShib3gpKTtcbiAgICB9O1xuXG4gICAgV09XLnByb3RvdHlwZS5jYWNoZWRBbmltYXRpb25OYW1lID0gZnVuY3Rpb24oYm94KSB7XG4gICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25OYW1lQ2FjaGUuZ2V0KGJveCk7XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuc2Nyb2xsSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLnNjcm9sbENhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYm94O1xuICAgICAgaWYgKHRoaXMuc2Nyb2xsZWQpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJveGVzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7XG4gICAgICAgICAgX3JlZiA9IHRoaXMuYm94ZXM7XG4gICAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgIGJveCA9IF9yZWZbX2ldO1xuICAgICAgICAgICAgaWYgKCEoYm94KSkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZShib3gpKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2hvdyhib3gpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9yZXN1bHRzLnB1c2goYm94KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgICB9KS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoISh0aGlzLmJveGVzLmxlbmd0aCB8fCB0aGlzLmNvbmZpZy5saXZlKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLm9mZnNldFRvcCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciB0b3A7XG4gICAgICB3aGlsZSAoZWxlbWVudC5vZmZzZXRUb3AgPT09IHZvaWQgMCkge1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgdG9wID0gZWxlbWVudC5vZmZzZXRUb3A7XG4gICAgICB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50KSB7XG4gICAgICAgIHRvcCArPSBlbGVtZW50Lm9mZnNldFRvcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b3A7XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuaXNWaXNpYmxlID0gZnVuY3Rpb24oYm94KSB7XG4gICAgICB2YXIgYm90dG9tLCBvZmZzZXQsIHRvcCwgdmlld0JvdHRvbSwgdmlld1RvcDtcbiAgICAgIG9mZnNldCA9IGJveC5nZXRBdHRyaWJ1dGUoJ2RhdGEtd293LW9mZnNldCcpIHx8IHRoaXMuY29uZmlnLm9mZnNldDtcbiAgICAgIHZpZXdUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICB2aWV3Qm90dG9tID0gdmlld1RvcCArIE1hdGgubWluKHRoaXMuZWxlbWVudC5jbGllbnRIZWlnaHQsIHRoaXMudXRpbCgpLmlubmVySGVpZ2h0KCkpIC0gb2Zmc2V0O1xuICAgICAgdG9wID0gdGhpcy5vZmZzZXRUb3AoYm94KTtcbiAgICAgIGJvdHRvbSA9IHRvcCArIGJveC5jbGllbnRIZWlnaHQ7XG4gICAgICByZXR1cm4gdG9wIDw9IHZpZXdCb3R0b20gJiYgYm90dG9tID49IHZpZXdUb3A7XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUudXRpbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3V0aWwgIT0gbnVsbCA/IHRoaXMuX3V0aWwgOiB0aGlzLl91dGlsID0gbmV3IFV0aWwoKTtcbiAgICB9O1xuXG4gICAgV09XLnByb3RvdHlwZS5kaXNhYmxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICF0aGlzLmNvbmZpZy5tb2JpbGUgJiYgdGhpcy51dGlsKCkuaXNNb2JpbGUobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgfTtcblxuICAgIHJldHVybiBXT1c7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=