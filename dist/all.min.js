window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;e.type="text/css",e.id="matchmediajs-test",n.parentNode.insertBefore(e,n),i="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var n="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=n:e.textContent=n,"1px"===i.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(t,e,n){"use strict";function i(t){var e,n,i,r,s,l=t||{};e=l.elements||o.getAllElements();for(var a=0,u=e.length;u>a;a++)if(n=e[a],i=n.parentNode,r=void 0,s=void 0,"IMG"===n.nodeName.toUpperCase()&&(n[o.ns]||(n[o.ns]={}),l.reevaluate||!n[o.ns].evaluated)){if("PICTURE"===i.nodeName.toUpperCase()){if(o.removeVideoShim(i),r=o.getMatch(n,i),r===!1)continue}else r=void 0;("PICTURE"===i.nodeName.toUpperCase()||n.srcset&&!o.srcsetSupported||!o.sizesSupported&&n.srcset&&n.srcset.indexOf("w")>-1)&&o.dodgeSrcset(n),r?(s=o.processSourceSet(r),o.applyBestCandidate(s,n)):(s=o.processSourceSet(n),(void 0===n.srcset||n[o.ns].srcset)&&o.applyBestCandidate(s,n)),n[o.ns].evaluated=!0}}function r(){function n(){var e;t._picturefillWorking||(t._picturefillWorking=!0,t.clearTimeout(e),e=t.setTimeout(function(){i({reevaluate:!0}),t._picturefillWorking=!1},60))}i();var r=setInterval(function(){return i(),/^loaded|^i|^c/.test(e.readyState)?void clearInterval(r):void 0},250);t.addEventListener?t.addEventListener("resize",n,!1):t.attachEvent&&t.attachEvent("onresize",n)}if(t.HTMLPictureElement)return void(t.picturefill=function(){});e.createElement("picture");var o={};o.ns="picturefill",function(){o.srcsetSupported="srcset"in n,o.sizesSupported="sizes"in n}(),o.trim=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},o.endsWith=function(t,e){return t.endsWith?t.endsWith(e):-1!==t.indexOf(e,t.length-e.length)},o.restrictsMixedContent=function(){return"https:"===t.location.protocol},o.matchesMedia=function(e){return t.matchMedia&&t.matchMedia(e).matches},o.getDpr=function(){return t.devicePixelRatio||1},o.getWidthFromLength=function(t){t=t&&t.indexOf("%")>-1==!1&&(parseFloat(t)>0||t.indexOf("calc(")>-1)?t:"100vw",t=t.replace("vw","%"),o.lengthEl||(o.lengthEl=e.createElement("div"),o.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden"),o.lengthEl.style.width=t,e.body.appendChild(o.lengthEl),o.lengthEl.className="helper-from-picturefill-js",o.lengthEl.offsetWidth<=0&&(o.lengthEl.style.width=e.documentElement.offsetWidth+"px");var n=o.lengthEl.offsetWidth;return e.body.removeChild(o.lengthEl),n},o.types={},o.types["image/jpeg"]=!0,o.types["image/gif"]=!0,o.types["image/png"]=!0,o.types["image/svg+xml"]=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),o.types["image/webp"]=function(){var t="image/webp";n.onerror=function(){o.types[t]=!1,i()},n.onload=function(){o.types[t]=1===n.width,i()},n.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},o.verifyTypeSupport=function(t){var e=t.getAttribute("type");return null===e||""===e?!0:"function"==typeof o.types[e]?(o.types[e](),"pending"):o.types[e]},o.parseSize=function(t){var e=/(\([^)]+\))?\s*(.+)/g.exec(t);return{media:e&&e[1],length:e&&e[2]}},o.findWidthFromSourceSize=function(t){for(var e,n=o.trim(t).split(/\s*,\s*/),i=0,r=n.length;r>i;i++){var s=n[i],l=o.parseSize(s),a=l.length,u=l.media;if(a&&(!u||o.matchesMedia(u))){e=a;break}}return o.getWidthFromLength(e)},o.parseSrcset=function(t){for(var e=[];""!==t;){t=t.replace(/^\s+/g,"");var n,i=t.search(/\s/g),r=null;if(-1!==i){n=t.slice(0,i);var o=n.slice(-1);if((","===o||""===n)&&(n=n.replace(/,+$/,""),r=""),t=t.slice(i+1),null===r){var s=t.indexOf(",");-1!==s?(r=t.slice(0,s),t=t.slice(s+1)):(r=t,t="")}}else n=t,t="";(n||r)&&e.push({url:n,descriptor:r})}return e},o.parseDescriptor=function(t,e){var n,i=e||"100vw",r=t&&t.replace(/(^\s+|\s+$)/g,""),s=o.findWidthFromSourceSize(i);if(r)for(var l=r.split(" "),a=l.length-1;a>=0;a--){var u=l[a],c=u&&u.slice(u.length-1);if("h"!==c&&"w"!==c||o.sizesSupported){if("x"===c){var d=u&&parseFloat(u,10);n=d&&!isNaN(d)?d:1}}else n=parseFloat(parseInt(u,10)/s)}return n||1},o.getCandidatesFromSourceSet=function(t,e){for(var n=o.parseSrcset(t),i=[],r=0,s=n.length;s>r;r++){var l=n[r];i.push({url:l.url,resolution:o.parseDescriptor(l.descriptor,e)})}return i},o.dodgeSrcset=function(t){t.srcset&&(t[o.ns].srcset=t.srcset,t.removeAttribute("srcset"))},o.processSourceSet=function(t){var e=t.getAttribute("srcset"),n=t.getAttribute("sizes"),i=[];return"IMG"===t.nodeName.toUpperCase()&&t[o.ns]&&t[o.ns].srcset&&(e=t[o.ns].srcset),e&&(i=o.getCandidatesFromSourceSet(e,n)),i},o.applyBestCandidate=function(t,e){var n,i,r;t.sort(o.ascendingSort),i=t.length,r=t[i-1];for(var s=0;i>s;s++)if(n=t[s],n.resolution>=o.getDpr()){r=n;break}if(r&&!o.endsWith(e.src,r.url))if(o.restrictsMixedContent()&&"http:"===r.url.substr(0,"http:".length).toLowerCase())void 0!==typeof console&&console.warn("Blocked mixed content image "+r.url);else{e.src=r.url,e.currentSrc=e.src;var l=e.style||{},a="webkitBackfaceVisibility"in l,u=l.zoom;a&&(l.zoom=".999",a=e.offsetWidth,l.zoom=u)}},o.ascendingSort=function(t,e){return t.resolution-e.resolution},o.removeVideoShim=function(t){var e=t.getElementsByTagName("video");if(e.length){for(var n=e[0],i=n.getElementsByTagName("source");i.length;)t.insertBefore(i[0],n);n.parentNode.removeChild(n)}},o.getAllElements=function(){for(var t=[],n=e.getElementsByTagName("img"),i=0,r=n.length;r>i;i++){var s=n[i];("PICTURE"===s.parentNode.nodeName.toUpperCase()||null!==s.getAttribute("srcset")||s[o.ns]&&null!==s[o.ns].srcset)&&t.push(s)}return t},o.getMatch=function(t,e){for(var n,i=e.childNodes,r=0,s=i.length;s>r;r++){var l=i[r];if(1===l.nodeType){if(l===t)return n;if("SOURCE"===l.nodeName.toUpperCase()){null!==l.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var a=l.getAttribute("media");if(l.getAttribute("srcset")&&(!a||o.matchesMedia(a))){var u=o.verifyTypeSupport(l);if(u===!0){n=l;break}if("pending"===u)return!1}}}}return n},r(),i._=o,"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof t&&(t.picturefill=i)}(this,this.document,new this.Image),function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():t[e]=n()}(this,"verge",function(){function t(){return{width:c(),height:d()}}function e(t,e){var n={};return e=+e||0,n.width=(n.right=t.right+e)-(n.left=t.left-e),n.height=(n.bottom=t.bottom+e)-(n.top=t.top-e),n}function n(t,n){return t=t&&!t.nodeType?t[0]:t,t&&1===t.nodeType?e(t.getBoundingClientRect(),n):!1}function i(e){e=null==e?t():1===e.nodeType?n(e):e;var i=e.height,r=e.width;return i="function"==typeof i?i.call(e):i,r="function"==typeof r?r.call(e):r,r/i}var r={},o="undefined"!=typeof window&&window,s="undefined"!=typeof document&&document,l=s&&s.documentElement,a=o.matchMedia||o.msMatchMedia,u=a?function(t){return!!a.call(o,t).matches}:function(){return!1},c=r.viewportW=function(){var t=l.clientWidth,e=o.innerWidth;return e>t?e:t},d=r.viewportH=function(){var t=l.clientHeight,e=o.innerHeight;return e>t?e:t};return r.mq=u,r.matchMedia=a?function(){return a.apply(o,arguments)}:function(){return{}},r.viewport=t,r.scrollX=function(){return o.pageXOffset||l.scrollLeft},r.scrollY=function(){return o.pageYOffset||l.scrollTop},r.rectangle=n,r.aspect=i,r.inX=function(t,e){var i=n(t,e);return!!i&&i.right>=0&&i.left<=c()},r.inY=function(t,e){var i=n(t,e);return!!i&&i.bottom>=0&&i.top<=d()},r.inViewport=function(t,e){var i=n(t,e);return!!i&&i.bottom>=0&&i.right>=0&&i.top<=d()&&i.left<=c()},r}),function(){var t,e,n,i,r,o=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(){function t(){}return t.prototype.extend=function(t,e){var n,i;for(n in e)i=e[n],null==t[n]&&(t[n]=i);return t},t.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},t.prototype.addEvent=function(t,e,n){return null!=t.addEventListener?t.addEventListener(e,n,!1):null!=t.attachEvent?t.attachEvent("on"+e,n):t[e]=n},t.prototype.removeEvent=function(t,e,n){return null!=t.removeEventListener?t.removeEventListener(e,n,!1):null!=t.detachEvent?t.detachEvent("on"+e,n):delete t[e]},t.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t}(),n=this.WeakMap||this.MozWeakMap||(n=function(){function t(){this.keys=[],this.values=[]}return t.prototype.get=function(t){var e,n,i,r,o;for(o=this.keys,e=i=0,r=o.length;r>i;e=++i)if(n=o[e],n===t)return this.values[e]},t.prototype.set=function(t,e){var n,i,r,o,s;for(s=this.keys,n=r=0,o=s.length;o>r;n=++r)if(i=s[n],i===t)return void(this.values[n]=e);return this.keys.push(t),this.values.push(e)},t}()),t=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(t=function(){function t(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return t.notSupported=!0,t.prototype.observe=function(){},t}()),i=this.getComputedStyle||function(t){return this.getPropertyValue=function(e){var n;return"float"===e&&(e="styleFloat"),r.test(e)&&e.replace(r,function(t,e){return e.toUpperCase()}),(null!=(n=t.currentStyle)?n[e]:void 0)||null},this},r=/(\-([a-z]){1})/g,this.WOW=function(){function r(t){null==t&&(t={}),this.scrollCallback=o(this.scrollCallback,this),this.scrollHandler=o(this.scrollHandler,this),this.start=o(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),this.animationNameCache=new n}return r.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null},r.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},r.prototype.start=function(){var e,n,i,r;if(this.stopped=!1,this.boxes=function(){var t,n,i,r;for(i=this.element.querySelectorAll("."+this.config.boxClass),r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e);return r}.call(this),this.all=function(){var t,n,i,r;for(i=this.boxes,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e);return r}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(r=this.boxes,n=0,i=r.length;i>n;n++)e=r[n],this.applyStyle(e,!0);return this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new t(function(t){return function(e){var n,i,r,o,s;for(s=[],r=0,o=e.length;o>r;r++)i=e[r],s.push(function(){var t,e,r,o;for(r=i.addedNodes||[],o=[],t=0,e=r.length;e>t;t++)n=r[t],o.push(this.doSync(n));return o}.call(t));return s}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},r.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},r.prototype.sync=function(){return t.notSupported?this.doSync(this.element):void 0},r.prototype.doSync=function(t){var e,n,i,r,o;if(null==t&&(t=this.element),1===t.nodeType){for(t=t.parentNode||t,r=t.querySelectorAll("."+this.config.boxClass),o=[],n=0,i=r.length;i>n;n++)e=r[n],s.call(this.all,e)<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),o.push(this.scrolled=!0)):o.push(void 0);return o}},r.prototype.show=function(t){return this.applyStyle(t),t.className=""+t.className+" "+this.config.animateClass,null!=this.config.callback?this.config.callback(t):void 0},r.prototype.applyStyle=function(t,e){var n,i,r;return i=t.getAttribute("data-wow-duration"),n=t.getAttribute("data-wow-delay"),r=t.getAttribute("data-wow-iteration"),this.animate(function(o){return function(){return o.customStyle(t,e,i,n,r)}}(this))},r.prototype.animate=function(){return"requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()}}(),r.prototype.resetStyle=function(){var t,e,n,i,r;for(i=this.boxes,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.style.visibility="visible");return r},r.prototype.customStyle=function(t,e,n,i,r){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",n&&this.vendorSet(t.style,{animationDuration:n}),i&&this.vendorSet(t.style,{animationDelay:i}),r&&this.vendorSet(t.style,{animationIterationCount:r}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},r.prototype.vendors=["moz","webkit"],r.prototype.vendorSet=function(t,e){var n,i,r,o;o=[];for(n in e)i=e[n],t[""+n]=i,o.push(function(){var e,o,s,l;for(s=this.vendors,l=[],e=0,o=s.length;o>e;e++)r=s[e],l.push(t[""+r+n.charAt(0).toUpperCase()+n.substr(1)]=i);return l}.call(this));return o},r.prototype.vendorCSS=function(t,e){var n,r,o,s,l,a;for(r=i(t),n=r.getPropertyCSSValue(e),a=this.vendors,s=0,l=a.length;l>s;s++)o=a[s],n=n||r.getPropertyCSSValue("-"+o+"-"+e);return n},r.prototype.animationName=function(t){var e;try{e=this.vendorCSS(t,"animation-name").cssText}catch(n){e=i(t).getPropertyValue("animation-name")}return"none"===e?"":e},r.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},r.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},r.prototype.scrollHandler=function(){return this.scrolled=!0},r.prototype.scrollCallback=function(){var t;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var e,n,i,r;for(i=this.boxes,r=[],e=0,n=i.length;n>e;e++)t=i[e],t&&(this.isVisible(t)?this.show(t):r.push(t));return r}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},r.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},r.prototype.isVisible=function(t){var e,n,i,r,o;return n=t.getAttribute("data-wow-offset")||this.config.offset,o=window.pageYOffset,r=o+Math.min(this.element.clientHeight,this.util().innerHeight())-n,i=this.offsetTop(t),e=i+t.clientHeight,r>=i&&e>=o},r.prototype.util=function(){return null!=this._util?this._util:this._util=new e},r.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},r}()}.call(this),(new WOW).init(),function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():t[e]=n()}(this,"verge",function(){function t(){return{width:c(),height:d()}}function e(t,e){var n={};return e=+e||0,n.width=(n.right=t.right+e)-(n.left=t.left-e),n.height=(n.bottom=t.bottom+e)-(n.top=t.top-e),n}function n(t,n){return t=t&&!t.nodeType?t[0]:t,t&&1===t.nodeType?e(t.getBoundingClientRect(),n):!1}function i(e){e=null==e?t():1===e.nodeType?n(e):e;var i=e.height,r=e.width;return i="function"==typeof i?i.call(e):i,r="function"==typeof r?r.call(e):r,r/i}var r={},o="undefined"!=typeof window&&window,s="undefined"!=typeof document&&document,l=s&&s.documentElement,a=o.matchMedia||o.msMatchMedia,u=a?function(t){return!!a.call(o,t).matches}:function(){return!1},c=r.viewportW=function(){var t=l.clientWidth,e=o.innerWidth;return e>t?e:t},d=r.viewportH=function(){var t=l.clientHeight,e=o.innerHeight;return e>t?e:t};return r.mq=u,r.matchMedia=a?function(){return a.apply(o,arguments)}:function(){return{}},r.viewport=t,r.scrollX=function(){return o.pageXOffset||l.scrollLeft},r.scrollY=function(){return o.pageYOffset||l.scrollTop},r.rectangle=n,r.aspect=i,r.inX=function(t,e){var i=n(t,e);return!!i&&i.right>=0&&i.left<=c()},r.inY=function(t,e){var i=n(t,e);return!!i&&i.bottom>=0&&i.top<=d()},r.inViewport=function(t,e){var i=n(t,e);return!!i&&i.bottom>=0&&i.right>=0&&i.top<=d()&&i.left<=c()},r});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJwbHVnaW5zL3ZlcmdlLTEuOS4xLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJzdHlsZU1lZGlhIiwibWVkaWEiLCJzdHlsZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNjcmlwdCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaW5mbyIsInR5cGUiLCJpZCIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJnZXRDb21wdXRlZFN0eWxlIiwiY3VycmVudFN0eWxlIiwibWF0Y2hNZWRpdW0iLCJ0ZXh0Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJ0ZXh0Q29udGVudCIsIndpZHRoIiwibWF0Y2hlcyIsInciLCJkb2MiLCJpbWFnZSIsInBpY3R1cmVmaWxsIiwib3B0IiwiZWxlbWVudHMiLCJlbGVtZW50IiwicGFyZW50IiwiZmlyc3RNYXRjaCIsImNhbmRpZGF0ZXMiLCJvcHRpb25zIiwicGYiLCJnZXRBbGxFbGVtZW50cyIsImkiLCJwbGVuIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibm9kZU5hbWUiLCJ0b1VwcGVyQ2FzZSIsIm5zIiwicmVldmFsdWF0ZSIsImV2YWx1YXRlZCIsInJlbW92ZVZpZGVvU2hpbSIsImdldE1hdGNoIiwic3Jjc2V0Iiwic3Jjc2V0U3VwcG9ydGVkIiwic2l6ZXNTdXBwb3J0ZWQiLCJpbmRleE9mIiwiZG9kZ2VTcmNzZXQiLCJwcm9jZXNzU291cmNlU2V0IiwiYXBwbHlCZXN0Q2FuZGlkYXRlIiwicnVuUGljdHVyZWZpbGwiLCJjaGVja1Jlc2l6ZSIsInJlc2l6ZVRocm90dGxlIiwiX3BpY3R1cmVmaWxsV29ya2luZyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJpbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJ0ZXN0IiwicmVhZHlTdGF0ZSIsImNsZWFySW50ZXJ2YWwiLCJhZGRFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJIVE1MUGljdHVyZUVsZW1lbnQiLCJ0cmltIiwic3RyIiwicmVwbGFjZSIsImVuZHNXaXRoIiwic3VmZml4IiwicmVzdHJpY3RzTWl4ZWRDb250ZW50IiwibG9jYXRpb24iLCJwcm90b2NvbCIsIm1hdGNoZXNNZWRpYSIsImdldERwciIsImRldmljZVBpeGVsUmF0aW8iLCJnZXRXaWR0aEZyb21MZW5ndGgiLCJwYXJzZUZsb2F0IiwibGVuZ3RoRWwiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGFzc05hbWUiLCJvZmZzZXRXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwidHlwZXMiLCJpbXBsZW1lbnRhdGlvbiIsImhhc0ZlYXR1cmUiLCJvbmVycm9yIiwib25sb2FkIiwic3JjIiwidmVyaWZ5VHlwZVN1cHBvcnQiLCJzb3VyY2UiLCJnZXRBdHRyaWJ1dGUiLCJwYXJzZVNpemUiLCJzb3VyY2VTaXplU3RyIiwibWF0Y2giLCJleGVjIiwiZmluZFdpZHRoRnJvbVNvdXJjZVNpemUiLCJzb3VyY2VTaXplTGlzdFN0ciIsIndpbm5pbmdMZW5ndGgiLCJzb3VyY2VTaXplTGlzdCIsInNwbGl0IiwibGVuIiwic291cmNlU2l6ZSIsInBhcnNlZFNpemUiLCJwYXJzZVNyY3NldCIsInVybCIsInBvcyIsInNlYXJjaCIsImRlc2NyaXB0b3IiLCJzbGljZSIsImxhc3QiLCJkZXNjcG9zIiwicHVzaCIsInBhcnNlRGVzY3JpcHRvciIsInNpemVzYXR0ciIsInJlc0NhbmRpZGF0ZSIsInNpemVzIiwic2l6ZURlc2NyaXB0b3IiLCJ3aWR0aEluQ3NzUGl4ZWxzIiwic3BsaXREZXNjcmlwdG9yIiwiY3VyciIsImxhc3RjaGFyIiwicmVzIiwiaXNOYU4iLCJwYXJzZUludCIsImdldENhbmRpZGF0ZXNGcm9tU291cmNlU2V0IiwiZm9ybWF0dGVkQ2FuZGlkYXRlcyIsImNhbmRpZGF0ZSIsInJlc29sdXRpb24iLCJpbWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJlbCIsInBpY0ltZyIsImJlc3RDYW5kaWRhdGUiLCJzb3J0IiwiYXNjZW5kaW5nU29ydCIsInN1YnN0ciIsInRvTG93ZXJDYXNlIiwiY29uc29sZSIsIndhcm4iLCJjdXJyZW50U3JjIiwiV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5IiwiY3VycmVudFpvb20iLCJ6b29tIiwiYSIsImIiLCJwaWN0dXJlIiwidmlkZW9zIiwidmlkZW8iLCJ2c291cmNlcyIsImVsZW1zIiwiaW1ncyIsImgiLCJjdXJySW1nIiwic291cmNlcyIsImNoaWxkTm9kZXMiLCJqIiwic2xlbiIsIm5vZGVUeXBlIiwidHlwZVN1cHBvcnRlZCIsIl8iLCJtb2R1bGUiLCJleHBvcnRzIiwiZGVmaW5lIiwiYW1kIiwidGhpcyIsIkltYWdlIiwicm9vdCIsIm5hbWUiLCJtYWtlIiwidmlld3BvcnQiLCJ2aWV3cG9ydFciLCJoZWlnaHQiLCJ2aWV3cG9ydEgiLCJjYWxpYnJhdGUiLCJjb29yZHMiLCJjdXNoaW9uIiwibyIsInJlY3RhbmdsZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFzcGVjdCIsImNhbGwiLCJ4cG9ydHMiLCJ3aW4iLCJkb2NFbGVtIiwibXEiLCJxIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJwYWdlWE9mZnNldCIsInNjcm9sbExlZnQiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsInIiLCJyaWdodCIsImxlZnQiLCJib3R0b20iLCJ0b3AiLCJNdXRhdGlvbk9ic2VydmVyIiwiVXRpbCIsIldlYWtNYXAiLCJnZXRDb21wdXRlZFN0eWxlUlgiLCJfX2JpbmQiLCJmbiIsIm1lIiwiX19pbmRleE9mIiwiaXRlbSIsImwiLCJwcm90b3R5cGUiLCJleHRlbmQiLCJjdXN0b20iLCJkZWZhdWx0cyIsImtleSIsInZhbHVlIiwiaXNNb2JpbGUiLCJhZ2VudCIsImFkZEV2ZW50IiwiZWxlbSIsImV2ZW50IiwicmVtb3ZlRXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJpbm5lckhlaWdodCIsImNsaWVudEhlaWdodCIsIk1veldlYWtNYXAiLCJrZXlzIiwidmFsdWVzIiwiZ2V0IiwiX2kiLCJfbGVuIiwiX3JlZiIsInNldCIsIldlYmtpdE11dGF0aW9uT2JzZXJ2ZXIiLCJNb3pNdXRhdGlvbk9ic2VydmVyIiwibm90U3VwcG9ydGVkIiwib2JzZXJ2ZSIsImdldFByb3BlcnR5VmFsdWUiLCJwcm9wIiwiX2NoYXIiLCJXT1ciLCJzY3JvbGxDYWxsYmFjayIsInNjcm9sbEhhbmRsZXIiLCJzdGFydCIsInNjcm9sbGVkIiwiY29uZmlnIiwidXRpbCIsImFuaW1hdGlvbk5hbWVDYWNoZSIsImJveENsYXNzIiwiYW5pbWF0ZUNsYXNzIiwib2Zmc2V0IiwibW9iaWxlIiwibGl2ZSIsImNhbGxiYWNrIiwiaW5pdCIsImZpbmlzaGVkIiwiYm94Iiwic3RvcHBlZCIsImJveGVzIiwiX3Jlc3VsdHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWxsIiwiZGlzYWJsZWQiLCJyZXNldFN0eWxlIiwiYXBwbHlTdHlsZSIsImludGVydmFsIiwiX3RoaXMiLCJyZWNvcmRzIiwibm9kZSIsInJlY29yZCIsIl9qIiwiX2xlbjEiLCJfayIsIl9sZW4yIiwiX3JlZjEiLCJfcmVzdWx0czEiLCJhZGRlZE5vZGVzIiwiZG9TeW5jIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsInN0b3AiLCJzeW5jIiwic2hvdyIsImhpZGRlbiIsImRlbGF5IiwiZHVyYXRpb24iLCJpdGVyYXRpb24iLCJhbmltYXRlIiwiY3VzdG9tU3R5bGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ2aXNpYmlsaXR5IiwiY2FjaGVBbmltYXRpb25OYW1lIiwidmVuZG9yU2V0IiwiYW5pbWF0aW9uRHVyYXRpb24iLCJhbmltYXRpb25EZWxheSIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiYW5pbWF0aW9uTmFtZSIsImNhY2hlZEFuaW1hdGlvbk5hbWUiLCJ2ZW5kb3JzIiwicHJvcGVydGllcyIsInZlbmRvciIsImNoYXJBdCIsInZlbmRvckNTUyIsInByb3BlcnR5IiwicmVzdWx0IiwiZ2V0UHJvcGVydHlDU1NWYWx1ZSIsIl9lcnJvciIsImlzVmlzaWJsZSIsIm9mZnNldFRvcCIsIm9mZnNldFBhcmVudCIsInZpZXdCb3R0b20iLCJ2aWV3VG9wIiwiTWF0aCIsIm1pbiIsIl91dGlsIiwibmF2aWdhdG9yIiwidXNlckFnZW50Il0sIm1hcHBpbmdzIjoiQUFLQUEsT0FBQUMsYUFBQUQsT0FBQUMsV0FBQSxXQUNBLFlBR0EsSUFBQUMsR0FBQUYsT0FBQUUsWUFBQUYsT0FBQUcsS0FHQSxLQUFBRCxFQUFBLENBQ0EsR0FBQUUsR0FBQUMsU0FBQUMsY0FBQSxTQUNBQyxFQUFBRixTQUFBRyxxQkFBQSxVQUFBLEdBQ0FDLEVBQUEsSUFFQUwsR0FBQU0sS0FBQSxXQUNBTixFQUFBTyxHQUFBLG9CQUVBSixFQUFBSyxXQUFBQyxhQUFBVCxFQUFBRyxHQUdBRSxFQUFBLG9CQUFBVCxTQUFBQSxPQUFBYyxpQkFBQVYsRUFBQSxPQUFBQSxFQUFBVyxhQUVBYixHQUNBYyxZQUFBLFNBQUFiLEdBQ0EsR0FBQWMsR0FBQSxVQUFBZCxFQUFBLHdDQVVBLE9BUEFDLEdBQUFjLFdBQ0FkLEVBQUFjLFdBQUFDLFFBQUFGLEVBRUFiLEVBQUFnQixZQUFBSCxFQUlBLFFBQUFSLEVBQUFZLFFBS0EsTUFBQSxVQUFBbEIsR0FDQSxPQUNBbUIsUUFBQXBCLEVBQUFjLFlBQUFiLEdBQUEsT0FDQUEsTUFBQUEsR0FBQSxZQVNBLFNBQUFvQixFQUFBQyxFQUFBQyxHQUVBLFlBb2RBLFNBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsR0FDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFBQU4sS0FFQUMsR0FBQUssRUFBQUwsVUFBQU0sRUFBQUMsZ0JBR0EsS0FBQSxHQUFBQyxHQUFBLEVBQUFDLEVBQUFULEVBQUFVLE9BQUFELEVBQUFELEVBQUFBLElBT0EsR0FOQVAsRUFBQUQsRUFBQVEsR0FDQU4sRUFBQUQsRUFBQWpCLFdBQ0FtQixFQUFBUSxPQUNBUCxFQUFBTyxPQUdBLFFBQUFWLEVBQUFXLFNBQUFDLGdCQUtBWixFQUFBSyxFQUFBUSxNQUNBYixFQUFBSyxFQUFB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LFNBQUFuRCxFQUFBNkMsR0FDQSxHQUFBaUIsR0FBQWYsRUFBQS9DLEVBQUE2QyxFQUNBLFNBQUFpQixHQUFBQSxFQUFBRyxRQUFBLEdBQUFILEVBQUFJLEtBQUF4QixLQVVBUyxFQUFBLFdBQUEsU0FBQW5ELEVBQUE2QyxHQUdBLEdBQUFpQixHQUFBZixFQUFBL0MsRUFBQTZDLEVBQ0EsU0FBQWlCLEdBQUFBLEVBQUFHLFFBQUEsR0FBQUgsRUFBQUMsT0FBQSxHQUFBRCxFQUFBSSxLQUFBeEIsS0FBQW9CLEVBQUFFLE1BQUF4QixLQUdBVyIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIFBpY3R1cmVmaWxsIC0gdjIuMi4wIC0gMjAxNC0xMC0zMFxuKiBodHRwOi8vc2NvdHRqZWhsLmdpdGh1Yi5pby9waWN0dXJlZmlsbFxuKiBDb3B5cmlnaHQgKGMpIDIwMTQgaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0amVobC9waWN0dXJlZmlsbC9ibG9iL21hc3Rlci9BdXRob3JzLnR4dDsgTGljZW5zZWQgTUlUICovXG4vKiEgbWF0Y2hNZWRpYSgpIHBvbHlmaWxsIC0gVGVzdCBhIENTUyBtZWRpYSB0eXBlL3F1ZXJ5IGluIEpTLiBBdXRob3JzICYgY29weXJpZ2h0IChjKSAyMDEyOiBTY290dCBKZWhsLCBQYXVsIElyaXNoLCBOaWNob2xhcyBaYWthcywgRGF2aWQgS25pZ2h0LiBEdWFsIE1JVC9CU0QgbGljZW5zZSAqL1xuXG53aW5kb3cubWF0Y2hNZWRpYSB8fCAod2luZG93Lm1hdGNoTWVkaWEgPSBmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0Ly8gRm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBtYXRjaE1lZGl1bSBhcGkgc3VjaCBhcyBJRSA5IGFuZCB3ZWJraXRcblx0dmFyIHN0eWxlTWVkaWEgPSAod2luZG93LnN0eWxlTWVkaWEgfHwgd2luZG93Lm1lZGlhKTtcblxuXHQvLyBGb3IgdGhvc2UgdGhhdCBkb24ndCBzdXBwb3J0IG1hdGNoTWVkaXVtXG5cdGlmICghc3R5bGVNZWRpYSkge1xuXHRcdHZhciBzdHlsZSAgICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyksXG5cdFx0XHRzY3JpcHQgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXSxcblx0XHRcdGluZm8gICAgICAgID0gbnVsbDtcblxuXHRcdHN0eWxlLnR5cGUgID0gJ3RleHQvY3NzJztcblx0XHRzdHlsZS5pZCAgICA9ICdtYXRjaG1lZGlhanMtdGVzdCc7XG5cblx0XHRzY3JpcHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc3R5bGUsIHNjcmlwdCk7XG5cblx0XHQvLyAnc3R5bGUuY3VycmVudFN0eWxlJyBpcyB1c2VkIGJ5IElFIDw9IDggYW5kICd3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZScgZm9yIGFsbCBvdGhlciBicm93c2Vyc1xuXHRcdGluZm8gPSAoJ2dldENvbXB1dGVkU3R5bGUnIGluIHdpbmRvdykgJiYgd2luZG93LmdldENvbXB1dGVkU3R5bGUoc3R5bGUsIG51bGwpIHx8IHN0eWxlLmN1cnJlbnRTdHlsZTtcblxuXHRcdHN0eWxlTWVkaWEgPSB7XG5cdFx0XHRtYXRjaE1lZGl1bTogZnVuY3Rpb24obWVkaWEpIHtcblx0XHRcdFx0dmFyIHRleHQgPSAnQG1lZGlhICcgKyBtZWRpYSArICd7ICNtYXRjaG1lZGlhanMtdGVzdCB7IHdpZHRoOiAxcHg7IH0gfSc7XG5cblx0XHRcdFx0Ly8gJ3N0eWxlLnN0eWxlU2hlZXQnIGlzIHVzZWQgYnkgSUUgPD0gOCBhbmQgJ3N0eWxlLnRleHRDb250ZW50JyBmb3IgYWxsIG90aGVyIGJyb3dzZXJzXG5cdFx0XHRcdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0XHRcdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gdGV4dDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdHlsZS50ZXh0Q29udGVudCA9IHRleHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUZXN0IGlmIG1lZGlhIHF1ZXJ5IGlzIHRydWUgb3IgZmFsc2Vcblx0XHRcdFx0cmV0dXJuIGluZm8ud2lkdGggPT09ICcxcHgnO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRyZXR1cm4gZnVuY3Rpb24obWVkaWEpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bWF0Y2hlczogc3R5bGVNZWRpYS5tYXRjaE1lZGl1bShtZWRpYSB8fCAnYWxsJyksXG5cdFx0XHRtZWRpYTogbWVkaWEgfHwgJ2FsbCdcblx0XHR9O1xuXHR9O1xufSgpKTtcbi8qISBQaWN0dXJlZmlsbCAtIFJlc3BvbnNpdmUgSW1hZ2VzIHRoYXQgd29yayB0b2RheS5cbiogIEF1dGhvcjogU2NvdHQgSmVobCwgRmlsYW1lbnQgR3JvdXAsIDIwMTIgKCBuZXcgcHJvcG9zYWwgaW1wbGVtZW50ZWQgYnkgU2hhd24gSmFuc2VwYXIgKVxuKiAgTGljZW5zZTogTUlUL0dQTHYyXG4qICBTcGVjOiBodHRwOi8vcGljdHVyZS5yZXNwb25zaXZlaW1hZ2VzLm9yZy9cbiovXG4oZnVuY3Rpb24oIHcsIGRvYywgaW1hZ2UgKSB7XG5cdC8vIEVuYWJsZSBzdHJpY3QgbW9kZVxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyBJZiBwaWN0dXJlIGlzIHN1cHBvcnRlZCwgd2VsbCwgdGhhdCdzIGF3ZXNvbWUuIExldCdzIGdldCBvdXR0YSBoZXJlLi4uXG5cdGlmICggdy5IVE1MUGljdHVyZUVsZW1lbnQgKSB7XG5cdFx0dy5waWN0dXJlZmlsbCA9IGZ1bmN0aW9uKCkgeyB9O1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIEhUTUwgc2hpbXx2IGl0IGZvciBvbGQgSUUgKElFOSB3aWxsIHN0aWxsIG5lZWQgdGhlIEhUTUwgdmlkZW8gdGFnIHdvcmthcm91bmQpXG5cdGRvYy5jcmVhdGVFbGVtZW50KCBcInBpY3R1cmVcIiApO1xuXG5cdC8vIGxvY2FsIG9iamVjdCBmb3IgbWV0aG9kIHJlZmVyZW5jZXMgYW5kIHRlc3RpbmcgZXhwb3N1cmVcblx0dmFyIHBmID0ge307XG5cblx0Ly8gbmFtZXNwYWNlXG5cdHBmLm5zID0gXCJwaWN0dXJlZmlsbFwiO1xuXG5cdC8vIHNyY3NldCBzdXBwb3J0IHRlc3Rcblx0KGZ1bmN0aW9uKCkge1xuXHRcdHBmLnNyY3NldFN1cHBvcnRlZCA9IFwic3Jjc2V0XCIgaW4gaW1hZ2U7XG5cdFx0cGYuc2l6ZXNTdXBwb3J0ZWQgPSBcInNpemVzXCIgaW4gaW1hZ2U7XG5cdH0pKCk7XG5cblx0Ly8ganVzdCBhIHN0cmluZyB0cmltIHdvcmthcm91bmRcblx0cGYudHJpbSA9IGZ1bmN0aW9uKCBzdHIgKSB7XG5cdFx0cmV0dXJuIHN0ci50cmltID8gc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKCAvXlxccyt8XFxzKyQvZywgXCJcIiApO1xuXHR9O1xuXG5cdC8vIGp1c3QgYSBzdHJpbmcgZW5kc1dpdGggd29ya2Fyb3VuZFxuXHRwZi5lbmRzV2l0aCA9IGZ1bmN0aW9uKCBzdHIsIHN1ZmZpeCApIHtcblx0XHRyZXR1cm4gc3RyLmVuZHNXaXRoID8gc3RyLmVuZHNXaXRoKCBzdWZmaXggKSA6IHN0ci5pbmRleE9mKCBzdWZmaXgsIHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoICkgIT09IC0xO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBTaG9ydGN1dCBtZXRob2QgZm9yIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJhcHBzZWMvc3BlY3MvbWl4ZWRjb250ZW50LyNyZXN0cmljdHMtbWl4ZWQtY29udGVudCAoIGZvciBlYXN5IG92ZXJyaWRpbmcgaW4gdGVzdHMgKVxuXHQgKi9cblx0cGYucmVzdHJpY3RzTWl4ZWRDb250ZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHcubG9jYXRpb24ucHJvdG9jb2wgPT09IFwiaHR0cHM6XCI7XG5cdH07XG5cdC8qKlxuXHQgKiBTaG9ydGN1dCBtZXRob2QgZm9yIG1hdGNoTWVkaWEgKCBmb3IgZWFzeSBvdmVycmlkaW5nIGluIHRlc3RzIClcblx0ICovXG5cblx0cGYubWF0Y2hlc01lZGlhID0gZnVuY3Rpb24oIG1lZGlhICkge1xuXHRcdHJldHVybiB3Lm1hdGNoTWVkaWEgJiYgdy5tYXRjaE1lZGlhKCBtZWRpYSApLm1hdGNoZXM7XG5cdH07XG5cblx0Ly8gU2hvcnRjdXQgbWV0aG9kIGZvciBgZGV2aWNlUGl4ZWxSYXRpb2AgKCBmb3IgZWFzeSBvdmVycmlkaW5nIGluIHRlc3RzIClcblx0cGYuZ2V0RHByID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICggdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEgKTtcblx0fTtcblxuXHQvKipcblx0ICogR2V0IHdpZHRoIGluIGNzcyBwaXhlbCB2YWx1ZSBmcm9tIGEgXCJsZW5ndGhcIiB2YWx1ZVxuXHQgKiBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtdmFsdWVzLTMvI2xlbmd0aC12YWx1ZVxuXHQgKi9cblx0cGYuZ2V0V2lkdGhGcm9tTGVuZ3RoID0gZnVuY3Rpb24oIGxlbmd0aCApIHtcblx0XHQvLyBJZiBhIGxlbmd0aCBpcyBzcGVjaWZpZWQgYW5kIGRvZXNu4oCZdCBjb250YWluIGEgcGVyY2VudGFnZSwgYW5kIGl0IGlzIGdyZWF0ZXIgdGhhbiAwIG9yIHVzaW5nIGBjYWxjYCwgdXNlIGl0LiBFbHNlLCB1c2UgdGhlIGAxMDB2d2AgZGVmYXVsdC5cblx0XHRsZW5ndGggPSBsZW5ndGggJiYgbGVuZ3RoLmluZGV4T2YoIFwiJVwiICkgPiAtMSA9PT0gZmFsc2UgJiYgKCBwYXJzZUZsb2F0KCBsZW5ndGggKSA+IDAgfHwgbGVuZ3RoLmluZGV4T2YoIFwiY2FsYyhcIiApID4gLTEgKSA/IGxlbmd0aCA6IFwiMTAwdndcIjtcblxuXHRcdC8qKlxuXHRcdCAqIElmIGxlbmd0aCBpcyBzcGVjaWZpZWQgaW4gIGB2d2AgdW5pdHMsIHVzZSBgJWAgaW5zdGVhZCBzaW5jZSB0aGUgZGl2IHdl4oCZcmUgbWVhc3VyaW5nXG5cdFx0ICogaXMgaW5qZWN0ZWQgYXQgdGhlIHRvcCBvZiB0aGUgZG9jdW1lbnQuXG5cdFx0ICpcblx0XHQgKiBUT0RPOiBtYXliZSB3ZSBzaG91bGQgcHV0IHRoaXMgYmVoaW5kIGEgZmVhdHVyZSB0ZXN0IGZvciBgdndgP1xuXHRcdCAqL1xuXHRcdGxlbmd0aCA9IGxlbmd0aC5yZXBsYWNlKCBcInZ3XCIsIFwiJVwiICk7XG5cblx0XHQvLyBDcmVhdGUgYSBjYWNoZWQgZWxlbWVudCBmb3IgZ2V0dGluZyBsZW5ndGggdmFsdWUgd2lkdGhzXG5cdFx0aWYgKCAhcGYubGVuZ3RoRWwgKSB7XG5cdFx0XHRwZi5sZW5ndGhFbCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cblx0XHRcdC8vIFBvc2l0aW9uaW5nIHN0eWxlcyBoZWxwIHByZXZlbnQgcGFkZGluZy9tYXJnaW4vd2lkdGggb24gYGh0bWxgIG9yIGBib2R5YCBmcm9tIHRocm93aW5nIGNhbGN1bGF0aW9ucyBvZmYuXG5cdFx0XHRwZi5sZW5ndGhFbC5zdHlsZS5jc3NUZXh0ID0gXCJib3JkZXI6MDtkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZToxZW07bGVmdDowO21hcmdpbjowO3BhZGRpbmc6MDtwb3NpdGlvbjphYnNvbHV0ZTt2aXNpYmlsaXR5OmhpZGRlblwiO1xuXHRcdH1cblxuXHRcdHBmLmxlbmd0aEVsLnN0eWxlLndpZHRoID0gbGVuZ3RoO1xuXG5cdFx0ZG9jLmJvZHkuYXBwZW5kQ2hpbGQocGYubGVuZ3RoRWwpO1xuXG5cdFx0Ly8gQWRkIGEgY2xhc3MsIHNvIHRoYXQgZXZlcnlvbmUga25vd3Mgd2hlcmUgdGhpcyBlbGVtZW50IGNvbWVzIGZyb21cblx0XHRwZi5sZW5ndGhFbC5jbGFzc05hbWUgPSBcImhlbHBlci1mcm9tLXBpY3R1cmVmaWxsLWpzXCI7XG5cblx0XHRpZiAoIHBmLmxlbmd0aEVsLm9mZnNldFdpZHRoIDw9IDAgKSB7XG5cdFx0XHQvLyBTb21ldGhpbmcgaGFzIGdvbmUgd3JvbmcuIGBjYWxjKClgIGlzIGluIHVzZSBhbmQgdW5zdXBwb3J0ZWQsIG1vc3QgbGlrZWx5LiBEZWZhdWx0IHRvIGAxMDB2d2AgKGAxMDAlYCwgZm9yIGJyb2FkZXIgc3VwcG9ydC4pOlxuXHRcdFx0cGYubGVuZ3RoRWwuc3R5bGUud2lkdGggPSBkb2MuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoICsgXCJweFwiO1xuXHRcdH1cblxuXHRcdHZhciBvZmZzZXRXaWR0aCA9IHBmLmxlbmd0aEVsLm9mZnNldFdpZHRoO1xuXG5cdFx0ZG9jLmJvZHkucmVtb3ZlQ2hpbGQoIHBmLmxlbmd0aEVsICk7XG5cblx0XHRyZXR1cm4gb2Zmc2V0V2lkdGg7XG5cdH07XG5cblx0Ly8gY29udGFpbmVyIG9mIHN1cHBvcnRlZCBtaW1lIHR5cGVzIHRoYXQgb25lIG1pZ2h0IG5lZWQgdG8gcXVhbGlmeSBiZWZvcmUgdXNpbmdcblx0cGYudHlwZXMgPSAge307XG5cblx0Ly8gQWRkIHN1cHBvcnQgZm9yIHN0YW5kYXJkIG1pbWUgdHlwZXNcblx0cGYudHlwZXNbIFwiaW1hZ2UvanBlZ1wiIF0gPSB0cnVlO1xuXHRwZi50eXBlc1sgXCJpbWFnZS9naWZcIiBdID0gdHJ1ZTtcblx0cGYudHlwZXNbIFwiaW1hZ2UvcG5nXCIgXSA9IHRydWU7XG5cblx0Ly8gdGVzdCBzdmcgc3VwcG9ydFxuXHRwZi50eXBlc1sgXCJpbWFnZS9zdmcreG1sXCIgXSA9IGRvYy5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKFwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNJbWFnZVwiLCBcIjEuMVwiKTtcblxuXHQvLyB0ZXN0IHdlYnAgc3VwcG9ydCwgb25seSB3aGVuIHRoZSBtYXJrdXAgY2FsbHMgZm9yIGl0XG5cdHBmLnR5cGVzWyBcImltYWdlL3dlYnBcIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gYmFzZWQgb24gTW9kZXJuaXpyJ3MgbG9zc2xlc3MgaW1nLXdlYnAgdGVzdFxuXHRcdC8vIG5vdGU6IGFzeW5jaHJvbm91c1xuXHRcdHZhciB0eXBlID0gXCJpbWFnZS93ZWJwXCI7XG5cblx0XHRpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRwZi50eXBlc1sgdHlwZSBdID0gZmFsc2U7XG5cdFx0XHRwaWN0dXJlZmlsbCgpO1xuXHRcdH07XG5cdFx0aW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRwZi50eXBlc1sgdHlwZSBdID0gaW1hZ2Uud2lkdGggPT09IDE7XG5cdFx0XHRwaWN0dXJlZmlsbCgpO1xuXHRcdH07XG5cdFx0aW1hZ2Uuc3JjID0gXCJkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaDRBQUFCWFJVSlFWbEE0VEJFQUFBQXZBQUFBQUFmUS8vNzN2LytCaU9oL0FBQT1cIjtcblx0fTtcblxuXHQvKipcblx0ICogVGFrZXMgYSBzb3VyY2UgZWxlbWVudCBhbmQgY2hlY2tzIGlmIGl0cyB0eXBlIGF0dHJpYnV0ZSBpcyBwcmVzZW50IGFuZCBpZiBzbywgc3VwcG9ydGVkXG5cdCAqIE5vdGU6IGZvciB0eXBlIHRlc3RzIHRoYXQgcmVxdWlyZSBhIGFzeW5jIGxvZ2ljLFxuXHQgKiB5b3UgY2FuIGRlZmluZSB0aGVtIGFzIGEgZnVuY3Rpb24gdGhhdCdsbCBydW4gb25seSBpZiB0aGF0IHR5cGUgbmVlZHMgdG8gYmUgdGVzdGVkLiBKdXN0IG1ha2UgdGhlIHRlc3QgZnVuY3Rpb24gY2FsbCBwaWN0dXJlZmlsbCBhZ2FpbiB3aGVuIGl0IGlzIGNvbXBsZXRlLlxuXHQgKiBzZWUgdGhlIGFzeW5jIHdlYnAgdGVzdCBhYm92ZSBmb3IgZXhhbXBsZVxuXHQgKi9cblx0cGYudmVyaWZ5VHlwZVN1cHBvcnQgPSBmdW5jdGlvbiggc291cmNlICkge1xuXHRcdHZhciB0eXBlID0gc291cmNlLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKTtcblx0XHQvLyBpZiB0eXBlIGF0dHJpYnV0ZSBleGlzdHMsIHJldHVybiB0ZXN0IHJlc3VsdCwgb3RoZXJ3aXNlIHJldHVybiB0cnVlXG5cdFx0aWYgKCB0eXBlID09PSBudWxsIHx8IHR5cGUgPT09IFwiXCIgKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaWYgdGhlIHR5cGUgdGVzdCBpcyBhIGZ1bmN0aW9uLCBydW4gaXQgYW5kIHJldHVybiBcInBlbmRpbmdcIiBzdGF0dXMuIFRoZSBmdW5jdGlvbiB3aWxsIHJlcnVuIHBpY3R1cmVmaWxsIG9uIHBlbmRpbmcgZWxlbWVudHMgb25jZSBmaW5pc2hlZC5cblx0XHRcdGlmICggdHlwZW9mKCBwZi50eXBlc1sgdHlwZSBdICkgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0cGYudHlwZXNbIHR5cGUgXSgpO1xuXHRcdFx0XHRyZXR1cm4gXCJwZW5kaW5nXCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gcGYudHlwZXNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0Ly8gUGFyc2VzIGFuIGluZGl2aWR1YWwgYHNpemVgIGFuZCByZXR1cm5zIHRoZSBsZW5ndGgsIGFuZCBvcHRpb25hbCBtZWRpYSBxdWVyeVxuXHRwZi5wYXJzZVNpemUgPSBmdW5jdGlvbiggc291cmNlU2l6ZVN0ciApIHtcblx0XHR2YXIgbWF0Y2ggPSAvKFxcKFteKV0rXFwpKT9cXHMqKC4rKS9nLmV4ZWMoIHNvdXJjZVNpemVTdHIgKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bWVkaWE6IG1hdGNoICYmIG1hdGNoWzFdLFxuXHRcdFx0bGVuZ3RoOiBtYXRjaCAmJiBtYXRjaFsyXVxuXHRcdH07XG5cdH07XG5cblx0Ly8gVGFrZXMgYSBzdHJpbmcgb2Ygc2l6ZXMgYW5kIHJldHVybnMgdGhlIHdpZHRoIGluIHBpeGVscyBhcyBhIG51bWJlclxuXHRwZi5maW5kV2lkdGhGcm9tU291cmNlU2l6ZSA9IGZ1bmN0aW9uKCBzb3VyY2VTaXplTGlzdFN0ciApIHtcblx0XHQvLyBTcGxpdCB1cCBzb3VyY2Ugc2l6ZSBsaXN0LCBpZSAoIG1heC13aWR0aDogMzBlbSApIDEwMCUsICggbWF4LXdpZHRoOiA1MGVtICkgNTAlLCAzMyVcblx0XHQvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciAobWluLXdpZHRoOjMwZW0pIGNhbGMoMzAlIC0gMTVweClcblx0XHR2YXIgc291cmNlU2l6ZUxpc3QgPSBwZi50cmltKCBzb3VyY2VTaXplTGlzdFN0ciApLnNwbGl0KCAvXFxzKixcXHMqLyApLFxuXHRcdFx0d2lubmluZ0xlbmd0aDtcblxuXHRcdGZvciAoIHZhciBpID0gMCwgbGVuID0gc291cmNlU2l6ZUxpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHQvLyBNYXRjaCA8bWVkaWEtY29uZGl0aW9uPj8gbGVuZ3RoLCBpZSAoIG1pbi13aWR0aDogNTBlbSApIDEwMCVcblx0XHRcdHZhciBzb3VyY2VTaXplID0gc291cmNlU2l6ZUxpc3RbIGkgXSxcblx0XHRcdFx0Ly8gU3BsaXQgXCIoIG1pbi13aWR0aDogNTBlbSApIDEwMCVcIiBpbnRvIHNlcGFyYXRlIHN0cmluZ3Ncblx0XHRcdFx0cGFyc2VkU2l6ZSA9IHBmLnBhcnNlU2l6ZSggc291cmNlU2l6ZSApLFxuXHRcdFx0XHRsZW5ndGggPSBwYXJzZWRTaXplLmxlbmd0aCxcblx0XHRcdFx0bWVkaWEgPSBwYXJzZWRTaXplLm1lZGlhO1xuXG5cdFx0XHRpZiAoICFsZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhbWVkaWEgfHwgcGYubWF0Y2hlc01lZGlhKCBtZWRpYSApICkge1xuXHRcdFx0XHQvLyBpZiB0aGVyZSBpcyBubyBtZWRpYSBxdWVyeSBvciBpdCBtYXRjaGVzLCBjaG9vc2UgdGhpcyBhcyBvdXIgd2lubmluZyBsZW5ndGhcblx0XHRcdFx0Ly8gYW5kIGVuZCBhbGdvcml0aG1cblx0XHRcdFx0d2lubmluZ0xlbmd0aCA9IGxlbmd0aDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gcGFzcyB0aGUgbGVuZ3RoIHRvIGEgbWV0aG9kIHRoYXQgY2FuIHByb3Blcmx5IGRldGVybWluZSBsZW5ndGhcblx0XHQvLyBpbiBwaXhlbHMgYmFzZWQgb24gdGhlc2UgZm9ybWF0czogaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXZhbHVlcy0zLyNsZW5ndGgtdmFsdWVcblx0XHRyZXR1cm4gcGYuZ2V0V2lkdGhGcm9tTGVuZ3RoKCB3aW5uaW5nTGVuZ3RoICk7XG5cdH07XG5cblx0cGYucGFyc2VTcmNzZXQgPSBmdW5jdGlvbiggc3Jjc2V0ICkge1xuXHRcdC8qKlxuXHRcdCAqIEEgbG90IG9mIHRoaXMgd2FzIHB1bGxlZCBmcm9tIEJvcmlzIFNtdXPigJkgcGFyc2VyIGZvciB0aGUgbm93LWRlZnVuY3QgV0hBVFdHIGBzcmNzZXRgXG5cdFx0ICogaHR0cHM6Ly9naXRodWIuY29tL2JvcmlzbXVzL3NyY3NldC1wb2x5ZmlsbC9ibG9iL21hc3Rlci9qcy9zcmNzZXQtaW5mby5qc1xuXHRcdCAqXG5cdFx0ICogMS4gTGV0IGlucHV0IChgc3Jjc2V0YCkgYmUgdGhlIHZhbHVlIHBhc3NlZCB0byB0aGlzIGFsZ29yaXRobS5cblx0XHQgKiAyLiBMZXQgcG9zaXRpb24gYmUgYSBwb2ludGVyIGludG8gaW5wdXQsIGluaXRpYWxseSBwb2ludGluZyBhdCB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZy5cblx0XHQgKiAzLiBMZXQgcmF3IGNhbmRpZGF0ZXMgYmUgYW4gaW5pdGlhbGx5IGVtcHR5IG9yZGVyZWQgbGlzdCBvZiBVUkxzIHdpdGggYXNzb2NpYXRlZCBcblx0XHQgKiAgICB1bnBhcnNlZCBkZXNjcmlwdG9ycy4gVGhlIG9yZGVyIG9mIGVudHJpZXMgaW4gdGhlIGxpc3QgaXMgdGhlIG9yZGVyIGluIHdoaWNoIGVudHJpZXMgXG5cdFx0ICogICAgYXJlIGFkZGVkIHRvIHRoZSBsaXN0LlxuXHRcdCAqL1xuXHRcdHZhciBjYW5kaWRhdGVzID0gW107XG5cblx0XHR3aGlsZSAoIHNyY3NldCAhPT0gXCJcIiApIHtcblx0XHRcdHNyY3NldCA9IHNyY3NldC5yZXBsYWNlKCAvXlxccysvZywgXCJcIiApO1xuXG5cdFx0XHQvLyA1LiBDb2xsZWN0IGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyB0aGF0IGFyZSBub3Qgc3BhY2UgY2hhcmFjdGVycywgYW5kIGxldCB0aGF0IGJlIHVybC5cblx0XHRcdHZhciBwb3MgPSBzcmNzZXQuc2VhcmNoKC9cXHMvZyksXG5cdFx0XHRcdHVybCwgZGVzY3JpcHRvciA9IG51bGw7XG5cblx0XHRcdGlmICggcG9zICE9PSAtMSApIHtcblx0XHRcdFx0dXJsID0gc3Jjc2V0LnNsaWNlKCAwLCBwb3MgKTtcblxuXHRcdFx0XHR2YXIgbGFzdCA9IHVybC5zbGljZSgtMSk7XG5cblx0XHRcdFx0Ly8gNi4gSWYgdXJsIGVuZHMgd2l0aCBhIFUrMDAyQyBDT01NQSBjaGFyYWN0ZXIgKCwpLCByZW1vdmUgdGhhdCBjaGFyYWN0ZXIgZnJvbSB1cmxcblx0XHRcdFx0Ly8gYW5kIGxldCBkZXNjcmlwdG9ycyBiZSB0aGUgZW1wdHkgc3RyaW5nLiBPdGhlcndpc2UsIGZvbGxvdyB0aGVzZSBzdWJzdGVwc1xuXHRcdFx0XHQvLyA2LjEuIElmIHVybCBpcyBlbXB0eSwgdGhlbiBqdW1wIHRvIHRoZSBzdGVwIGxhYmVsZWQgZGVzY3JpcHRvciBwYXJzZXIuXG5cblx0XHRcdFx0aWYgKCBsYXN0ID09PSBcIixcIiB8fCB1cmwgPT09IFwiXCIgKSB7XG5cdFx0XHRcdFx0dXJsID0gdXJsLnJlcGxhY2UoIC8sKyQvLCBcIlwiICk7XG5cdFx0XHRcdFx0ZGVzY3JpcHRvciA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3Jjc2V0ID0gc3Jjc2V0LnNsaWNlKCBwb3MgKyAxICk7XG5cblx0XHRcdFx0Ly8gNi4yLiBDb2xsZWN0IGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyB0aGF0IGFyZSBub3QgVSswMDJDIENPTU1BIGNoYXJhY3RlcnMgKCwpLCBhbmQgXG5cdFx0XHRcdC8vIGxldCB0aGF0IGJlIGRlc2NyaXB0b3JzLlxuXHRcdFx0XHRpZiAoIGRlc2NyaXB0b3IgPT09IG51bGwgKSB7XG5cdFx0XHRcdFx0dmFyIGRlc2Nwb3MgPSBzcmNzZXQuaW5kZXhPZiggXCIsXCIgKTtcblx0XHRcdFx0XHRpZiAoIGRlc2Nwb3MgIT09IC0xICkge1xuXHRcdFx0XHRcdFx0ZGVzY3JpcHRvciA9IHNyY3NldC5zbGljZSggMCwgZGVzY3BvcyApO1xuXHRcdFx0XHRcdFx0c3Jjc2V0ID0gc3Jjc2V0LnNsaWNlKCBkZXNjcG9zICsgMSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRkZXNjcmlwdG9yID0gc3Jjc2V0O1xuXHRcdFx0XHRcdFx0c3Jjc2V0ID0gXCJcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHVybCA9IHNyY3NldDtcblx0XHRcdFx0c3Jjc2V0ID0gXCJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gNy4gQWRkIHVybCB0byByYXcgY2FuZGlkYXRlcywgYXNzb2NpYXRlZCB3aXRoIGRlc2NyaXB0b3JzLlxuXHRcdFx0aWYgKCB1cmwgfHwgZGVzY3JpcHRvciApIHtcblx0XHRcdFx0Y2FuZGlkYXRlcy5wdXNoKHtcblx0XHRcdFx0XHR1cmw6IHVybCxcblx0XHRcdFx0XHRkZXNjcmlwdG9yOiBkZXNjcmlwdG9yXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY2FuZGlkYXRlcztcblx0fTtcblxuXHRwZi5wYXJzZURlc2NyaXB0b3IgPSBmdW5jdGlvbiggZGVzY3JpcHRvciwgc2l6ZXNhdHRyICkge1xuXHRcdC8vIDExLiBEZXNjcmlwdG9yIHBhcnNlcjogTGV0IGNhbmRpZGF0ZXMgYmUgYW4gaW5pdGlhbGx5IGVtcHR5IHNvdXJjZSBzZXQuIFRoZSBvcmRlciBvZiBlbnRyaWVzIGluIHRoZSBsaXN0IFxuXHRcdC8vIGlzIHRoZSBvcmRlciBpbiB3aGljaCBlbnRyaWVzIGFyZSBhZGRlZCB0byB0aGUgbGlzdC5cblx0XHR2YXIgc2l6ZXMgPSBzaXplc2F0dHIgfHwgXCIxMDB2d1wiLFxuXHRcdFx0c2l6ZURlc2NyaXB0b3IgPSBkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IucmVwbGFjZSggLyheXFxzK3xcXHMrJCkvZywgXCJcIiApLFxuXHRcdFx0d2lkdGhJbkNzc1BpeGVscyA9IHBmLmZpbmRXaWR0aEZyb21Tb3VyY2VTaXplKCBzaXplcyApLFxuXHRcdFx0cmVzQ2FuZGlkYXRlO1xuXG5cdFx0XHRpZiAoIHNpemVEZXNjcmlwdG9yICkge1xuXHRcdFx0XHR2YXIgc3BsaXREZXNjcmlwdG9yID0gc2l6ZURlc2NyaXB0b3Iuc3BsaXQoXCIgXCIpO1xuXG5cdFx0XHRcdGZvciAodmFyIGkgPSBzcGxpdERlc2NyaXB0b3IubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHR2YXIgY3VyciA9IHNwbGl0RGVzY3JpcHRvclsgaSBdLFxuXHRcdFx0XHRcdFx0bGFzdGNoYXIgPSBjdXJyICYmIGN1cnIuc2xpY2UoIGN1cnIubGVuZ3RoIC0gMSApO1xuXG5cdFx0XHRcdFx0aWYgKCAoIGxhc3RjaGFyID09PSBcImhcIiB8fCBsYXN0Y2hhciA9PT0gXCJ3XCIgKSAmJiAhcGYuc2l6ZXNTdXBwb3J0ZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXNDYW5kaWRhdGUgPSBwYXJzZUZsb2F0KCAoIHBhcnNlSW50KCBjdXJyLCAxMCApIC8gd2lkdGhJbkNzc1BpeGVscyApICk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggbGFzdGNoYXIgPT09IFwieFwiICkge1xuXHRcdFx0XHRcdFx0dmFyIHJlcyA9IGN1cnIgJiYgcGFyc2VGbG9hdCggY3VyciwgMTAgKTtcblx0XHRcdFx0XHRcdHJlc0NhbmRpZGF0ZSA9IHJlcyAmJiAhaXNOYU4oIHJlcyApID8gcmVzIDogMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRyZXR1cm4gcmVzQ2FuZGlkYXRlIHx8IDE7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRha2VzIGEgc3Jjc2V0IGluIHRoZSBmb3JtIG9mIHVybC9cblx0ICogZXguIFwiaW1hZ2VzL3BpYy1tZWRpdW0ucG5nIDF4LCBpbWFnZXMvcGljLW1lZGl1bS0yeC5wbmcgMnhcIiBvclxuXHQgKiAgICAgXCJpbWFnZXMvcGljLW1lZGl1bS5wbmcgNDAwdywgaW1hZ2VzL3BpYy1tZWRpdW0tMngucG5nIDgwMHdcIiBvclxuXHQgKiAgICAgXCJpbWFnZXMvcGljLXNtYWxsLnBuZ1wiXG5cdCAqIEdldCBhbiBhcnJheSBvZiBpbWFnZSBjYW5kaWRhdGVzIGluIHRoZSBmb3JtIG9mXG5cdCAqICAgICAge3VybDogXCIvZm9vL2Jhci5wbmdcIiwgcmVzb2x1dGlvbjogMX1cblx0ICogd2hlcmUgcmVzb2x1dGlvbiBpcyBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtdmFsdWVzLTMvI3Jlc29sdXRpb24tdmFsdWVcblx0ICogSWYgc2l6ZXMgaXMgc3BlY2lmaWVkLCByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWRcblx0ICovXG5cdHBmLmdldENhbmRpZGF0ZXNGcm9tU291cmNlU2V0ID0gZnVuY3Rpb24oIHNyY3NldCwgc2l6ZXMgKSB7XG5cdFx0dmFyIGNhbmRpZGF0ZXMgPSBwZi5wYXJzZVNyY3NldCggc3Jjc2V0ICksXG5cdFx0XHRmb3JtYXR0ZWRDYW5kaWRhdGVzID0gW107XG5cblx0XHRmb3IgKCB2YXIgaSA9IDAsIGxlbiA9IGNhbmRpZGF0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHR2YXIgY2FuZGlkYXRlID0gY2FuZGlkYXRlc1sgaSBdO1xuXG5cdFx0XHRmb3JtYXR0ZWRDYW5kaWRhdGVzLnB1c2goe1xuXHRcdFx0XHR1cmw6IGNhbmRpZGF0ZS51cmwsXG5cdFx0XHRcdHJlc29sdXRpb246IHBmLnBhcnNlRGVzY3JpcHRvciggY2FuZGlkYXRlLmRlc2NyaXB0b3IsIHNpemVzIClcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRyZXR1cm4gZm9ybWF0dGVkQ2FuZGlkYXRlcztcblx0fTtcblxuXHQvKipcblx0ICogaWYgaXQncyBhbiBpbWcgZWxlbWVudCBhbmQgaXQgaGFzIGEgc3Jjc2V0IHByb3BlcnR5LFxuXHQgKiB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgYXR0cmlidXRlIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHNyY1xuXHQgKiAodGhlIHByb3BlcnR5J3MgZXhpc3RlbmNlIGluZmVycyBuYXRpdmUgc3Jjc2V0IHN1cHBvcnQsIGFuZCBhIHNyY3NldC1zdXBwb3J0aW5nIGJyb3dzZXIgd2lsbCBwcmlvcml0aXplIHNyY3NldCdzIHZhbHVlIG92ZXIgb3VyIHdpbm5pbmcgcGljdHVyZSBjYW5kaWRhdGUpXG5cdCAqIHRoaXMgbW92ZXMgc3Jjc2V0J3MgdmFsdWUgdG8gbWVtb3J5IGZvciBsYXRlciB1c2UgYW5kIHJlbW92ZXMgdGhlIGF0dHJcblx0ICovXG5cdHBmLmRvZGdlU3Jjc2V0ID0gZnVuY3Rpb24oIGltZyApIHtcblx0XHRpZiAoIGltZy5zcmNzZXQgKSB7XG5cdFx0XHRpbWdbIHBmLm5zIF0uc3Jjc2V0ID0gaW1nLnNyY3NldDtcblx0XHRcdGltZy5yZW1vdmVBdHRyaWJ1dGUoIFwic3Jjc2V0XCIgKTtcblx0XHR9XG5cdH07XG5cblx0Ly8gQWNjZXB0IGEgc291cmNlIG9yIGltZyBlbGVtZW50IGFuZCBwcm9jZXNzIGl0cyBzcmNzZXQgYW5kIHNpemVzIGF0dHJzXG5cdHBmLnByb2Nlc3NTb3VyY2VTZXQgPSBmdW5jdGlvbiggZWwgKSB7XG5cdFx0dmFyIHNyY3NldCA9IGVsLmdldEF0dHJpYnV0ZSggXCJzcmNzZXRcIiApLFxuXHRcdFx0c2l6ZXMgPSBlbC5nZXRBdHRyaWJ1dGUoIFwic2l6ZXNcIiApLFxuXHRcdFx0Y2FuZGlkYXRlcyA9IFtdO1xuXG5cdFx0Ly8gaWYgaXQncyBhbiBpbWcgZWxlbWVudCwgdXNlIHRoZSBjYWNoZWQgc3Jjc2V0IHByb3BlcnR5IChkZWZpbmVkIG9yIG5vdClcblx0XHRpZiAoIGVsLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiSU1HXCIgJiYgZWxbIHBmLm5zIF0gJiYgZWxbIHBmLm5zIF0uc3Jjc2V0ICkge1xuXHRcdFx0c3Jjc2V0ID0gZWxbIHBmLm5zIF0uc3Jjc2V0O1xuXHRcdH1cblxuXHRcdGlmICggc3Jjc2V0ICkge1xuXHRcdFx0Y2FuZGlkYXRlcyA9IHBmLmdldENhbmRpZGF0ZXNGcm9tU291cmNlU2V0KCBzcmNzZXQsIHNpemVzICk7XG5cdFx0fVxuXHRcdHJldHVybiBjYW5kaWRhdGVzO1xuXHR9O1xuXG5cdHBmLmFwcGx5QmVzdENhbmRpZGF0ZSA9IGZ1bmN0aW9uKCBjYW5kaWRhdGVzLCBwaWNJbWcgKSB7XG5cdFx0dmFyIGNhbmRpZGF0ZSxcblx0XHRcdGxlbmd0aCxcblx0XHRcdGJlc3RDYW5kaWRhdGU7XG5cblx0XHRjYW5kaWRhdGVzLnNvcnQoIHBmLmFzY2VuZGluZ1NvcnQgKTtcblxuXHRcdGxlbmd0aCA9IGNhbmRpZGF0ZXMubGVuZ3RoO1xuXHRcdGJlc3RDYW5kaWRhdGUgPSBjYW5kaWRhdGVzWyBsZW5ndGggLSAxIF07XG5cblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdGNhbmRpZGF0ZSA9IGNhbmRpZGF0ZXNbIGkgXTtcblx0XHRcdGlmICggY2FuZGlkYXRlLnJlc29sdXRpb24gPj0gcGYuZ2V0RHByKCkgKSB7XG5cdFx0XHRcdGJlc3RDYW5kaWRhdGUgPSBjYW5kaWRhdGU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggYmVzdENhbmRpZGF0ZSAmJiAhcGYuZW5kc1dpdGgoIHBpY0ltZy5zcmMsIGJlc3RDYW5kaWRhdGUudXJsICkgKSB7XG5cdFx0XHRpZiAoIHBmLnJlc3RyaWN0c01peGVkQ29udGVudCgpICYmIGJlc3RDYW5kaWRhdGUudXJsLnN1YnN0cigwLCBcImh0dHA6XCIubGVuZ3RoKS50b0xvd2VyQ2FzZSgpID09PSBcImh0dHA6XCIgKSB7XG5cdFx0XHRcdGlmICggdHlwZW9mIGNvbnNvbGUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oIFwiQmxvY2tlZCBtaXhlZCBjb250ZW50IGltYWdlIFwiICsgYmVzdENhbmRpZGF0ZS51cmwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGljSW1nLnNyYyA9IGJlc3RDYW5kaWRhdGUudXJsO1xuXHRcdFx0XHQvLyBjdXJyZW50U3JjIGF0dHJpYnV0ZSBhbmQgcHJvcGVydHkgdG8gbWF0Y2hcblx0XHRcdFx0Ly8gaHR0cDovL3BpY3R1cmUucmVzcG9uc2l2ZWltYWdlcy5vcmcvI3RoZS1pbWctZWxlbWVudFxuXHRcdFx0XHRwaWNJbWcuY3VycmVudFNyYyA9IHBpY0ltZy5zcmM7XG5cblx0XHRcdFx0dmFyIHN0eWxlID0gcGljSW1nLnN0eWxlIHx8IHt9LFxuXHRcdFx0XHRcdFdlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eSA9IFwid2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5XCIgaW4gc3R5bGUsXG5cdFx0XHRcdFx0Y3VycmVudFpvb20gPSBzdHlsZS56b29tO1xuXG5cdFx0XHRcdGlmIChXZWJraXRCYWNrZmFjZVZpc2liaWxpdHkpIHsgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRqZWhsL3BpY3R1cmVmaWxsL2lzc3Vlcy8zMzJcblx0XHRcdFx0XHRzdHlsZS56b29tID0gXCIuOTk5XCI7XG5cblx0XHRcdFx0XHRXZWJraXRCYWNrZmFjZVZpc2liaWxpdHkgPSBwaWNJbWcub2Zmc2V0V2lkdGg7XG5cblx0XHRcdFx0XHRzdHlsZS56b29tID0gY3VycmVudFpvb207XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0cGYuYXNjZW5kaW5nU29ydCA9IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdHJldHVybiBhLnJlc29sdXRpb24gLSBiLnJlc29sdXRpb247XG5cdH07XG5cblx0LyoqXG5cdCAqIEluIElFOSwgPHNvdXJjZT4gZWxlbWVudHMgZ2V0IHJlbW92ZWQgaWYgdGhleSBhcmVuJ3QgY2hpbGRyZW4gb2Zcblx0ICogdmlkZW8gZWxlbWVudHMuIFRodXMsIHdlIGNvbmRpdGlvbmFsbHkgd3JhcCBzb3VyY2UgZWxlbWVudHNcblx0ICogdXNpbmcgPCEtLVtpZiBJRSA5XT48dmlkZW8gc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjwhW2VuZGlmXS0tPlxuXHQgKiBhbmQgbXVzdCBhY2NvdW50IGZvciB0aGF0IGhlcmUgYnkgbW92aW5nIHRob3NlIHNvdXJjZSBlbGVtZW50c1xuXHQgKiBiYWNrIGludG8gdGhlIHBpY3R1cmUgZWxlbWVudC5cblx0ICovXG5cdHBmLnJlbW92ZVZpZGVvU2hpbSA9IGZ1bmN0aW9uKCBwaWN0dXJlICkge1xuXHRcdHZhciB2aWRlb3MgPSBwaWN0dXJlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInZpZGVvXCIgKTtcblx0XHRpZiAoIHZpZGVvcy5sZW5ndGggKSB7XG5cdFx0XHR2YXIgdmlkZW8gPSB2aWRlb3NbIDAgXSxcblx0XHRcdFx0dnNvdXJjZXMgPSB2aWRlby5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJzb3VyY2VcIiApO1xuXHRcdFx0d2hpbGUgKCB2c291cmNlcy5sZW5ndGggKSB7XG5cdFx0XHRcdHBpY3R1cmUuaW5zZXJ0QmVmb3JlKCB2c291cmNlc1sgMCBdLCB2aWRlbyApO1xuXHRcdFx0fVxuXHRcdFx0Ly8gUmVtb3ZlIHRoZSB2aWRlbyBlbGVtZW50IG9uY2Ugd2UncmUgZmluaXNoZWQgcmVtb3ZpbmcgaXRzIGNoaWxkcmVuXG5cdFx0XHR2aWRlby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB2aWRlbyApO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRmluZCBhbGwgYGltZ2AgZWxlbWVudHMsIGFuZCBhZGQgdGhlbSB0byB0aGUgY2FuZGlkYXRlIGxpc3QgaWYgdGhleSBoYXZlXG5cdCAqIGEgYHBpY3R1cmVgIHBhcmVudCwgYSBgc2l6ZXNgIGF0dHJpYnV0ZSBpbiBiYXNpYyBgc3Jjc2V0YCBzdXBwb3J0aW5nIGJyb3dzZXJzLFxuXHQgKiBhIGBzcmNzZXRgIGF0dHJpYnV0ZSBhdCBhbGwsIGFuZCB0aGV5IGhhdmVu4oCZdCBiZWVuIGV2YWx1YXRlZCBhbHJlYWR5LlxuXHQgKi9cblx0cGYuZ2V0QWxsRWxlbWVudHMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbXMgPSBbXSxcblx0XHRcdGltZ3MgPSBkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwiaW1nXCIgKTtcblxuXHRcdGZvciAoIHZhciBoID0gMCwgbGVuID0gaW1ncy5sZW5ndGg7IGggPCBsZW47IGgrKyApIHtcblx0XHRcdHZhciBjdXJySW1nID0gaW1nc1sgaCBdO1xuXG5cdFx0XHRpZiAoIGN1cnJJbWcucGFyZW50Tm9kZS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIlBJQ1RVUkVcIiB8fFxuXHRcdFx0KCBjdXJySW1nLmdldEF0dHJpYnV0ZSggXCJzcmNzZXRcIiApICE9PSBudWxsICkgfHwgY3VyckltZ1sgcGYubnMgXSAmJiBjdXJySW1nWyBwZi5ucyBdLnNyY3NldCAhPT0gbnVsbCApIHtcblx0XHRcdFx0ZWxlbXMucHVzaCggY3VyckltZyApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZWxlbXM7XG5cdH07XG5cblx0cGYuZ2V0TWF0Y2ggPSBmdW5jdGlvbiggaW1nLCBwaWN0dXJlICkge1xuXHRcdHZhciBzb3VyY2VzID0gcGljdHVyZS5jaGlsZE5vZGVzLFxuXHRcdFx0bWF0Y2g7XG5cblx0XHQvLyBHbyB0aHJvdWdoIGVhY2ggY2hpbGQsIGFuZCBpZiB0aGV5IGhhdmUgbWVkaWEgcXVlcmllcywgZXZhbHVhdGUgdGhlbVxuXHRcdGZvciAoIHZhciBqID0gMCwgc2xlbiA9IHNvdXJjZXMubGVuZ3RoOyBqIDwgc2xlbjsgaisrICkge1xuXHRcdFx0dmFyIHNvdXJjZSA9IHNvdXJjZXNbIGogXTtcblxuXHRcdFx0Ly8gaWdub3JlIG5vbi1lbGVtZW50IG5vZGVzXG5cdFx0XHRpZiAoIHNvdXJjZS5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhpdHRpbmcgdGhlIGBpbWdgIGVsZW1lbnQgdGhhdCBzdGFydGVkIGV2ZXJ5dGhpbmcgc3RvcHMgdGhlIHNlYXJjaCBmb3IgYHNvdXJjZXNgLlxuXHRcdFx0Ly8gSWYgbm8gcHJldmlvdXMgYHNvdXJjZWAgbWF0Y2hlcywgdGhlIGBpbWdgIGl0c2VsZiBpcyBldmFsdWF0ZWQgbGF0ZXIuXG5cdFx0XHRpZiAoIHNvdXJjZSA9PT0gaW1nICkge1xuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlnbm9yZSBub24tYHNvdXJjZWAgbm9kZXNcblx0XHRcdGlmICggc291cmNlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgIT09IFwiU09VUkNFXCIgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0Ly8gaWYgaXQncyBhIHNvdXJjZSBlbGVtZW50IHRoYXQgaGFzIHRoZSBgc3JjYCBwcm9wZXJ0eSBzZXQsIHRocm93IGEgd2FybmluZyBpbiB0aGUgY29uc29sZVxuXHRcdFx0aWYgKCBzb3VyY2UuZ2V0QXR0cmlidXRlKCBcInNyY1wiICkgIT09IG51bGwgJiYgdHlwZW9mIGNvbnNvbGUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKFwiVGhlIGBzcmNgIGF0dHJpYnV0ZSBpcyBpbnZhbGlkIG9uIGBwaWN0dXJlYCBgc291cmNlYCBlbGVtZW50OyBpbnN0ZWFkLCB1c2UgYHNyY3NldGAuXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbWVkaWEgPSBzb3VyY2UuZ2V0QXR0cmlidXRlKCBcIm1lZGlhXCIgKTtcblxuXHRcdFx0Ly8gaWYgc291cmNlIGRvZXMgbm90IGhhdmUgYSBzcmNzZXQgYXR0cmlidXRlLCBza2lwXG5cdFx0XHRpZiAoICFzb3VyY2UuZ2V0QXR0cmlidXRlKCBcInNyY3NldFwiICkgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiB0aGVyZSdzIG5vIG1lZGlhIHNwZWNpZmllZCwgT1Igdy5tYXRjaE1lZGlhIGlzIHN1cHBvcnRlZFxuXHRcdFx0aWYgKCAoICFtZWRpYSB8fCBwZi5tYXRjaGVzTWVkaWEoIG1lZGlhICkgKSApIHtcblx0XHRcdFx0dmFyIHR5cGVTdXBwb3J0ZWQgPSBwZi52ZXJpZnlUeXBlU3VwcG9ydCggc291cmNlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlU3VwcG9ydGVkID09PSB0cnVlICkge1xuXHRcdFx0XHRcdG1hdGNoID0gc291cmNlO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCB0eXBlU3VwcG9ydGVkID09PSBcInBlbmRpbmdcIiApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbWF0Y2g7XG5cdH07XG5cblx0ZnVuY3Rpb24gcGljdHVyZWZpbGwoIG9wdCApIHtcblx0XHR2YXIgZWxlbWVudHMsXG5cdFx0XHRlbGVtZW50LFxuXHRcdFx0cGFyZW50LFxuXHRcdFx0Zmlyc3RNYXRjaCxcblx0XHRcdGNhbmRpZGF0ZXMsXG5cdFx0XHRvcHRpb25zID0gb3B0IHx8IHt9O1xuXG5cdFx0ZWxlbWVudHMgPSBvcHRpb25zLmVsZW1lbnRzIHx8IHBmLmdldEFsbEVsZW1lbnRzKCk7XG5cblx0XHQvLyBMb29wIHRocm91Z2ggYWxsIGVsZW1lbnRzXG5cdFx0Zm9yICggdmFyIGkgPSAwLCBwbGVuID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgcGxlbjsgaSsrICkge1xuXHRcdFx0ZWxlbWVudCA9IGVsZW1lbnRzWyBpIF07XG5cdFx0XHRwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cdFx0XHRmaXJzdE1hdGNoID0gdW5kZWZpbmVkO1xuXHRcdFx0Y2FuZGlkYXRlcyA9IHVuZGVmaW5lZDtcblxuXHRcdFx0Ly8gaW1tZWRpYXRlbHkgc2tpcCBub24tYGltZ2Agbm9kZXNcblx0XHRcdGlmICggZWxlbWVudC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpICE9PSBcIklNR1wiICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZXhwYW5kbyBmb3IgY2FjaGluZyBkYXRhIG9uIHRoZSBpbWdcblx0XHRcdGlmICggIWVsZW1lbnRbIHBmLm5zIF0gKSB7XG5cdFx0XHRcdGVsZW1lbnRbIHBmLm5zIF0gPSB7fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gaWYgdGhlIGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBldmFsdWF0ZWQsIHNraXAgaXQgdW5sZXNzXG5cdFx0XHQvLyBgb3B0aW9ucy5yZWV2YWx1YXRlYCBpcyBzZXQgdG8gdHJ1ZSAoIHRoaXMsIGZvciBleGFtcGxlLFxuXHRcdFx0Ly8gaXMgc2V0IHRvIHRydWUgd2hlbiBydW5uaW5nIGBwaWN0dXJlZmlsbGAgb24gYHJlc2l6ZWAgKS5cblx0XHRcdGlmICggIW9wdGlvbnMucmVldmFsdWF0ZSAmJiBlbGVtZW50WyBwZi5ucyBdLmV2YWx1YXRlZCApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlmIGBpbWdgIGlzIGluIGEgYHBpY3R1cmVgIGVsZW1lbnRcblx0XHRcdGlmICggcGFyZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09IFwiUElDVFVSRVwiICkge1xuXG5cdFx0XHRcdC8vIElFOSB2aWRlbyB3b3JrYXJvdW5kXG5cdFx0XHRcdHBmLnJlbW92ZVZpZGVvU2hpbSggcGFyZW50ICk7XG5cblx0XHRcdFx0Ly8gcmV0dXJuIHRoZSBmaXJzdCBtYXRjaCB3aGljaCBtaWdodCB1bmRlZmluZWRcblx0XHRcdFx0Ly8gcmV0dXJucyBmYWxzZSBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgc291cmNlXG5cdFx0XHRcdC8vIFRPRE8gdGhlIHJldHVybiB0eXBlIGhlcmUgaXMgYnJ1dGFsLCBjbGVhbnVwXG5cdFx0XHRcdGZpcnN0TWF0Y2ggPSBwZi5nZXRNYXRjaCggZWxlbWVudCwgcGFyZW50ICk7XG5cblx0XHRcdFx0Ly8gaWYgYW55IHNvdXJjZXMgYXJlIHBlbmRpbmcgaW4gdGhpcyBwaWN0dXJlIGR1ZSB0byBhc3luYyB0eXBlIHRlc3Qocylcblx0XHRcdFx0Ly8gcmVtb3ZlIHRoZSBldmFsdWF0ZWQgYXR0ciBhbmQgc2tpcCBmb3Igbm93ICggdGhlIHBlbmRpbmcgdGVzdCB3aWxsXG5cdFx0XHRcdC8vIHJlcnVuIHBpY3R1cmVmaWxsIG9uIHRoaXMgZWxlbWVudCB3aGVuIGNvbXBsZXRlKVxuXHRcdFx0XHRpZiAoIGZpcnN0TWF0Y2ggPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmaXJzdE1hdGNoID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWNoZSBhbmQgcmVtb3ZlIGBzcmNzZXRgIGlmIHByZXNlbnQgYW5kIHdl4oCZcmUgZ29pbmcgdG8gYmUgZG9pbmcgYHBpY3R1cmVgL2BzcmNzZXRgL2BzaXplc2AgcG9seWZpbGxpbmcgdG8gaXQuXG5cdFx0XHRpZiAoIHBhcmVudC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIlBJQ1RVUkVcIiB8fFxuXHRcdFx0KCBlbGVtZW50LnNyY3NldCAmJiAhcGYuc3Jjc2V0U3VwcG9ydGVkICkgfHxcblx0XHRcdCggIXBmLnNpemVzU3VwcG9ydGVkICYmICggZWxlbWVudC5zcmNzZXQgJiYgZWxlbWVudC5zcmNzZXQuaW5kZXhPZihcIndcIikgPiAtMSApICkgKSB7XG5cdFx0XHRcdHBmLmRvZGdlU3Jjc2V0KCBlbGVtZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZmlyc3RNYXRjaCApIHtcblx0XHRcdFx0Y2FuZGlkYXRlcyA9IHBmLnByb2Nlc3NTb3VyY2VTZXQoIGZpcnN0TWF0Y2ggKTtcblx0XHRcdFx0cGYuYXBwbHlCZXN0Q2FuZGlkYXRlKCBjYW5kaWRhdGVzLCBlbGVtZW50ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBObyBzb3VyY2VzIG1hdGNoZWQsIHNvIHdl4oCZcmUgZG93biB0byBwcm9jZXNzaW5nIHRoZSBpbm5lciBgaW1nYCBhcyBhIHNvdXJjZS5cblx0XHRcdFx0Y2FuZGlkYXRlcyA9IHBmLnByb2Nlc3NTb3VyY2VTZXQoIGVsZW1lbnQgKTtcblxuXHRcdFx0XHRpZiAoIGVsZW1lbnQuc3Jjc2V0ID09PSB1bmRlZmluZWQgfHwgZWxlbWVudFsgcGYubnMgXS5zcmNzZXQgKSB7XG5cdFx0XHRcdFx0Ly8gRWl0aGVyIGBzcmNzZXRgIGlzIGNvbXBsZXRlbHkgdW5zdXBwb3J0ZWQsIG9yIHdlIG5lZWQgdG8gcG9seWZpbGwgYHNpemVzYCBmdW5jdGlvbmFsaXR5LlxuXHRcdFx0XHRcdHBmLmFwcGx5QmVzdENhbmRpZGF0ZSggY2FuZGlkYXRlcywgZWxlbWVudCApO1xuXHRcdFx0XHR9IC8vIEVsc2UsIHJlc29sdXRpb24tb25seSBgc3Jjc2V0YCBpcyBzdXBwb3J0ZWQgbmF0aXZlbHkuXG5cdFx0XHR9XG5cblx0XHRcdC8vIHNldCBldmFsdWF0ZWQgdG8gdHJ1ZSB0byBhdm9pZCB1bm5lY2Vzc2FyeSByZXBhcnNpbmdcblx0XHRcdGVsZW1lbnRbIHBmLm5zIF0uZXZhbHVhdGVkID0gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB1cCBwaWN0dXJlIHBvbHlmaWxsIGJ5IHBvbGxpbmcgdGhlIGRvY3VtZW50IGFuZCBydW5uaW5nXG5cdCAqIHRoZSBwb2x5ZmlsbCBldmVyeSAyNTBtcyB1bnRpbCB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXG5cdCAqIEFsc28gYXR0YWNoZXMgcGljdHVyZWZpbGwgb24gcmVzaXplXG5cdCAqL1xuXHRmdW5jdGlvbiBydW5QaWN0dXJlZmlsbCgpIHtcblx0XHRwaWN0dXJlZmlsbCgpO1xuXHRcdHZhciBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gV2hlbiB0aGUgZG9jdW1lbnQgaGFzIGZpbmlzaGVkIGxvYWRpbmcsIHN0b3AgY2hlY2tpbmcgZm9yIG5ldyBpbWFnZXNcblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kZWQvZG9tcmVhZHkvYmxvYi9tYXN0ZXIvcmVhZHkuanMjTDE1XG5cdFx0XHRwaWN0dXJlZmlsbCgpO1xuXHRcdFx0aWYgKCAvXmxvYWRlZHxeaXxeYy8udGVzdCggZG9jLnJlYWR5U3RhdGUgKSApIHtcblx0XHRcdFx0Y2xlYXJJbnRlcnZhbCggaW50ZXJ2YWxJZCApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fSwgMjUwICk7XG5cblx0XHRmdW5jdGlvbiBjaGVja1Jlc2l6ZSgpIHtcblx0XHRcdHZhciByZXNpemVUaHJvdHRsZTtcblxuXHRcdFx0aWYgKCAhdy5fcGljdHVyZWZpbGxXb3JraW5nICkge1xuXHRcdFx0XHR3Ll9waWN0dXJlZmlsbFdvcmtpbmcgPSB0cnVlO1xuXHRcdFx0XHR3LmNsZWFyVGltZW91dCggcmVzaXplVGhyb3R0bGUgKTtcblx0XHRcdFx0cmVzaXplVGhyb3R0bGUgPSB3LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHBpY3R1cmVmaWxsKHsgcmVldmFsdWF0ZTogdHJ1ZSB9KTtcblx0XHRcdFx0XHR3Ll9waWN0dXJlZmlsbFdvcmtpbmcgPSBmYWxzZTtcblx0XHRcdFx0fSwgNjAgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIHcuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHcuYWRkRXZlbnRMaXN0ZW5lciggXCJyZXNpemVcIiwgY2hlY2tSZXNpemUsIGZhbHNlICk7XG5cdFx0fSBlbHNlIGlmICggdy5hdHRhY2hFdmVudCApIHtcblx0XHRcdHcuYXR0YWNoRXZlbnQoIFwib25yZXNpemVcIiwgY2hlY2tSZXNpemUgKTtcblx0XHR9XG5cdH1cblxuXHRydW5QaWN0dXJlZmlsbCgpO1xuXG5cdC8qIGV4cG9zZSBtZXRob2RzIGZvciB0ZXN0aW5nICovXG5cdHBpY3R1cmVmaWxsLl8gPSBwZjtcblxuXHQvKiBleHBvc2UgcGljdHVyZWZpbGwgKi9cblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHQvLyBDb21tb25KUywganVzdCBleHBvcnRcblx0XHRtb2R1bGUuZXhwb3J0cyA9IHBpY3R1cmVmaWxsO1xuXHR9IGVsc2UgaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCApIHtcblx0XHQvLyBBTUQgc3VwcG9ydFxuXHRcdGRlZmluZSggZnVuY3Rpb24oKSB7IHJldHVybiBwaWN0dXJlZmlsbDsgfSApO1xuXHR9IGVsc2UgaWYgKCB0eXBlb2YgdyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHQvLyBJZiBubyBBTUQgYW5kIHdlIGFyZSBpbiB0aGUgYnJvd3NlciwgYXR0YWNoIHRvIHdpbmRvd1xuXHRcdHcucGljdHVyZWZpbGwgPSBwaWN0dXJlZmlsbDtcblx0fVxuXG59ICkoIHRoaXMsIHRoaXMuZG9jdW1lbnQsIG5ldyB0aGlzLkltYWdlKCkgKTtcblxuLyohXG4gKiB2ZXJnZSAxLjkuMSsyMDE0MDIxMzA4MDNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yeWFudmUvdmVyZ2VcbiAqIE1JVCBMaWNlbnNlIDIwMTMgUnlhbiBWYW4gRXR0ZW5cbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgbmFtZSwgbWFrZSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGVbJ2V4cG9ydHMnXSkgbW9kdWxlWydleHBvcnRzJ10gPSBtYWtlKCk7XG4gIGVsc2Ugcm9vdFtuYW1lXSA9IG1ha2UoKTtcbn0odGhpcywgJ3ZlcmdlJywgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHhwb3J0cyA9IHt9XG4gICAgLCB3aW4gPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvd1xuICAgICwgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnICYmIGRvY3VtZW50XG4gICAgLCBkb2NFbGVtID0gZG9jICYmIGRvYy5kb2N1bWVudEVsZW1lbnRcbiAgICAsIG1hdGNoTWVkaWEgPSB3aW5bJ21hdGNoTWVkaWEnXSB8fCB3aW5bJ21zTWF0Y2hNZWRpYSddXG4gICAgLCBtcSA9IG1hdGNoTWVkaWEgPyBmdW5jdGlvbihxKSB7XG4gICAgICAgIHJldHVybiAhIW1hdGNoTWVkaWEuY2FsbCh3aW4sIHEpLm1hdGNoZXM7XG4gICAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAsIHZpZXdwb3J0VyA9IHhwb3J0c1sndmlld3BvcnRXJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGEgPSBkb2NFbGVtWydjbGllbnRXaWR0aCddLCBiID0gd2luWydpbm5lcldpZHRoJ107XG4gICAgICAgIHJldHVybiBhIDwgYiA/IGIgOiBhO1xuICAgICAgfVxuICAgICwgdmlld3BvcnRIID0geHBvcnRzWyd2aWV3cG9ydEgnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYSA9IGRvY0VsZW1bJ2NsaWVudEhlaWdodCddLCBiID0gd2luWydpbm5lckhlaWdodCddO1xuICAgICAgICByZXR1cm4gYSA8IGIgPyBiIDogYTtcbiAgICAgIH07XG4gIFxuICAvKiogXG4gICAqIFRlc3QgaWYgYSBtZWRpYSBxdWVyeSBpcyBhY3RpdmUuIExpa2UgTW9kZXJuaXpyLm1xXG4gICAqIEBzaW5jZSAxLjYuMFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi8gIFxuICB4cG9ydHNbJ21xJ10gPSBtcTtcblxuICAvKiogXG4gICAqIE5vcm1hbGl6ZWQgbWF0Y2hNZWRpYVxuICAgKiBAc2luY2UgMS42LjBcbiAgICogQHJldHVybiB7TWVkaWFRdWVyeUxpc3R8T2JqZWN0fVxuICAgKi8gXG4gIHhwb3J0c1snbWF0Y2hNZWRpYSddID0gbWF0Y2hNZWRpYSA/IGZ1bmN0aW9uKCkge1xuICAgIC8vIG1hdGNoTWVkaWEgbXVzdCBiZSBiaW5kZWQgdG8gd2luZG93XG4gICAgcmV0dXJuIG1hdGNoTWVkaWEuYXBwbHkod2luLCBhcmd1bWVudHMpO1xuICB9IDogZnVuY3Rpb24oKSB7XG4gICAgLy8gR3JhY2VmdWxseSBkZWdyYWRlIHRvIHBsYWluIG9iamVjdFxuICAgIHJldHVybiB7fTtcbiAgfTtcblxuICAvKipcbiAgICogQHNpbmNlIDEuOC4wXG4gICAqIEByZXR1cm4ge3t3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXJ9fVxuICAgKi9cbiAgZnVuY3Rpb24gdmlld3BvcnQoKSB7XG4gICAgcmV0dXJuIHsnd2lkdGgnOnZpZXdwb3J0VygpLCAnaGVpZ2h0Jzp2aWV3cG9ydEgoKX07XG4gIH1cbiAgeHBvcnRzWyd2aWV3cG9ydCddID0gdmlld3BvcnQ7XG4gIFxuICAvKiogXG4gICAqIENyb3NzLWJyb3dzZXIgd2luZG93LnNjcm9sbFhcbiAgICogQHNpbmNlIDEuMC4wXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIHhwb3J0c1snc2Nyb2xsWCddID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHdpbi5wYWdlWE9mZnNldCB8fCBkb2NFbGVtLnNjcm9sbExlZnQ7IFxuICB9O1xuXG4gIC8qKiBcbiAgICogQ3Jvc3MtYnJvd3NlciB3aW5kb3cuc2Nyb2xsWVxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgeHBvcnRzWydzY3JvbGxZJ10gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gd2luLnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wOyBcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHt7dG9wOm51bWJlciwgcmlnaHQ6bnVtYmVyLCBib3R0b206bnVtYmVyLCBsZWZ0Om51bWJlcn19IGNvb3Jkc1xuICAgKiBAcGFyYW0ge251bWJlcj19IGN1c2hpb24gYWRqdXN0bWVudFxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBmdW5jdGlvbiBjYWxpYnJhdGUoY29vcmRzLCBjdXNoaW9uKSB7XG4gICAgdmFyIG8gPSB7fTtcbiAgICBjdXNoaW9uID0gK2N1c2hpb24gfHwgMDtcbiAgICBvWyd3aWR0aCddID0gKG9bJ3JpZ2h0J10gPSBjb29yZHNbJ3JpZ2h0J10gKyBjdXNoaW9uKSAtIChvWydsZWZ0J10gPSBjb29yZHNbJ2xlZnQnXSAtIGN1c2hpb24pO1xuICAgIG9bJ2hlaWdodCddID0gKG9bJ2JvdHRvbSddID0gY29vcmRzWydib3R0b20nXSArIGN1c2hpb24pIC0gKG9bJ3RvcCddID0gY29vcmRzWyd0b3AnXSAtIGN1c2hpb24pO1xuICAgIHJldHVybiBvO1xuICB9XG5cbiAgLyoqXG4gICAqIENyb3NzLWJyb3dzZXIgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgcGx1cyBvcHRpb25hbCBjdXNoaW9uLlxuICAgKiBDb29yZHMgYXJlIHJlbGF0aXZlIHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIHZpZXdwb3J0LlxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWwgZWxlbWVudCBvciBzdGFjayAodXNlcyBmaXJzdCBpdGVtKVxuICAgKiBAcGFyYW0ge251bWJlcj19IGN1c2hpb24gKy8tIHBpeGVsIGFkanVzdG1lbnQgYW1vdW50XG4gICAqIEByZXR1cm4ge09iamVjdHxib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gcmVjdGFuZ2xlKGVsLCBjdXNoaW9uKSB7XG4gICAgZWwgPSBlbCAmJiAhZWwubm9kZVR5cGUgPyBlbFswXSA6IGVsO1xuICAgIGlmICghZWwgfHwgMSAhPT0gZWwubm9kZVR5cGUpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gY2FsaWJyYXRlKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBjdXNoaW9uKTtcbiAgfVxuICB4cG9ydHNbJ3JlY3RhbmdsZSddID0gcmVjdGFuZ2xlO1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXdwb3J0IGFzcGVjdCByYXRpbyAob3IgdGhlIGFzcGVjdCByYXRpbyBvZiBhbiBvYmplY3Qgb3IgZWxlbWVudClcbiAgICogQHNpbmNlIDEuNy4wXG4gICAqIEBwYXJhbSB7KEVsZW1lbnR8T2JqZWN0KT19IG8gb3B0aW9uYWwgb2JqZWN0IHdpdGggd2lkdGgvaGVpZ2h0IHByb3BzIG9yIG1ldGhvZHNcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiBAbGluayBodHRwOi8vdzMub3JnL1RSL2NzczMtbWVkaWFxdWVyaWVzLyNvcmllbnRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXNwZWN0KG8pIHtcbiAgICBvID0gbnVsbCA9PSBvID8gdmlld3BvcnQoKSA6IDEgPT09IG8ubm9kZVR5cGUgPyByZWN0YW5nbGUobykgOiBvO1xuICAgIHZhciBoID0gb1snaGVpZ2h0J10sIHcgPSBvWyd3aWR0aCddO1xuICAgIGggPSB0eXBlb2YgaCA9PSAnZnVuY3Rpb24nID8gaC5jYWxsKG8pIDogaDtcbiAgICB3ID0gdHlwZW9mIHcgPT0gJ2Z1bmN0aW9uJyA/IHcuY2FsbChvKSA6IHc7XG4gICAgcmV0dXJuIHcvaDtcbiAgfVxuICB4cG9ydHNbJ2FzcGVjdCddID0gYXNwZWN0O1xuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGFuIGVsZW1lbnQgaXMgaW4gdGhlIHNhbWUgeC1heGlzIHNlY3Rpb24gYXMgdGhlIHZpZXdwb3J0LlxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjdXNoaW9uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB4cG9ydHNbJ2luWCddID0gZnVuY3Rpb24oZWwsIGN1c2hpb24pIHtcbiAgICB2YXIgciA9IHJlY3RhbmdsZShlbCwgY3VzaGlvbik7XG4gICAgcmV0dXJuICEhciAmJiByLnJpZ2h0ID49IDAgJiYgci5sZWZ0IDw9IHZpZXdwb3J0VygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGFuIGVsZW1lbnQgaXMgaW4gdGhlIHNhbWUgeS1heGlzIHNlY3Rpb24gYXMgdGhlIHZpZXdwb3J0LlxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjdXNoaW9uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB4cG9ydHNbJ2luWSddID0gZnVuY3Rpb24oZWwsIGN1c2hpb24pIHtcbiAgICB2YXIgciA9IHJlY3RhbmdsZShlbCwgY3VzaGlvbik7XG4gICAgcmV0dXJuICEhciAmJiByLmJvdHRvbSA+PSAwICYmIHIudG9wIDw9IHZpZXdwb3J0SCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGFuIGVsZW1lbnQgaXMgaW4gdGhlIHZpZXdwb3J0LlxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjdXNoaW9uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB4cG9ydHNbJ2luVmlld3BvcnQnXSA9IGZ1bmN0aW9uKGVsLCBjdXNoaW9uKSB7XG4gICAgLy8gRXF1aXYgdG8gYGluWChlbCwgY3VzaGlvbikgJiYgaW5ZKGVsLCBjdXNoaW9uKWAgYnV0IGp1c3QgbWFudWFsbHkgZG8gYm90aCBcbiAgICAvLyB0byBhdm9pZCBjYWxsaW5nIHJlY3RhbmdsZSgpIHR3aWNlLiBJdCBnemlwcyBqdXN0IGFzIHNtYWxsIGxpa2UgdGhpcy5cbiAgICB2YXIgciA9IHJlY3RhbmdsZShlbCwgY3VzaGlvbik7XG4gICAgcmV0dXJuICEhciAmJiByLmJvdHRvbSA+PSAwICYmIHIucmlnaHQgPj0gMCAmJiByLnRvcCA8PSB2aWV3cG9ydEgoKSAmJiByLmxlZnQgPD0gdmlld3BvcnRXKCk7XG4gIH07XG5cbiAgcmV0dXJuIHhwb3J0cztcbn0pKTtcbihmdW5jdGlvbigpIHtcbiAgdmFyIE11dGF0aW9uT2JzZXJ2ZXIsIFV0aWwsIFdlYWtNYXAsIGdldENvbXB1dGVkU3R5bGUsIGdldENvbXB1dGVkU3R5bGVSWCxcbiAgICBfX2JpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9LFxuICAgIF9faW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9O1xuXG4gIFV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gVXRpbCgpIHt9XG5cbiAgICBVdGlsLnByb3RvdHlwZS5leHRlbmQgPSBmdW5jdGlvbihjdXN0b20sIGRlZmF1bHRzKSB7XG4gICAgICB2YXIga2V5LCB2YWx1ZTtcbiAgICAgIGZvciAoa2V5IGluIGRlZmF1bHRzKSB7XG4gICAgICAgIHZhbHVlID0gZGVmYXVsdHNba2V5XTtcbiAgICAgICAgaWYgKGN1c3RvbVtrZXldID09IG51bGwpIHtcbiAgICAgICAgICBjdXN0b21ba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VzdG9tO1xuICAgIH07XG5cbiAgICBVdGlsLnByb3RvdHlwZS5pc01vYmlsZSA9IGZ1bmN0aW9uKGFnZW50KSB7XG4gICAgICByZXR1cm4gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KGFnZW50KTtcbiAgICB9O1xuXG4gICAgVXRpbC5wcm90b3R5cGUuYWRkRXZlbnQgPSBmdW5jdGlvbihlbGVtLCBldmVudCwgZm4pIHtcbiAgICAgIGlmIChlbGVtLmFkZEV2ZW50TGlzdGVuZXIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZWxlbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmIChlbGVtLmF0dGFjaEV2ZW50ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGVsZW0uYXR0YWNoRXZlbnQoXCJvblwiICsgZXZlbnQsIGZuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBlbGVtW2V2ZW50XSA9IGZuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBVdGlsLnByb3RvdHlwZS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKGVsZW0sIGV2ZW50LCBmbikge1xuICAgICAgaWYgKGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGZuLCBmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKGVsZW0uZGV0YWNoRXZlbnQgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZWxlbS5kZXRhY2hFdmVudChcIm9uXCIgKyBldmVudCwgZm4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZSBlbGVtW2V2ZW50XTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgVXRpbC5wcm90b3R5cGUuaW5uZXJIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgnaW5uZXJIZWlnaHQnIGluIHdpbmRvdykge1xuICAgICAgICByZXR1cm4gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBVdGlsO1xuXG4gIH0pKCk7XG5cbiAgV2Vha01hcCA9IHRoaXMuV2Vha01hcCB8fCB0aGlzLk1veldlYWtNYXAgfHwgKFdlYWtNYXAgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gV2Vha01hcCgpIHtcbiAgICAgIHRoaXMua2V5cyA9IFtdO1xuICAgICAgdGhpcy52YWx1ZXMgPSBbXTtcbiAgICB9XG5cbiAgICBXZWFrTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBpLCBpdGVtLCBfaSwgX2xlbiwgX3JlZjtcbiAgICAgIF9yZWYgPSB0aGlzLmtleXM7XG4gICAgICBmb3IgKGkgPSBfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBpID0gKytfaSkge1xuICAgICAgICBpdGVtID0gX3JlZltpXTtcbiAgICAgICAgaWYgKGl0ZW0gPT09IGtleSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBXZWFrTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgaSwgaXRlbSwgX2ksIF9sZW4sIF9yZWY7XG4gICAgICBfcmVmID0gdGhpcy5rZXlzO1xuICAgICAgZm9yIChpID0gX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgaSA9ICsrX2kpIHtcbiAgICAgICAgaXRlbSA9IF9yZWZbaV07XG4gICAgICAgIGlmIChpdGVtID09PSBrZXkpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5rZXlzLnB1c2goa2V5KTtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFdlYWtNYXA7XG5cbiAgfSkoKSk7XG5cbiAgTXV0YXRpb25PYnNlcnZlciA9IHRoaXMuTXV0YXRpb25PYnNlcnZlciB8fCB0aGlzLldlYmtpdE11dGF0aW9uT2JzZXJ2ZXIgfHwgdGhpcy5Nb3pNdXRhdGlvbk9ic2VydmVyIHx8IChNdXRhdGlvbk9ic2VydmVyID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIE11dGF0aW9uT2JzZXJ2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uc29sZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ011dGF0aW9uT2JzZXJ2ZXIgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIuJyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uc29sZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1dPVy5qcyBjYW5ub3QgZGV0ZWN0IGRvbSBtdXRhdGlvbnMsIHBsZWFzZSBjYWxsIC5zeW5jKCkgYWZ0ZXIgbG9hZGluZyBuZXcgY29udGVudC4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBNdXRhdGlvbk9ic2VydmVyLm5vdFN1cHBvcnRlZCA9IHRydWU7XG5cbiAgICBNdXRhdGlvbk9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24oKSB7fTtcblxuICAgIHJldHVybiBNdXRhdGlvbk9ic2VydmVyO1xuXG4gIH0pKCkpO1xuXG4gIGdldENvbXB1dGVkU3R5bGUgPSB0aGlzLmdldENvbXB1dGVkU3R5bGUgfHwgZnVuY3Rpb24oZWwsIHBzZXVkbykge1xuICAgIHRoaXMuZ2V0UHJvcGVydHlWYWx1ZSA9IGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgIHZhciBfcmVmO1xuICAgICAgaWYgKHByb3AgPT09ICdmbG9hdCcpIHtcbiAgICAgICAgcHJvcCA9ICdzdHlsZUZsb2F0JztcbiAgICAgIH1cbiAgICAgIGlmIChnZXRDb21wdXRlZFN0eWxlUlgudGVzdChwcm9wKSkge1xuICAgICAgICBwcm9wLnJlcGxhY2UoZ2V0Q29tcHV0ZWRTdHlsZVJYLCBmdW5jdGlvbihfLCBfY2hhcikge1xuICAgICAgICAgIHJldHVybiBfY2hhci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoKF9yZWYgPSBlbC5jdXJyZW50U3R5bGUpICE9IG51bGwgPyBfcmVmW3Byb3BdIDogdm9pZCAwKSB8fCBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZ2V0Q29tcHV0ZWRTdHlsZVJYID0gLyhcXC0oW2Etel0pezF9KS9nO1xuXG4gIHRoaXMuV09XID0gKGZ1bmN0aW9uKCkge1xuICAgIFdPVy5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgICBib3hDbGFzczogJ3dvdycsXG4gICAgICBhbmltYXRlQ2xhc3M6ICdhbmltYXRlZCcsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgICBtb2JpbGU6IHRydWUsXG4gICAgICBsaXZlOiB0cnVlLFxuICAgICAgY2FsbGJhY2s6IG51bGxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gV09XKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgdGhpcy5zY3JvbGxDYWxsYmFjayA9IF9fYmluZCh0aGlzLnNjcm9sbENhbGxiYWNrLCB0aGlzKTtcbiAgICAgIHRoaXMuc2Nyb2xsSGFuZGxlciA9IF9fYmluZCh0aGlzLnNjcm9sbEhhbmRsZXIsIHRoaXMpO1xuICAgICAgdGhpcy5zdGFydCA9IF9fYmluZCh0aGlzLnN0YXJ0LCB0aGlzKTtcbiAgICAgIHRoaXMuc2Nyb2xsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5jb25maWcgPSB0aGlzLnV0aWwoKS5leHRlbmQob3B0aW9ucywgdGhpcy5kZWZhdWx0cyk7XG4gICAgICB0aGlzLmFuaW1hdGlvbk5hbWVDYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgfVxuXG4gICAgV09XLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX3JlZjtcbiAgICAgIHRoaXMuZWxlbWVudCA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICBpZiAoKF9yZWYgPSBkb2N1bWVudC5yZWFkeVN0YXRlKSA9PT0gXCJpbnRlcmFjdGl2ZVwiIHx8IF9yZWYgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnV0aWwoKS5hZGRFdmVudChkb2N1bWVudCwgJ0RPTUNvbnRlbnRMb2FkZWQnLCB0aGlzLnN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmZpbmlzaGVkID0gW107XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBib3gsIF9pLCBfbGVuLCBfcmVmO1xuICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmJveGVzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzO1xuICAgICAgICBfcmVmID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyB0aGlzLmNvbmZpZy5ib3hDbGFzcyk7XG4gICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgIGJveCA9IF9yZWZbX2ldO1xuICAgICAgICAgIF9yZXN1bHRzLnB1c2goYm94KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICB9KS5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5hbGwgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7XG4gICAgICAgIF9yZWYgPSB0aGlzLmJveGVzO1xuICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICBib3ggPSBfcmVmW19pXTtcbiAgICAgICAgICBfcmVzdWx0cy5wdXNoKGJveCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgfSkuY2FsbCh0aGlzKTtcbiAgICAgIGlmICh0aGlzLmJveGVzLmxlbmd0aCkge1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCgpKSB7XG4gICAgICAgICAgdGhpcy5yZXNldFN0eWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3JlZiA9IHRoaXMuYm94ZXM7XG4gICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICBib3ggPSBfcmVmW19pXTtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlTdHlsZShib3gsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKCkpIHtcbiAgICAgICAgdGhpcy51dGlsKCkuYWRkRXZlbnQod2luZG93LCAnc2Nyb2xsJywgdGhpcy5zY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgdGhpcy51dGlsKCkuYWRkRXZlbnQod2luZG93LCAncmVzaXplJywgdGhpcy5zY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMuc2Nyb2xsQ2FsbGJhY2ssIDUwKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNvbmZpZy5saXZlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVjb3Jkcykge1xuICAgICAgICAgICAgdmFyIG5vZGUsIHJlY29yZCwgX2osIF9sZW4xLCBfcmVzdWx0cztcbiAgICAgICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgICAgICBmb3IgKF9qID0gMCwgX2xlbjEgPSByZWNvcmRzLmxlbmd0aDsgX2ogPCBfbGVuMTsgX2orKykge1xuICAgICAgICAgICAgICByZWNvcmQgPSByZWNvcmRzW19qXTtcbiAgICAgICAgICAgICAgX3Jlc3VsdHMucHVzaCgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9rLCBfbGVuMiwgX3JlZjEsIF9yZXN1bHRzMTtcbiAgICAgICAgICAgICAgICBfcmVmMSA9IHJlY29yZC5hZGRlZE5vZGVzIHx8IFtdO1xuICAgICAgICAgICAgICAgIF9yZXN1bHRzMSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoX2sgPSAwLCBfbGVuMiA9IF9yZWYxLmxlbmd0aDsgX2sgPCBfbGVuMjsgX2srKykge1xuICAgICAgICAgICAgICAgICAgbm9kZSA9IF9yZWYxW19rXTtcbiAgICAgICAgICAgICAgICAgIF9yZXN1bHRzMS5wdXNoKHRoaXMuZG9TeW5jKG5vZGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZXN1bHRzMTtcbiAgICAgICAgICAgICAgfSkuY2FsbChfdGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pKHRoaXMpKS5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgV09XLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgdGhpcy51dGlsKCkucmVtb3ZlRXZlbnQod2luZG93LCAnc2Nyb2xsJywgdGhpcy5zY3JvbGxIYW5kbGVyKTtcbiAgICAgIHRoaXMudXRpbCgpLnJlbW92ZUV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuc2Nyb2xsSGFuZGxlcik7XG4gICAgICBpZiAodGhpcy5pbnRlcnZhbCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLnN5bmMgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBpZiAoTXV0YXRpb25PYnNlcnZlci5ub3RTdXBwb3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9TeW5jKHRoaXMuZWxlbWVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuZG9TeW5jID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmFyIGJveCwgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzO1xuICAgICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50O1xuICAgICAgX3JlZiA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5cIiArIHRoaXMuY29uZmlnLmJveENsYXNzKTtcbiAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgYm94ID0gX3JlZltfaV07XG4gICAgICAgIGlmIChfX2luZGV4T2YuY2FsbCh0aGlzLmFsbCwgYm94KSA8IDApIHtcbiAgICAgICAgICB0aGlzLmJveGVzLnB1c2goYm94KTtcbiAgICAgICAgICB0aGlzLmFsbC5wdXNoKGJveCk7XG4gICAgICAgICAgaWYgKHRoaXMuc3RvcHBlZCB8fCB0aGlzLmRpc2FibGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRTdHlsZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFwcGx5U3R5bGUoYm94LCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaCh0aGlzLnNjcm9sbGVkID0gdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaCh2b2lkIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKGJveCkge1xuICAgICAgdGhpcy5hcHBseVN0eWxlKGJveCk7XG4gICAgICBib3guY2xhc3NOYW1lID0gXCJcIiArIGJveC5jbGFzc05hbWUgKyBcIiBcIiArIHRoaXMuY29uZmlnLmFuaW1hdGVDbGFzcztcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5jYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5jYWxsYmFjayhib3gpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLmFwcGx5U3R5bGUgPSBmdW5jdGlvbihib3gsIGhpZGRlbikge1xuICAgICAgdmFyIGRlbGF5LCBkdXJhdGlvbiwgaXRlcmF0aW9uO1xuICAgICAgZHVyYXRpb24gPSBib3guZ2V0QXR0cmlidXRlKCdkYXRhLXdvdy1kdXJhdGlvbicpO1xuICAgICAgZGVsYXkgPSBib3guZ2V0QXR0cmlidXRlKCdkYXRhLXdvdy1kZWxheScpO1xuICAgICAgaXRlcmF0aW9uID0gYm94LmdldEF0dHJpYnV0ZSgnZGF0YS13b3ctaXRlcmF0aW9uJyk7XG4gICAgICByZXR1cm4gdGhpcy5hbmltYXRlKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmN1c3RvbVN0eWxlKGJveCwgaGlkZGVuLCBkdXJhdGlvbiwgZGVsYXksIGl0ZXJhdGlvbik7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuYW5pbWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIGlmICgncmVxdWVzdEFuaW1hdGlvbkZyYW1lJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSkoKTtcblxuICAgIFdPVy5wcm90b3R5cGUucmVzZXRTdHlsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGJveCwgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzO1xuICAgICAgX3JlZiA9IHRoaXMuYm94ZXM7XG4gICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIGJveCA9IF9yZWZbX2ldO1xuICAgICAgICBfcmVzdWx0cy5wdXNoKGJveC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICB9O1xuXG4gICAgV09XLnByb3RvdHlwZS5jdXN0b21TdHlsZSA9IGZ1bmN0aW9uKGJveCwgaGlkZGVuLCBkdXJhdGlvbiwgZGVsYXksIGl0ZXJhdGlvbikge1xuICAgICAgaWYgKGhpZGRlbikge1xuICAgICAgICB0aGlzLmNhY2hlQW5pbWF0aW9uTmFtZShib3gpO1xuICAgICAgfVxuICAgICAgYm94LnN0eWxlLnZpc2liaWxpdHkgPSBoaWRkZW4gPyAnaGlkZGVuJyA6ICd2aXNpYmxlJztcbiAgICAgIGlmIChkdXJhdGlvbikge1xuICAgICAgICB0aGlzLnZlbmRvclNldChib3guc3R5bGUsIHtcbiAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogZHVyYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgdGhpcy52ZW5kb3JTZXQoYm94LnN0eWxlLCB7XG4gICAgICAgICAgYW5pbWF0aW9uRGVsYXk6IGRlbGF5XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGlvbikge1xuICAgICAgICB0aGlzLnZlbmRvclNldChib3guc3R5bGUsIHtcbiAgICAgICAgICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogaXRlcmF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy52ZW5kb3JTZXQoYm94LnN0eWxlLCB7XG4gICAgICAgIGFuaW1hdGlvbk5hbWU6IGhpZGRlbiA/ICdub25lJyA6IHRoaXMuY2FjaGVkQW5pbWF0aW9uTmFtZShib3gpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBib3g7XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUudmVuZG9ycyA9IFtcIm1velwiLCBcIndlYmtpdFwiXTtcblxuICAgIFdPVy5wcm90b3R5cGUudmVuZG9yU2V0ID0gZnVuY3Rpb24oZWxlbSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIG5hbWUsIHZhbHVlLCB2ZW5kb3IsIF9yZXN1bHRzO1xuICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAobmFtZSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHZhbHVlID0gcHJvcGVydGllc1tuYW1lXTtcbiAgICAgICAgZWxlbVtcIlwiICsgbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgX3Jlc3VsdHMucHVzaCgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0czE7XG4gICAgICAgICAgX3JlZiA9IHRoaXMudmVuZG9ycztcbiAgICAgICAgICBfcmVzdWx0czEgPSBbXTtcbiAgICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgIHZlbmRvciA9IF9yZWZbX2ldO1xuICAgICAgICAgICAgX3Jlc3VsdHMxLnB1c2goZWxlbVtcIlwiICsgdmVuZG9yICsgKG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkpICsgKG5hbWUuc3Vic3RyKDEpKV0gPSB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcmVzdWx0czE7XG4gICAgICAgIH0pLmNhbGwodGhpcykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLnZlbmRvckNTUyA9IGZ1bmN0aW9uKGVsZW0sIHByb3BlcnR5KSB7XG4gICAgICB2YXIgcmVzdWx0LCBzdHlsZSwgdmVuZG9yLCBfaSwgX2xlbiwgX3JlZjtcbiAgICAgIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICAgIHJlc3VsdCA9IHN0eWxlLmdldFByb3BlcnR5Q1NTVmFsdWUocHJvcGVydHkpO1xuICAgICAgX3JlZiA9IHRoaXMudmVuZG9ycztcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICB2ZW5kb3IgPSBfcmVmW19pXTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0IHx8IHN0eWxlLmdldFByb3BlcnR5Q1NTVmFsdWUoXCItXCIgKyB2ZW5kb3IgKyBcIi1cIiArIHByb3BlcnR5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuYW5pbWF0aW9uTmFtZSA9IGZ1bmN0aW9uKGJveCkge1xuICAgICAgdmFyIGFuaW1hdGlvbk5hbWU7XG4gICAgICB0cnkge1xuICAgICAgICBhbmltYXRpb25OYW1lID0gdGhpcy52ZW5kb3JDU1MoYm94LCAnYW5pbWF0aW9uLW5hbWUnKS5jc3NUZXh0O1xuICAgICAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICAgIGFuaW1hdGlvbk5hbWUgPSBnZXRDb21wdXRlZFN0eWxlKGJveCkuZ2V0UHJvcGVydHlWYWx1ZSgnYW5pbWF0aW9uLW5hbWUnKTtcbiAgICAgIH1cbiAgICAgIGlmIChhbmltYXRpb25OYW1lID09PSAnbm9uZScpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbk5hbWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuY2FjaGVBbmltYXRpb25OYW1lID0gZnVuY3Rpb24oYm94KSB7XG4gICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25OYW1lQ2FjaGUuc2V0KGJveCwgdGhpcy5hbmltYXRpb25OYW1lKGJveCkpO1xuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLmNhY2hlZEFuaW1hdGlvbk5hbWUgPSBmdW5jdGlvbihib3gpIHtcbiAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbk5hbWVDYWNoZS5nZXQoYm94KTtcbiAgICB9O1xuXG4gICAgV09XLnByb3RvdHlwZS5zY3JvbGxIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JvbGxlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUuc2Nyb2xsQ2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBib3g7XG4gICAgICBpZiAodGhpcy5zY3JvbGxlZCkge1xuICAgICAgICB0aGlzLnNjcm9sbGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYm94ZXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0cztcbiAgICAgICAgICBfcmVmID0gdGhpcy5ib3hlcztcbiAgICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgICAgYm94ID0gX3JlZltfaV07XG4gICAgICAgICAgICBpZiAoIShib3gpKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKGJveCkpIHtcbiAgICAgICAgICAgICAgdGhpcy5zaG93KGJveCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3Jlc3VsdHMucHVzaChib3gpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICAgIH0pLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICghKHRoaXMuYm94ZXMubGVuZ3RoIHx8IHRoaXMuY29uZmlnLmxpdmUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIFdPVy5wcm90b3R5cGUub2Zmc2V0VG9wID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmFyIHRvcDtcbiAgICAgIHdoaWxlIChlbGVtZW50Lm9mZnNldFRvcCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgICB0b3AgPSBlbGVtZW50Lm9mZnNldFRvcDtcbiAgICAgIHdoaWxlIChlbGVtZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQpIHtcbiAgICAgICAgdG9wICs9IGVsZW1lbnQub2Zmc2V0VG9wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRvcDtcbiAgICB9O1xuXG4gICAgV09XLnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbihib3gpIHtcbiAgICAgIHZhciBib3R0b20sIG9mZnNldCwgdG9wLCB2aWV3Qm90dG9tLCB2aWV3VG9wO1xuICAgICAgb2Zmc2V0ID0gYm94LmdldEF0dHJpYnV0ZSgnZGF0YS13b3ctb2Zmc2V0JykgfHwgdGhpcy5jb25maWcub2Zmc2V0O1xuICAgICAgdmlld1RvcCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgIHZpZXdCb3R0b20gPSB2aWV3VG9wICsgTWF0aC5taW4odGhpcy5lbGVtZW50LmNsaWVudEhlaWdodCwgdGhpcy51dGlsKCkuaW5uZXJIZWlnaHQoKSkgLSBvZmZzZXQ7XG4gICAgICB0b3AgPSB0aGlzLm9mZnNldFRvcChib3gpO1xuICAgICAgYm90dG9tID0gdG9wICsgYm94LmNsaWVudEhlaWdodDtcbiAgICAgIHJldHVybiB0b3AgPD0gdmlld0JvdHRvbSAmJiBib3R0b20gPj0gdmlld1RvcDtcbiAgICB9O1xuXG4gICAgV09XLnByb3RvdHlwZS51dGlsID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdXRpbCAhPSBudWxsID8gdGhpcy5fdXRpbCA6IHRoaXMuX3V0aWwgPSBuZXcgVXRpbCgpO1xuICAgIH07XG5cbiAgICBXT1cucHJvdG90eXBlLmRpc2FibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXRoaXMuY29uZmlnLm1vYmlsZSAmJiB0aGlzLnV0aWwoKS5pc01vYmlsZShuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFdPVztcblxuICB9KSgpO1xuXG59KS5jYWxsKHRoaXMpO1xuLyohXG4gKiBTaXRlIGNvZGVcbiAqLyBcbm5ldyBXT1coKS5pbml0KCk7IiwiLyohXG4gKiB2ZXJnZSAxLjkuMSsyMDE0MDIxMzA4MDNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yeWFudmUvdmVyZ2VcbiAqIE1JVCBMaWNlbnNlIDIwMTMgUnlhbiBWYW4gRXR0ZW5cbiAqL1xuXG4oZnVuY3Rpb24ocm9vdCwgbmFtZSwgbWFrZSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGVbJ2V4cG9ydHMnXSkgbW9kdWxlWydleHBvcnRzJ10gPSBtYWtlKCk7XG4gIGVsc2Ugcm9vdFtuYW1lXSA9IG1ha2UoKTtcbn0odGhpcywgJ3ZlcmdlJywgZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHhwb3J0cyA9IHt9XG4gICAgLCB3aW4gPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvd1xuICAgICwgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnICYmIGRvY3VtZW50XG4gICAgLCBkb2NFbGVtID0gZG9jICYmIGRvYy5kb2N1bWVudEVsZW1lbnRcbiAgICAsIG1hdGNoTWVkaWEgPSB3aW5bJ21hdGNoTWVkaWEnXSB8fCB3aW5bJ21zTWF0Y2hNZWRpYSddXG4gICAgLCBtcSA9IG1hdGNoTWVkaWEgPyBmdW5jdGlvbihxKSB7XG4gICAgICAgIHJldHVybiAhIW1hdGNoTWVkaWEuY2FsbCh3aW4sIHEpLm1hdGNoZXM7XG4gICAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAsIHZpZXdwb3J0VyA9IHhwb3J0c1sndmlld3BvcnRXJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGEgPSBkb2NFbGVtWydjbGllbnRXaWR0aCddLCBiID0gd2luWydpbm5lcldpZHRoJ107XG4gICAgICAgIHJldHVybiBhIDwgYiA/IGIgOiBhO1xuICAgICAgfVxuICAgICwgdmlld3BvcnRIID0geHBvcnRzWyd2aWV3cG9ydEgnXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYSA9IGRvY0VsZW1bJ2NsaWVudEhlaWdodCddLCBiID0gd2luWydpbm5lckhlaWdodCddO1xuICAgICAgICByZXR1cm4gYSA8IGIgPyBiIDogYTtcbiAgICAgIH07XG4gIFxuICAvKiogXG4gICAqIFRlc3QgaWYgYSBtZWRpYSBxdWVyeSBpcyBhY3RpdmUuIExpa2UgTW9kZXJuaXpyLm1xXG4gICAqIEBzaW5jZSAxLjYuMFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi8gIFxuICB4cG9ydHNbJ21xJ10gPSBtcTtcblxuICAvKiogXG4gICAqIE5vcm1hbGl6ZWQgbWF0Y2hNZWRpYVxuICAgKiBAc2luY2UgMS42LjBcbiAgICogQHJldHVybiB7TWVkaWFRdWVyeUxpc3R8T2JqZWN0fVxuICAgKi8gXG4gIHhwb3J0c1snbWF0Y2hNZWRpYSddID0gbWF0Y2hNZWRpYSA/IGZ1bmN0aW9uKCkge1xuICAgIC8vIG1hdGNoTWVkaWEgbXVzdCBiZSBiaW5kZWQgdG8gd2luZG93XG4gICAgcmV0dXJuIG1hdGNoTWVkaWEuYXBwbHkod2luLCBhcmd1bWVudHMpO1xuICB9IDogZnVuY3Rpb24oKSB7XG4gICAgLy8gR3JhY2VmdWxseSBkZWdyYWRlIHRvIHBsYWluIG9iamVjdFxuICAgIHJldHVybiB7fTtcbiAgfTtcblxuICAvKipcbiAgICogQHNpbmNlIDEuOC4wXG4gICAqIEByZXR1cm4ge3t3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXJ9fVxuICAgKi9cbiAgZnVuY3Rpb24gdmlld3BvcnQoKSB7XG4gICAgcmV0dXJuIHsnd2lkdGgnOnZpZXdwb3J0VygpLCAnaGVpZ2h0Jzp2aWV3cG9ydEgoKX07XG4gIH1cbiAgeHBvcnRzWyd2aWV3cG9ydCddID0gdmlld3BvcnQ7XG4gIFxuICAvKiogXG4gICAqIENyb3NzLWJyb3dzZXIgd2luZG93LnNjcm9sbFhcbiAgICogQHNpbmNlIDEuMC4wXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIHhwb3J0c1snc2Nyb2xsWCddID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHdpbi5wYWdlWE9mZnNldCB8fCBkb2NFbGVtLnNjcm9sbExlZnQ7IFxuICB9O1xuXG4gIC8qKiBcbiAgICogQ3Jvc3MtYnJvd3NlciB3aW5kb3cuc2Nyb2xsWVxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKi9cbiAgeHBvcnRzWydzY3JvbGxZJ10gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gd2luLnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wOyBcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHt7dG9wOm51bWJlciwgcmlnaHQ6bnVtYmVyLCBib3R0b206bnVtYmVyLCBsZWZ0Om51bWJlcn19IGNvb3Jkc1xuICAgKiBAcGFyYW0ge251bWJlcj19IGN1c2hpb24gYWRqdXN0bWVudFxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBmdW5jdGlvbiBjYWxpYnJhdGUoY29vcmRzLCBjdXNoaW9uKSB7XG4gICAgdmFyIG8gPSB7fTtcbiAgICBjdXNoaW9uID0gK2N1c2hpb24gfHwgMDtcbiAgICBvWyd3aWR0aCddID0gKG9bJ3JpZ2h0J10gPSBjb29yZHNbJ3JpZ2h0J10gKyBjdXNoaW9uKSAtIChvWydsZWZ0J10gPSBjb29yZHNbJ2xlZnQnXSAtIGN1c2hpb24pO1xuICAgIG9bJ2hlaWdodCddID0gKG9bJ2JvdHRvbSddID0gY29vcmRzWydib3R0b20nXSArIGN1c2hpb24pIC0gKG9bJ3RvcCddID0gY29vcmRzWyd0b3AnXSAtIGN1c2hpb24pO1xuICAgIHJldHVybiBvO1xuICB9XG5cbiAgLyoqXG4gICAqIENyb3NzLWJyb3dzZXIgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgcGx1cyBvcHRpb25hbCBjdXNoaW9uLlxuICAgKiBDb29yZHMgYXJlIHJlbGF0aXZlIHRvIHRoZSB0b3AtbGVmdCBjb3JuZXIgb2YgdGhlIHZpZXdwb3J0LlxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWwgZWxlbWVudCBvciBzdGFjayAodXNlcyBmaXJzdCBpdGVtKVxuICAgKiBAcGFyYW0ge251bWJlcj19IGN1c2hpb24gKy8tIHBpeGVsIGFkanVzdG1lbnQgYW1vdW50XG4gICAqIEByZXR1cm4ge09iamVjdHxib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gcmVjdGFuZ2xlKGVsLCBjdXNoaW9uKSB7XG4gICAgZWwgPSBlbCAmJiAhZWwubm9kZVR5cGUgPyBlbFswXSA6IGVsO1xuICAgIGlmICghZWwgfHwgMSAhPT0gZWwubm9kZVR5cGUpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gY2FsaWJyYXRlKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBjdXNoaW9uKTtcbiAgfVxuICB4cG9ydHNbJ3JlY3RhbmdsZSddID0gcmVjdGFuZ2xlO1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZpZXdwb3J0IGFzcGVjdCByYXRpbyAob3IgdGhlIGFzcGVjdCByYXRpbyBvZiBhbiBvYmplY3Qgb3IgZWxlbWVudClcbiAgICogQHNpbmNlIDEuNy4wXG4gICAqIEBwYXJhbSB7KEVsZW1lbnR8T2JqZWN0KT19IG8gb3B0aW9uYWwgb2JqZWN0IHdpdGggd2lkdGgvaGVpZ2h0IHByb3BzIG9yIG1ldGhvZHNcbiAgICogQHJldHVybiB7bnVtYmVyfVxuICAgKiBAbGluayBodHRwOi8vdzMub3JnL1RSL2NzczMtbWVkaWFxdWVyaWVzLyNvcmllbnRhdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gYXNwZWN0KG8pIHtcbiAgICBvID0gbnVsbCA9PSBvID8gdmlld3BvcnQoKSA6IDEgPT09IG8ubm9kZVR5cGUgPyByZWN0YW5nbGUobykgOiBvO1xuICAgIHZhciBoID0gb1snaGVpZ2h0J10sIHcgPSBvWyd3aWR0aCddO1xuICAgIGggPSB0eXBlb2YgaCA9PSAnZnVuY3Rpb24nID8gaC5jYWxsKG8pIDogaDtcbiAgICB3ID0gdHlwZW9mIHcgPT0gJ2Z1bmN0aW9uJyA/IHcuY2FsbChvKSA6IHc7XG4gICAgcmV0dXJuIHcvaDtcbiAgfVxuICB4cG9ydHNbJ2FzcGVjdCddID0gYXNwZWN0O1xuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGFuIGVsZW1lbnQgaXMgaW4gdGhlIHNhbWUgeC1heGlzIHNlY3Rpb24gYXMgdGhlIHZpZXdwb3J0LlxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjdXNoaW9uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB4cG9ydHNbJ2luWCddID0gZnVuY3Rpb24oZWwsIGN1c2hpb24pIHtcbiAgICB2YXIgciA9IHJlY3RhbmdsZShlbCwgY3VzaGlvbik7XG4gICAgcmV0dXJuICEhciAmJiByLnJpZ2h0ID49IDAgJiYgci5sZWZ0IDw9IHZpZXdwb3J0VygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGFuIGVsZW1lbnQgaXMgaW4gdGhlIHNhbWUgeS1heGlzIHNlY3Rpb24gYXMgdGhlIHZpZXdwb3J0LlxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjdXNoaW9uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB4cG9ydHNbJ2luWSddID0gZnVuY3Rpb24oZWwsIGN1c2hpb24pIHtcbiAgICB2YXIgciA9IHJlY3RhbmdsZShlbCwgY3VzaGlvbik7XG4gICAgcmV0dXJuICEhciAmJiByLmJvdHRvbSA+PSAwICYmIHIudG9wIDw9IHZpZXdwb3J0SCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGFuIGVsZW1lbnQgaXMgaW4gdGhlIHZpZXdwb3J0LlxuICAgKiBAc2luY2UgMS4wLjBcbiAgICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjdXNoaW9uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICB4cG9ydHNbJ2luVmlld3BvcnQnXSA9IGZ1bmN0aW9uKGVsLCBjdXNoaW9uKSB7XG4gICAgLy8gRXF1aXYgdG8gYGluWChlbCwgY3VzaGlvbikgJiYgaW5ZKGVsLCBjdXNoaW9uKWAgYnV0IGp1c3QgbWFudWFsbHkgZG8gYm90aCBcbiAgICAvLyB0byBhdm9pZCBjYWxsaW5nIHJlY3RhbmdsZSgpIHR3aWNlLiBJdCBnemlwcyBqdXN0IGFzIHNtYWxsIGxpa2UgdGhpcy5cbiAgICB2YXIgciA9IHJlY3RhbmdsZShlbCwgY3VzaGlvbik7XG4gICAgcmV0dXJuICEhciAmJiByLmJvdHRvbSA+PSAwICYmIHIucmlnaHQgPj0gMCAmJiByLnRvcCA8PSB2aWV3cG9ydEgoKSAmJiByLmxlZnQgPD0gdmlld3BvcnRXKCk7XG4gIH07XG5cbiAgcmV0dXJuIHhwb3J0cztcbn0pKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=